!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexcsvscenarioplugin=t():e.rexcsvscenarioplugin=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=242)}({1:function(e,t){e.exports=function(e,t,n){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var r=t.split("."),i=e,o=n,s=0;s<r.length;s++){if(!i.hasOwnProperty(r[s])){o=n;break}o=i[r[s]],i=i[r[s]]}return o}return n}return n}},12:function(e,t,n){"use strict";t.a=function(e){if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t]}},16:function(e,t,n){"use strict";t.a=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},21:function(e,t,n){"use strict";var r=n(12);t.a=function(e,t){var n=Array.isArray(e);if(void 0===t?t=n?[]:{}:Object(r.a)(t),n){t.length=e.length;for(var i=0,o=e.length;i<o;i++)t[i]=e[i]}else for(var s in e)t[s]=e[s];return t}},242:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(1),o=n.n(i),s=n(59),a=n.n(s),u=n(21),c=n(12);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=Phaser.Utils.Objects.GetValue,h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scenario=t,this.queue=[],this.currentIdx=-1,this.nextIdx=0}var t,n,r;return t=e,(n=[{key:"resetFromJSON",value:function(e){var t=f(e,"queue",void 0);return void 0===t?Object(c.a)(this.queue):Object(u.a)(t,this.queue),this.currentIdx=f(e,"curIdx",-1),this.nextIdx=f(e,"nextIdx",0),this}},{key:"clear",value:function(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}},{key:"append",value:function(e){return this.queue.push(e),this}},{key:"setNextIndex",value:function(e){return void 0===e&&(e=this.currentIdx+1),this.nextIdx=e,this}},{key:"get",value:function(e){return void 0===e&&(e=this.nextIdx),this.currentIdx=e,this.queue[e]}},{key:"length",get:function(){return this.queue.length}}])&&l(t.prototype,n),r&&l(t,r),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scenario=t,this.type=n}var t,n,r;return t=e,(n=[{key:"resetFromJSON",value:function(e){}},{key:"toJSON",value:function(){return{}}},{key:"parse",value:function(e,t){return e}},{key:"run",value:function(e){}}])&&p(t.prototype,n),r&&p(t,r),e}(),y=n(68),m=n(51);function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Phaser.Utils.Array.SpliceOne,O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,_(t).call(this,e,"-"))).task=void 0,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,d),n=t,(r=[{key:"resetFromJSON",value:function(e){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}},{key:"parse",value:function(e,t){var n=w(e,0),r=this.scenario,i=r.argsConvert,o=r.argsConvertScope;if(i){!0===i&&(i=m.a,o=void 0);for(var s=1,a=e.length;s<a;s++)e[s]=o?i.call(o,e[s],e):i(e[s],e)}return e=[n,e]}},{key:"run",value:function(e){var t=this.scenario,n=Object(y.a)(e[1],t.scope);n&&"function"==typeof n.once?(n.once("complete",this.resume,this),this.pause(),this.task=n):this.task=void 0}},{key:"pause",value:function(){this.scenario.pause()}},{key:"resume",value:function(){this.task=void 0;var e=this.scenario;e.resume(),e.runNextCmd()}}])&&b(n.prototype,r),i&&b(n,i),t}();function E(e){"@babel/helpers - typeof";return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,x(t).call(this,e,"wait"))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,d),n=t,(r=[{key:"parse",value:function(e,t){e.length=2;var n=this.getEventName(e);return isNaN(n)||(e[1]=parseFloat(n)),e}},{key:"run",value:function(e){var t=this.getEventName(e);"number"==typeof t?this.waitTime(t):this.waitEvent(t)}},{key:"waitTime",value:function(e){e>this.scenario.offset?(e-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+e),this.scenario.wait(e)):this.scenario.offset-=e}},{key:"waitEvent",value:function(e){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+e),this.scenario.wait(e)}},{key:"getEventName",value:function(e){var t=e[1];return null==t&&(t="",e[1]=t),t}}])&&S(n.prototype,r),i&&S(n,i),t}();function R(e){"@babel/helpers - typeof";return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=Phaser.Utils.Objects.GetValue,D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,I(t).call(this,e,"label"))).labels={},n.prevLabel="",n.lastLabel="",n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,d),n=t,(r=[{key:"resetFromJSON",value:function(e){this.prevLabel=N(e,"preLabel",""),this.lastLabel=N(e,"lastLabel","");var t=N(e,"labels",void 0);void 0===t?Object(c.a)(this.labels):Object(u.a)(t,this.labels)}},{key:"toJSON",value:function(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}},{key:"parse",value:function(e,t){e.length=2;var n=this.getLabel(e);return this.addLabel(n,t),e}},{key:"run",value:function(e){var t=this.getLabel(e);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+t),this.prevLabel=this.lastLabel,this.lastLabel=t;var n=this.scenario;n.emit("labelchange",this.lastLabel,this.prevLabel,n)}},{key:"getLabel",value:function(e){var t=e[1];return null==t&&(t="",e[1]=t),t}},{key:"addLabel",value:function(e,t){this.labels[e]=t}},{key:"getIndex",value:function(e){return""!==e&&this.hasLabel(e)?this.labels[e]:0}},{key:"hasLabel",value:function(e){return this.labels.hasOwnProperty(e)}}])&&L(n.prototype,r),i&&L(n,i),t}();function M(e){"@babel/helpers - typeof";return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,z(t).call(this,e,"exit"))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,d),n=t,(r=[{key:"parse",value:function(e,t){return e.length=1,e}},{key:"run",value:function(e){this.scenario.log("#EXIT"),this.scenario.complete()}}])&&F(n.prototype,r),i&&F(n,i),t}();function H(e){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,B(t).call(this,e,"goto"))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,d),n=t,(r=[{key:"parse",value:function(e,t){return e.length=2,e}},{key:"run",value:function(e){var t=this.getLabel(e);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+t),this.scenario.goto(t)}},{key:"getLabel",value:function(e){var t=e[1];return null==t&&(t="",e[1]=t),t}}])&&W(n.prototype,r),i&&W(n,i),t}();function V(e){"@babel/helpers - typeof";return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,Y(t).call(this,e,"if"))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,d),n=t,(r=[{key:"parse",value:function(e,t){e.length=4;var n="("+this.getCond(e)+")";return e[1]=new Function("return "+n),e}},{key:"run",value:function(e){var t=this.getCond(e).call(this.scenario.scope),n=t?this.getTrueLabel(e):this.getFalseLabel(e);""!==n&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+t+"- GOTO label: "+n),this.scenario.goto(n))}},{key:"getCond",value:function(e){var t=e[1];return null!=t&&""!==t||(t="true",e[1]=t),t}},{key:"getTrueLabel",value:function(e){var t=e[2];return null==t&&(t="",e[2]=t),t}},{key:"getFalseLabel",value:function(e){var t=e[3];return null==t&&(t="",e[3]=t),t}}])&&$(n.prototype,r),i&&$(n,i),t}();function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=Phaser.Utils.Objects.GetValue,re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cmds={"-":new O(t),wait:new j(t),label:new D(t),exit:new q(t),goto:new Q(t),if:new ee(t)}}var t,n,r;return t=e,(n=[{key:"resetFromJSON",value:function(e){for(var t in this.cmds)this.cmds[t].resetFromJSON(ne(e,t,void 0));return this}},{key:"toJSON",value:function(){var e={};for(var t in this.cmds)e[t]=this.cmds[t].toJSON();return e}},{key:"get",value:function(e){return this.cmds[e]}},{key:"isValidCmdName",value:function(e){return this.cmds.hasOwnProperty(e)}}])&&te(t.prototype,n),r&&te(t,r),e}();function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setEventEmitter(o()(n,"eventEmitter",void 0)),this.scene=t,this.timer=void 0,this.instMem=new h(this),this.cmdHandlers=new re(this),this.resetFromJSON(n),this.boot()}var t,n,r;return t=e,(n=[{key:"resetFromJSON",value:function(e){return this._inRunCmdLoop=!1,this.isRunning=o()(e,"state",!1),this.isPaused=o()(e,"pause",!1),this.waitEvent=o()(e,"wait",void 0),this.scope=o()(e,"scope",void 0),this.timeUnit=o()(e,"timeUnit",0),this.cmdPrefix=o()(e,"prefix",ae),this.argsConvert=o()(e,"argsConvert",!0),this.argsConvertScope=o()(e,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON(o()(e,"handlers",void 0)),this.instMem.resetFromJSON(o()(e,"instMem",void 0)),this}},{key:"toJSON",value:function(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.clear(),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(e,t,n){return this.clear(),this.timeUnit=o()(n,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=se[this.timeUnit]),this.cmdPrefix=o()(n,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=o()(n,"argsConvert",this.argsConvert),this.argsConvertScope=o()(n,"argsConvertScope",this.argsConvertScope),this.scope=t,this.append(e),this}},{key:"clear",value:function(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}},{key:"start",value:function(e){this.stop();var t=o()(e,"label","");return this.offset=o()(e,"offset",0),this.isDebugMode&&this.log("Start at Label: "+t),!!this.goto(t)&&(this.isRunning=!0,this.runNextCmd(),!0)}},{key:"getIndex",value:function(e){var t=this.getCmdHandler("label").getIndex(e);return null==t&&this.error("Label: "+e+" is not found"),t}},{key:"goto",value:function(e){var t;return null!=(t="string"==typeof e?this.getIndex(e):e)&&(this.instMem.setNextIndex(t),!0)}},{key:"wait",value:function(e){if(this.waitEvent=e,"number"==typeof e){var t=e;1===this.timeUnit&&(t*=1e3),this.timer=this.scene.time.delayedCall(t,this.continue,[e],this)}return this}},{key:"stop",value:function(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}},{key:"complete",value:function(){return this.emit("complete",this),this.stop(),this}},{key:"append",value:function(e,t){void 0===t&&(t=",");var n=a.a.parse(e,{delimiter:t}).data;return this.parse(n),this}},{key:"pause",value:function(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}},{key:"resume",value:function(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}},{key:"continue",value:function(e){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(e===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}},{key:"getCmdHandler",value:function(e){return"string"!=typeof e&&(e=e[0]),this.cmdHandlers.get(e)}},{key:"parse",value:function(e){for(var t,n,r=this.cmdPrefix,i=0,o=e.length;i<o;i++)if("-"===(n=(t=e[i])[0]))this.appendCommand(t);else if(isNaN(n))if(r.test(n)){var s=n.match(r);t[0]=s[1].toLowerCase(),this.appendCommand(t)||this.error("Line "+i+": "+JSON.stringify(t)+" is not a valid command")}else this.appendCommand(["wait",n]),t[0]="-",this.appendCommand(t);else{var a=parseFloat(n);a>0&&this.appendCommand(["wait",a]),t[0]="-",this.appendCommand(t)}return this}},{key:"appendCommand",value:function(e){var t=this.getCmdHandler(e);return null!=t&&((e=t.parse(e,this.instMem.length))&&this.instMem.append(e),!0)}},{key:"runNextCmd",value:function(){if(!this._inRunCmdLoop){this.threadId;var e,t=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(e=t.get(),t.setNextIndex(),null==e){this.complete();break}this.getCmdHandler(e).run(e)}return this._inRunCmdLoop=!1,this}}},{key:"log",value:function(e){return this.emit("log",e,this),this}},{key:"error",value:function(e){return this.emit("error",e,this),this}},{key:"lastLabel",get:function(){return this.cmdHandlers.labelCmd.lastLabel}},{key:"previousLabel",get:function(){return this.cmdHandlers.labelCmd.preLabel}},{key:"isDebugMode",get:function(){return this.listenerCount("log")>0}}])&&ie(t.prototype,n),r&&ie(t,r),e}();Object.assign(oe.prototype,r.a);var se={ms:0,s:1,sec:1},ae=/^#([a-zA-Z]+)/,ue=oe;function ce(e){"@babel/helpers - typeof";return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,he(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,Phaser.Plugins.BasePlugin),n=t,(r=[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(e,t){return new ue(e,t)}}])&&le(n.prototype,r),i&&le(n,i),t}();t.default=de},3:function(e,t,n){"use strict";t.a={setEventEmitter:function(e,t){return void 0===t&&(t=Phaser.Events.EventEmitter),this._privateEE=void 0===e,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},46:function(e,t,n){"use strict";t.a=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length),e.length=r-n;for(var i=0,o=e.length;i<o;i++)e[i]=t[i+n];return e}},51:function(e,t,n){"use strict";var r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;t.a=function(e){return"string"!=typeof e?e:(""===e?e=null:r.test(e)?e=parseFloat(e):"false"===screen?e=!1:"true"===e&&(e=!0),e)}},59:function(e,t,n){var r,i,o;function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),i=[],void 0===(o="function"==typeof(r=function(){"use strict";var e,t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,a={},u=0,c={parse:function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(E(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!E(r.transform)&&r.transform,r.worker&&c.WORKERS_SUPPORTED){var s=function(){if(!c.WORKERS_SUPPORTED)return!1;if(!o&&null===c.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=c.SCRIPT_PATH||e;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(t);return r.onmessage=g,r.id=u++,a[r.id]=r}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void s.postMessage({input:t,config:r,workerId:s.id})}var l=null;return c.NODE_STREAM_INPUT,"string"==typeof t?l=r.download?new h(r):new d(r):!0===t.readable&&E(t.read)&&E(t.on)?l=new y(r):(n.File&&t instanceof File||t instanceof Object)&&(l=new p(r)),l.stream(t)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",a='"',u=!1;"object"==s(t)&&("string"!=typeof t.delimiter||c.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header));var l=new RegExp(v(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==s(e[0]))return h(f(e[0]),e,u)}else if("object"==s(e))return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:f(e.data[0])),Array.isArray(e.data[0])||"object"==s(e.data[0])||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw"exception: Unable to serialize unrecognized input";function f(e){if("object"!=s(e))return[];var t=[];for(var n in e)t.push(n);return t}function h(e,t,n){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(s+=i),s+=p(e[c],c);0<t.length&&(s+=o)}for(var l=0;l<t.length;l++){var f=a?e.length:t[l].length,h=!1,d=a?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!a&&(h="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&a){for(var y=[],m=0;m<f;m++){var v=u?e[m]:m;y.push(t[l][v])}h=""===y.join("").trim()}if(!h){for(var b=0;b<f;b++){0<b&&!d&&(s+=i);var g=a&&u?e[b]:b;s+=p(t[l][g],b)}l<t.length-1&&(!n||0<f&&!d)&&(s+=o)}}return s}function p(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);e=e.toString().replace(l,a+a);var r="boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,c.BAD_DELIMITERS)||-1<e.indexOf(i)||" "===e.charAt(0)||" "===e.charAt(e.length-1);return r?a+e+a:e}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\ufeff",c.BAD_DELIMITERS=["\r","\n",'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!r&&!!n.Worker,c.SCRIPT_PATH=null,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=b,c.ParserHandle=m,c.NetworkStreamer=h,c.FileStreamer=p,c.StringStreamer=d,c.ReadableStreamStreamer=y,n.jQuery){var l=n.jQuery;l.fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:l.extend({},t)})}),i(),this;function i(){if(0!==r.length){var t,n,i,a,u=r[0];if(E(e.before)){var f=e.before(u.file,u.inputElem);if("object"==s(f)){if("abort"===f.action)return t="AbortError",n=u.file,i=u.inputElem,a=f.reason,void(E(e.error)&&e.error({name:t},n,i,a));if("skip"===f.action)return void o();"object"==s(f.config)&&(u.instanceConfig=l.extend(u.instanceConfig,f.config))}else if("skip"===f)return void o()}var h=u.instanceConfig.complete;u.instanceConfig.complete=function(e){E(h)&&h(e,u.file,u.inputElem),o()},c.parse(u.file,u.instanceConfig)}else E(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function f(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:s,workerId:c.WORKER_ID,finished:u});else if(E(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!E(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(e){E(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:e,finished:!1})}}function h(e){var t;(e=e||{}).chunkSize||(e.chunkSize=c.RemoteChunkSize),f.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=O(this._chunkLoaded,this),t.onerror=O(this._chunkError,this)),t.open("GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i),t.setRequestHeader("If-None-Match","webkit-no-cache")}try{t.send()}catch(e){this._chunkError(e.message)}r&&0===t.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substr(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function p(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=c.LocalChunkSize),f.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=O(this._chunkLoaded,this),t.onerror=O(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;f.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function y(e){f.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=O(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=O(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=O(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(e){var t,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,u=0,l=!1,f=!1,h=[],p={data:[],errors:[],meta:{}};if(E(e.step)){var d=e.step;e.step=function(t){if(p=t,g())m();else{if(m(),0===p.data.length)return;a+=t.data.length,e.preview&&a>e.preview?n.abort():d(p,s)}}}function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function m(){if(p&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<p.data.length;t++)y(p.data[t])&&p.data.splice(t--,1);return g()&&function(){if(p){for(var t=0;g()&&t<p.data.length;t++)for(var n=0;n<p.data[t].length;n++){var r=p.data[t][n];e.trimHeaders&&(r=r.trim()),h.push(r)}p.data.splice(0,1)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;for(var t=0;t<p.data.length;t++){var n,r=e.header?{}:[];for(n=0;n<p.data[t].length;n++){var i=n,o=p.data[t][n];e.header&&(i=n>=h.length?"__parsed_extra":h[n]),e.transform&&(o=e.transform(o,i)),o=_(i,o),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(o)):r[i]=o}p.data[t]=r,e.header&&(n>h.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,u+t):n<h.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,u+t))}return e.header&&p.meta&&(p.meta.fields=h),u+=p.data.length,p}()}function g(){return e.header&&0===h.length}function _(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){p.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(i,o,s){var a=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(v(t)+"([^]*?)"+v(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var s=0,a=0;a<r.length;a++)"\n"===r[a][0]&&s++;return s>=r.length/2?"\r\n":"\r"}(i,a)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(i),p.meta.delimiter=e.delimiter);else{var u=function(t,n,r,i){for(var o,s,a,u=[",","\t","|",";",c.RECORD_SEP,c.UNIT_SEP],l=0;l<u.length;l++){var f=u[l],h=0,p=0,d=0;a=void 0;for(var m=new b({comments:i,delimiter:f,newline:n,preview:10}).parse(t),v=0;v<m.data.length;v++)if(r&&y(m.data[v]))d++;else{var g=m.data[v].length;p+=g,void 0!==a?1<g&&(h+=Math.abs(g-a),a=g):a=0}0<m.data.length&&(p/=m.data.length-d),(void 0===s||s<h)&&1.99<p&&(s=h,o=f)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(i,e.newline,e.skipEmptyLines,e.comments);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=c.DefaultDelimiter),p.meta.delimiter=e.delimiter}var f=w(e);return e.preview&&e.header&&f.preview++,t=i,n=new b(f),p=n.parse(t,o,s),m(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){l=!1,s.streamer.parseChunk(t,!0)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),p.meta.aborted=!0,E(e.complete)&&e.complete(p),t=""}}function v(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,s=e.preview,a=e.fastMode,u=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<c.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||-1<c.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(e,c,h){if("string"!=typeof e)throw"Input must be a string";var p=e.length,d=n.length,y=r.length,m=i.length,b=E(o),g=[],_=[],k=[],w=l=0;if(!e)return D();if(a||!1!==a&&-1===e.indexOf(t)){for(var O=e.split(r),S=0;S<O.length;S++){if(k=O[S],l+=k.length,S!==O.length-1)l+=r.length;else if(h)return D();if(!i||k.substr(0,m)!==i){if(b){if(g=[],T(k.split(n)),M(),f)return D()}else T(k.split(n));if(s&&s<=S)return g=g.slice(0,s),D(!0)}}return D()}for(var C,x=e.indexOf(n,l),P=e.indexOf(r,l),j=new RegExp(v(u)+v(t),"g");;)if(e[l]!==t)if(i&&0===k.length&&e.substr(l,m)===i){if(-1===P)return D();l=P+y,P=e.indexOf(r,l),x=e.indexOf(n,l)}else if(-1!==x&&(x<P||-1===P))k.push(e.substring(l,x)),l=x+d,x=e.indexOf(n,l);else{if(-1===P)break;if(k.push(e.substring(l,P)),N(P+y),b&&(M(),f))return D();if(s&&g.length>=s)return D(!0)}else for(C=l,l++;;){if(-1===(C=e.indexOf(t,C+1)))return h||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:g.length,index:l}),A();if(C===p-1)return A(e.substring(l,C).replace(j,t));if(t!==u||e[C+1]!==u){if(t===u||0===C||e[C-1]!==u){var R=I(-1===P?x:Math.min(x,P));if(e[C+1+R]===n){k.push(e.substring(l,C).replace(j,t)),l=C+1+R+d,x=e.indexOf(n,l),P=e.indexOf(r,l);break}var L=I(P);if(e.substr(C+1+L,y)===r){if(k.push(e.substring(l,C).replace(j,t)),N(C+1+L+y),x=e.indexOf(n,l),b&&(M(),f))return D();if(s&&g.length>=s)return D(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:g.length,index:l}),C++}}else C++}return A();function T(e){g.push(e),w=l}function I(t){var n=0;if(-1!==t){var r=e.substring(C+1,t);r&&""===r.trim()&&(n=r.length)}return n}function A(t){return h||(void 0===t&&(t=e.substr(l)),k.push(t),l=p,T(k),b&&M()),D()}function N(t){l=t,T(k),k=[],P=e.indexOf(r,l)}function D(e){return{data:g,errors:_,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:w+(c||0)}}}function M(){o(D()),g=[],_=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(E(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:[t.results.data[o]],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var n=a[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function k(){throw"Not implemented."}function w(e){if("object"!=s(e)||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function O(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return i?n.onmessage=function(e){var t=e.data;if(void 0===c.WORKER_ID&&t&&(c.WORKER_ID=t.workerId),"string"==typeof t.input)n.postMessage({workerId:c.WORKER_ID,results:c.parse(t.input,t.config),finished:!0});else if(n.File&&t.input instanceof File||t.input instanceof Object){var r=c.parse(t.input,t.config);r&&n.postMessage({workerId:c.WORKER_ID,results:r,finished:!0})}}:c.WORKERS_SUPPORTED&&(t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(h.prototype=Object.create(f.prototype)).constructor=h,(p.prototype=Object.create(f.prototype)).constructor=p,(d.prototype=Object.create(d.prototype)).constructor=d,(y.prototype=Object.create(f.prototype)).constructor=y,c})?r.apply(t,i):r)||(e.exports=o)},68:function(e,t,n){"use strict";var r=n(46),i=n(51),o=n(16),s=Phaser.Utils.Objects.GetValue,a=function(e,t,n){var o,a=s(n,"argsConvert",void 0),c=s(n,"argsConvertScope",void 0),l=e[0];if(u=Object(r.a)(u,e,1),a){!0===a&&(a=i.a,c=void 0);for(var f=0,h=u.length;f<h;f++)u[f]=c?a.call(c,u[f],e):a(u[f],e)}return"string"==typeof l?null==(o=t[l])&&(o=s(t,l,null)):o=l,o.apply(t,u)},u=[],c=function e(t,n,r){var i,u=s(r,"reverse",!1);if(Object(o.a)(t[0]))if(u)for(c=(l=t.length)-1;c>=0;c--)i=e(t[c],n,r);else for(var c=0,l=t.length;c<l;c++)i=e(t[c],n,r);else i=a(t,n,r);return i};t.a=c}}).default});