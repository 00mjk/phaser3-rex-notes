!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).rexinputtextplugin=e()}(this,function(){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function t(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(r){return function(){var t,e,n,o=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()){var i=u(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!=typeof n&&"function"!=typeof n?j(e):n}}var w=function(t){t.stopPropagation()},r=Phaser.GameObjects.DOMElement,P=Phaser.Utils.Objects.IsPlainObject,C=Phaser.Utils.Objects.GetValue,l=function(){e(x,r);var k=i(x);function x(t,e,n,o,i,r){var u;O(this,x),P(e)?(e=C(r=e,"x",0),n=C(r,"y",0),o=C(r,"width",void 0),i=C(r,"height",void 0)):P(o)&&(o=C(r=o,"width",void 0),i=C(r,"height",void 0)),void 0===r&&(r={});var l,s=t.scale.autoRound;void 0!==o&&(s&&(o=Math.floor(o)),r.width=o+"px"),void 0!==i&&(s&&(i=Math.floor(i)),r.height=i+"px");var c,a,d=C(r,"type","text");for(var f in"textarea"===d?(l=document.createElement("textarea")).style.resize="none":(l=document.createElement("input")).type=d,E)c=E[f],void 0!==(a=C(r,f,c[1]))&&(l[c[0]]=a);var h,p,v=C(r,"style",void 0);for(var f in void 0===v&&(v={}),T)h=T[f],void 0!==(p=C(r,f,h[1]))&&(v[h[0]]=p);var y=l.style;for(var f in r)f in E||f in T||f in y&&(v[f]=r[f]);v["box-sizing"]="border-box",(u=k.call(this,t,e,n,l,v)).type="rexInputText";function b(t){u.node[S[t]]=function(){this.emit(t,this)}.bind(j(u))}var g;for(var m in S)b(m);return(g=u.node).addEventListener("touchstart",w,!1),g.addEventListener("touchmove",w,!1),g.addEventListener("touchend",w,!1),g.addEventListener("mousedown",w,!1),g.addEventListener("mouseup",w,!1),g.addEventListener("mousemove",w,!1),u}return t(x,[{key:"resize",value:function(t,e){var n=this.node.style;return n.width=t+"px",n.height=e+"px",this.updateSize(),this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}}]),x}(),E={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},T={align:["textAlign",void 0],width:["width",void 0],height:["height",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"]},S={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};function c(t,e,n,o,i){var r=new l(this.scene,t,e,n,o,i);return this.scene.add.existing(r),r}var a=Phaser.Utils.Objects.GetAdvancedValue,d=Phaser.GameObjects.BuildGameObject;function f(t,e){var n=a(t,"width",void 0),o=a(t,"height",void 0);void 0!==e&&(t.add=e);var i=new l(this.scene,0,0,n,o,t);return d(this.scene,i,t),i}function h(t){return null==t||""===t||0===t.length}var p=function(){e(o,Phaser.Plugins.BasePlugin);var n=i(o);function o(t){var e;return O(this,o),e=n.call(this,t),t.registerGameObject("rexInputText",c,f),e}return t(o,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),o}();return function(t,e,n){if("object"===s(t)){if(h(e)){if(null==n)return;"object"===s(n)&&(t=n)}else{"string"==typeof e&&(e=e.split("."));var o=e.pop();(function(t,e,n){var o=t;if(!h(e)){var i;"string"==typeof e&&(e=e.split("."));for(var r=0,u=e.length;r<u;r++){var l;if(null==o[i=e[r]]||"object"!==s(o[i]))l=r!==u-1||void 0===n?{}:n,o[i]=l;o=o[i]}}return o})(t,e)[o]=n}}}(window,"RexPlugins.GameObjects.InputText",l),p});
