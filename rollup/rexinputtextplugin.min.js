!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).rexinputtextplugin=t()}(this,function(){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?O(e):t}var w=function(e){e.stopPropagation()},i=Phaser.GameObjects.DOMElement,P=Phaser.Utils.Objects.IsPlainObject,C=Phaser.Utils.Objects.GetValue,u=function(){function k(e,t,n,o,i,r){var u;m(this,k),P(t)?(t=C(r=t,"x",0),n=C(r,"y",0),o=C(r,"width",void 0),i=C(r,"height",void 0)):P(o)&&(o=C(r=o,"width",void 0),i=C(r,"height",void 0)),void 0===r&&(r={});var s,l=e.scale.autoRound;void 0!==o&&(l&&(o=Math.floor(o)),r.width=o+"px"),void 0!==i&&(l&&(i=Math.floor(i)),r.height=i+"px");var c,a,d=C(r,"type","text");for(var f in"textarea"===d?(s=document.createElement("textarea")).style.resize="none":(s=document.createElement("input")).type=d,E)c=E[f],void 0!==(a=C(r,f,c[1]))&&(s[c[0]]=a);var h,v,p=C(r,"style",void 0);for(var f in void 0===p&&(p={}),T)h=T[f],void 0!==(v=C(r,f,h[1]))&&(p[h[0]]=v);var y=s.style;for(var f in r)f in E||f in T||f in y&&(p[f]=r[f]);p["box-sizing"]="border-box",(u=j(this,x(k).call(this,e,t,n,s,p))).type="rexInputText";function b(e){u.node[S[e]]=function(){this.emit(e,this)}.bind(O(u))}for(var g in S)b(g);return function(e){e.addEventListener("touchstart",w,!1),e.addEventListener("touchmove",w,!1),e.addEventListener("touchend",w,!1),e.addEventListener("mousedown",w,!1),e.addEventListener("mouseup",w,!1),e.addEventListener("mousemove",w,!1)}(u.node),u}return t(k,i),e(k,[{key:"resize",value:function(e,t){var n=this.node.style;return n.width=e+"px",n.height=t+"px",this.updateSize(),this}},{key:"setText",value:function(e){return this.text=e,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(e){return this.placeholder=e,this}},{key:"setTooltip",value:function(e){return this.tooltip=e,this}},{key:"setTextChangedCallback",value:function(e){return this.onTextChanged=e,this}},{key:"setReadOnly",value:function(e){return void 0===e&&(e=!0),this.readOnly=e,this}},{key:"setSpellCheck",value:function(e){return this.spellCheck=e,this}},{key:"setStyle",value:function(e,t){return this.node.style[e]=t,this}},{key:"getStyle",value:function(e){return this.node.style[e]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(e){return void 0===e&&(e=!0),this.node.disabled=!e,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(e){this.node.value=e}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(e){this.node.placeholder=e}},{key:"tooltip",get:function(){return this.node.title},set:function(e){this.node.title=e}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(e){this.node.readOnly=e}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(e){this.node.spellcheck=e}}]),k}(),E={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},T={align:["textAlign",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},S={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};function r(e,t,n,o,i){var r=new u(this.scene,e,t,n,o,i);return this.scene.add.existing(r),r}var s=Phaser.Utils.Objects.GetAdvancedValue,c=Phaser.GameObjects.BuildGameObject;function a(e,t){var n=s(e,"width",void 0),o=s(e,"height",void 0);void 0!==t&&(e.add=t);var i=new u(this.scene,0,0,n,o,e);return c(this.scene,i,e),i}function d(e){return null==e||""===e||0===e.length}var f=function(){function n(e){var t;return m(this,n),t=j(this,x(n).call(this,e)),e.registerGameObject("rexInputText",r,a),t}return t(n,Phaser.Plugins.BasePlugin),e(n,[{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this)}}]),n}();return function(e,t,n){if("object"===l(e))if(d(t)){if(null==n)return;"object"===l(n)&&(e=n)}else{"string"==typeof t&&(t=t.split("."));var o=t.pop();(function(e,t,n){void 0===n&&(n={});var o=e;if(d(t));else{var i;"string"==typeof t&&(t=t.split("."));for(var r=0,u=t.length;r<u;r++){var s;if(null==o[i=t[r]]||"object"!==l(o[i]))s=r===u-1?n:{},o[i]=s;o=o[i]}}return o})(e,t)[o]=n}}(window,"RexPlugins.GameObjects.InputText",u),f});
