!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexeightdirectionplugin=t():e.rexeightdirectionplugin=t()}(window,function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=98)}({49:function(e,t,i){"use strict";const s=Phaser.Utils.Objects.GetValue,r=Phaser.Math.Angle.Between;Phaser.Math.RadToDeg;const o={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var n=class{constructor(e,t){this.gameObject=e,this.scene=e.scene,this.resetFromJSON(t),this.boot(t)}resetFromJSON(e){return this.setEnable(s(e,"enable",!0)),this.setMode(s(e,"dir","8dir")),this.setCursorKeys(s(e,"cursorKeys",void 0)),this.setSpeed(s(e,"speed",200)),this.setRotateToDirection(s(e,"rotateToDirection",!1)),this.tickMe=s(e,"tickMe",!0),this}toJSON(){return{tickMe:this.tickMe}}boot(e){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this.tickMe&&this.scene.events.on("update",this.update,this)}shutdown(){this.tickMe&&this.scene.events.off("update",this.update,this),this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(e){(e=void 0==e||!!e)!==this.enable&&(this.enable=e)}setMode(e){return"string"==typeof e&&(e=o[e]),this.dirMode=e,this}setCursorKeys(e){void 0===e&&(e=this.scene.input.keyboard.createCursorKeys()),this.cursorKeys=e}setSpeed(e){this.speed=e}setRotateToDirection(e){return this.rotateToDirection=e,this}update(e,t){var i=this.gameObject.body;if(i){i.setVelocity(0,0),this.enable&&this["update_dir"+this.dirMode]();var s=i.velocity.x,o=i.velocity.y;this.rotateToDirection&&(0===s&&0===o||(this.gameObject.rotation=r(0,0,s,o)))}}update_dir0(){var e=this.gameObject.body,t=this.cursorKeys,i=t.up.isDown,s=t.down.isDown;i&&!s?e.setVelocityY(-this.speed):s&&!i&&e.setVelocityY(this.speed)}update_dir1(){var e=this.gameObject.body,t=this.cursorKeys,i=t.left.isDown,s=t.right.isDown;i&&!s?e.setVelocityX(-this.speed):s&&!i&&e.setVelocityX(this.speed)}update_dir2(){this.update_dir0(),0===this.gameObject.body.velocity.y&&this.update_dir1()}update_dir3(){this.update_dir0(),this.update_dir1()}};t.a=n},98:function(e,t,i){"use strict";i.r(t);var s=i(49);t.default=class extends Phaser.Plugins.BasePlugin{constructor(e){super(e)}start(){this.game.events.once("destroy",this.destroy,this)}add(e,t){return new s.a(e,t)}}}}).default});