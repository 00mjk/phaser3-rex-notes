!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var s=e();for(var n in s)("object"==typeof exports?exports:t)[n]=s[n]}}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=55)}([,function(t,e,s){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,s){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},function(t,e,s){"use strict";var n=s(5),i=s(1);e.a=function(t,e){var s,r=Object(i.a)(t);for(var a in null!=e?(s=e,Object(n.a)(s)):s=r?[]:{},r&&(s.length=t.length),t)s[a]=t[a];return s}},,function(t,e,s){"use strict";var n=s(1);e.a=function(t){if(Object(n.a)(t))t.length=0;else for(var e in t)delete t[e]}},function(t,e,s){"use strict";e.a=class{constructor(){this.items=[]}allocate(){return this.items.length>0?this.items.pop():null}free(t){this.items.push(t)}freeArr(t){for(var e=0,s=t.length;e<s;e++)this.items.push(t[e]);t.length=0}}},,function(t,e,s){"use strict";var n=s(17),i=s(2);const r=Phaser.Utils.Objects.GetAdvancedValue,a=Phaser.Utils.Objects.GetValue;var o={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",0],wrapWidth:["wrap.width",null]};const h={left:i.a.hleft,center:i.a.hcenter,right:i.a.hright},l={top:i.a.vtop,center:i.a.vcenter,bottom:i.a.vbottom},d={none:i.a.NO_WRAP,word:i.a.WORD_WRAP,char:i.a.CHAR_WRAP,character:i.a.CHAR_WRAP};e.a=class{constructor(t,e){this.parent=t,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1);var s=a(e,"metrics",!1);this.metrics=s?{ascent:a(s,"ascent",0),descent:a(s,"descent",0),fontSize:a(s,"fontSize",0)}:Object(n.a)(this)}setStyle(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=h[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=l[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var s=t.wrap;if(s.hasOwnProperty("mode")){var n=s.mode;"string"==typeof n&&(s.mode=d[n.toLowerCase()]||0)}else s.hasOwnProperty("width")&&(s.mode=1)}for(var i in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),o)this[i]="wrapCallback"===i||"wrapCallbackScope"===i?a(t,o[i][0],o[i][1]):r(t,o[i][0],o[i][1]);var u=a(t,"font",null);this._font=null===u?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:u;var c=a(t,"fill",null);return null!==c&&(this.color=c),e?this.update(!0):this.parent}syncFont(t,e){e.font=this._font}syncStyle(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}syncShadow(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=Object(n.a)(this)),this.parent.updateText(t)}buildFont(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}setFont(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=a(t,"fontFamily","Courier"),this.fontSize=a(t,"fontSize","16px"),this.fontStyle=a(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}setBackgroundColor(t){return this.backgroundColor=t,this.update(!1)}setFill(t){return this.color=t,this.update(!1)}setColor(t){return this.color=t,this.update(!1)}setStroke(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}setShadow(t,e,s,n,i,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===s&&(s="#000"),void 0===n&&(n=0),void 0===i&&(i=!1),void 0===r&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=s,this.shadowBlur=n,this.shadowStroke=i,this.shadowFill=r,this.update(!1)}setShadowOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}setShadowColor(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}setShadowBlur(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,e,s){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===s&&(s=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=s,this.update(!1)}setUnderlineColor(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}setUnderlineThickness(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}setWrapMode(t){return"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){this.wrapWidth=t;var e=0!==this.wrapMode;return this.update(e)}setAlign(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=h[t.toLowerCase()]||0),"string"==typeof e&&(e=h[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}setHAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=h[t.toLowerCase()]||0),this.halign=t,this.update(!1)}setVAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=h[t.toLowerCase()]||0),this.valign=t,this.update(!1)}setMaxLines(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={};for(var e in o)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}},,,,,function(t,e,s){"use strict";var n=s(14),i=s(8),r=s(18),a=s(6);const o=Phaser.DOM.AddToDOM,h=Phaser.DOM.RemoveFromDOM,l=Phaser.Display.Canvas.Pool,d=Phaser.GameObjects.Components,u=Phaser.GameObjects.GameObject,c=(Phaser.GameObjects.BuildGameObject,Phaser.Utils.Objects.GetValue);var f={},p=new Phaser.Class({Extends:u,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Origin,d.Pipeline,d.ScaleMode,d.ScrollFactor,d.Tint,d.Transform,d.Visible,n.a],initialize:function(t,e,s,n,o,h,d){if(void 0===e&&(e=0),void 0===s&&(s=0),u.call(this,t,h),this.setPosition(e,s),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.canvas=l.create(this),this.context=this.canvas.getContext("2d"),o&&o.hasOwnProperty("align")){var c=o.align;delete o.align,o.halign=c}this.style=new i.a(this,o),this.autoRound=!0,this.text="",this.resolution=1,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.canvasTexture=null,this.dirty=!1,f.hasOwnProperty(h)||(f[h]=new a.a),g.context=this.context,g.parser=d,g.style=this.style,g.pensPool=f[h],this.canvasText=new r.a(g),o&&o.padding&&this.setPadding(o.padding),this.setText(n),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.canvasTexture=null,this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this.text=t.toString(),this.updateText(!0)),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,s,n,i,r){return this.style.setShadow(t,e,s,n,i,r)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setHAlign(t)},setPadding:function(t,e,s,n){if("object"==typeof t){var i=t,r=c(i,"x",null);null!==r?(t=r,s=r):(t=c(i,"left",0),s=c(i,"right",t));var a=c(i,"y",null);null!==a?(e=a,n=a):(e=c(i,"top",0),n=c(i,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===s&&(s=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=s,this.padding.bottom=n,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(t){void 0===t&&(t=!1);var e=this.canvasText,s=this.style;t&&e.updatePensManager(this.text,s.wrapMode,s.wrapWidth,s.lineHeight);var n=this.padding,i=e.linesWidth+n.left+n.right,r=e.linesHeight+n.top+n.bottom;0===s.fixedWidth&&(this.width=i),0===s.fixedHeight&&(this.height=r),this.updateDisplayOrigin();var a=this.resolution;i*=a,r*=a,i=Math.max(Math.ceil(i),1),r=Math.max(Math.ceil(r),1);var o=this.canvas,h=this.context;return o.width===i&&o.height===r||(o.width=i,o.height=r),h.save(),h.scale(a,a),h.translate(n.left,n.top),e.draw(i-n.right,r-n.bottom),h.restore(),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=d.ToJSON(this),e={autoRound:this.autoRound,text:this.text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&h(this.canvas),l.remove(this.canvas),this.canvasText.destroy()},getRawText:function(t,e,s){return this.canvasText.getRawText(t,e,s)},getText:function(t,e,s){return this.canvasText.getText(t,e,s,!1)},getSubString:function(t,e,s){return this.getText(t,e,s)},getWrappedText:function(t,e,s){return this.canvasText.getText(t,e,s,!0)},copyPensManager:function(t){return this.canvasText.copyPensManager(t)}}),g={};e.a=p},function(t,e,s){"use strict";var n=s(15),i=s(16);const r=Phaser.Utils.NOOP;var a=r,o=r;a=n.a,o=i.a,e.a={renderWebGL:a,renderCanvas:o}},function(t,e,s){"use strict";const n=Phaser.GameObjects.GameObject;e.a=function(t,e,s,i,r){n.RENDER_MASK!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&i._id||""===e.text||(e.dirty&&(e.canvasTexture=t.canvasToTexture(e.canvas,e.canvasTexture),e.dirty=!1),this.pipeline.batchText(this,i,r))}},function(t,e,s){"use strict";const n=Phaser.GameObjects.GameObject;e.a=function(t,e,s,i,r){if(!(n.RENDER_MASK!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&i._id||""===e.text)){var a=t.currentContext;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,a.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,a.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode);var o=e.canvas;if(a.save(),void 0!==r){var h=r.matrix;a.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var l=e.x-i.scrollX*e.scrollFactorX,d=e.y-i.scrollY*e.scrollFactorY;t.config.roundPixels&&(l|=0,d|=0),a.translate(l,d),a.rotate(e.rotation),a.scale(e.scaleX,e.scaleY),a.translate(o.width*(e.flipX?1:0),o.height*(e.flipY?1:0)),a.scale(e.flipX?-1:1,e.flipY?-1:1),a.drawImage(o,0,0,o.width,o.height,-e.displayOriginX,-e.displayOriginY,o.width,o.height),a.restore()}}},function(t,e,s){"use strict";const n=Phaser.Display.Canvas.Pool;var i={};e.a=function(t){var e=n.create(this),s=e.getContext("2d");t.syncFont(e,s);var r=Math.ceil(s.measureText(t.testString).width*t.baselineX),a=r,o=2*a;a=a*t.baselineY|0,e.width=r,e.height=o,s.fillStyle="#f00",s.fillRect(0,0,r,o),s.font=t._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(t.testString,0,a);var h=i;if(!s.getImageData(0,0,r,o))return h.ascent=a,h.descent=a+6,h.fontSize=h.ascent+h.descent,n.remove(e),h;var l,d,u=s.getImageData(0,0,r,o).data,c=u.length,f=4*r,p=0,g=!1;for(l=0;l<a;l++){for(d=0;d<f;d+=4)if(255!==u[p+d]){g=!0;break}if(g)break;p+=f}for(h.ascent=a-l,p=c-f,g=!1,l=o;l>a;l--){for(d=0;d<f;d+=4)if(255!==u[p+d]){g=!0;break}if(g)break;p-=f}return h.descent=l-a,h.fontSize=h.ascent+h.descent,n.remove(e),h}},function(t,e,s){"use strict";var n=s(19),i=s(2),r=s(21),a=s(3);const o=Phaser.Utils.Objects.GetValue,h=(i.a.NO_WRAP,i.a.NO_NEWLINE),l=(i.a.hleft,i.a.hcenter),d=i.a.hright,u=(i.a.vtop,i.a.vcenter),c=i.a.vbottom;var f={};e.a=class{constructor(t){this.context=o(t,"context",null),this.canvas=this.context.canvas,this.parser=o(t,"parser",null),this.defatultStyle=o(t,"style",null),this.autoRound=!0,this.pensPool=o(t,"pensPool",null),f.pensPool=this.pensPool,this.pensManager=new n.a(f),this.tmpPensManager=null;var e=this.context;this.getTextWidth=function(t){return e.measureText(t).width}}updatePensManager(t,e,s,n,i){if(void 0===i&&(i=this.pensManager),i.freePens(),""===t)return i;for(var o,l,d,u=this.canvas,c=this.context,f=0,p=0,g=this.parser.splitText(t),v=0,w=g.length;v<w;v++){var y=this.parser.tagTextToProp(g[v],l);if(o=y.rawText,l=y.prop,""!==o){this.context.save(),(d=this.parser.propToContextStyle(this.defatultStyle,l)).buildFont(),d.syncFont(u,c),d.syncStyle(u,c);for(var x=Object(r.a)(o,this.getTextWidth,e,s,f),S=0,P=x.length;S<P;S++){var O=x[S];i.addPen(O.text,f,p,O.width,Object(a.a)(l),O.newLineMode),O.newLineMode!==h?(f=0,p+=n):f+=O.width}this.context.restore()}}return i}draw(t,e,s){void 0===s&&(s=this.pensManager);var n=this.context;n.save(),this.clean(),this.drawBackground();var i,r,a,o,h=this.defatultStyle,f=h.halign,p=h.valign,g=h.lineHeight,v=s.lines,w=v.length,y=h.maxLines;y>0&&w>y?(r=y,a=p===u?Math.floor((w-r)/2):p===c?w-r:0):(r=w,a=0),o=a+r;var x,S,P=h.strokeThickness/2,O=h.strokeThickness/2+h.metrics.ascent;S=p===u?Math.max((e-r*g)/2,0):p===c?Math.max(e-r*g-2,0):0,S=O;for(var T=a;T<o;T++)if(0!==(i=s.getLineWidth(T))){x=f===l?(t-i)/2:f===d?t-i:0,x+=P;for(var m=v[T],b=0,k=m.length;b<k;b++)this.drawPen(m[b],x,S)}n.restore()}clean(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)}drawBackground(){var t=this.defatultStyle.backgroundColor;if(null!==t){var e=this.context,s=this.canvas;e.fillStyle=t,e.fillRect(0,0,s.width,s.height)}}drawUnderline(t,e,s,n,i){if(!(n<=0)){var r=this.context,a=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=i,r.lineWidth=n,r.moveTo(t,e),r.lineTo(t+s,e),r.stroke(),r.lineCap=a}}drawPen(t,e,s){var n=this.canvas,i=this.context;i.save();var r=this.parser.propToContextStyle(this.defatultStyle,t.prop);r.buildFont(),r.syncFont(n,i),r.syncStyle(n,i);var a=e+t.x,o=s+t.y;this.autoRound&&(a=Math.round(a),o=Math.round(o));var h=t.text,l=t.width;this.drawUnderline(a,o+r.underlineOffset,l,r.underlineThickness,r.underlineColor),r.strokeThickness&&(r.syncShadow(i,r.shadowStroke),i.strokeText(h,a,o)),r.color&&"none"!==r.color&&(r.syncShadow(i,r.shadowFill),i.fillText(h,a,o)),i.restore()}destroy(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.pensManager.destroy(),this.pensManager=void 0,this.tmpPensManager&&(this.tmpPensManager.destroy(),this.tmpPensManager=void 0)}get lines(){return this.pensManager.lines}get desplayLinesNum(){var t=this.pensManager.linesNum,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}get linesWidth(){return this.pensManager.getMaxLineWidth()}get linesHeight(){var t=this.desplayLinesNum,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}getRawText(t,e,s){var n;if(null==t)n=this.pensManager.rawText;else{var i=this.parser.splitText(t,1);rawTextt="";for(var r=0,a=i.length;r<a;r++)n+=i[r]}return null==e&&null==s||(null==e&&(e=0),null==s&&(s=n.length),n=n.substring(e,s)),n}getText(t,e,s,i){if(null==t)return this.pensManager.getSliceTagText(e,s,i,this.parser.propToTagText);null===this.tmpPensManager&&(f.pensPool=this.pensPool,this.tmpPensManager=new n.a(f));var r=this.defatultStyle;return this.updatePensManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,this.tmpPensManager),this.tmpPensManager.getSliceTagText(e,s,i,this.parser.propToTagText)}copyPensManager(t){return this.pensManager.copy(t)}getTextWidth(t){return void 0===t&&(t=this.pensManager),t.getMaxLineWidth()}getLastPen(t){return void 0===t&&(t=this.pensManager),t.lastPen}}},function(t,e,s){"use strict";var n=s(6),i=s(20),r=s(2),a=s(3);const o=Phaser.Utils.Objects.GetFastValue,h=r.a.NO_NEWLINE;var l=new n.a,d=new n.a;class u{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=o(t,"pensPool",l),this.LinesPool=o(t,"linesPool",d)}destroy(){this.freePens()}freePens(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.freeArr(this.pens),this.LinesPool.freeArr(this.lines),this.maxLinesWidth=void 0}addPen(t,e,s,n,r,a){var o=this.PensPool.allocate();null==o&&(o=new i.a),c.text=t,c.x=e,c.y=s,c.width=n,c.prop=r,c.newLineMode=a,o.resetFromJSON(c);var l=this.lastPen;o.startIndex=null==l?0:l.nextStartIndex,this.pens.push(o);var d=this.lastLine;null==d&&(d=this.LinesPool.allocate()||[],this.lines.push(d)),d.push(o),o.newLineMode!==h&&(d=this.LinesPool.allocate()||[],this.lines.push(d)),this.maxLinesWidth=void 0}clone(t){null==t&&(t=new u),t.freePens();for(var e=0,s=this.lines.length;e<s;e++)for(var n=this.lines[e],i=0,r=n.length;i<r;i++){var o=n[i];t.addPen(o.text,o.x,o.y,o.width,Object(a.a)(o.prop),o.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){var e=this.lines[t];return null==e?0:e[0].startIndex}getLineEndIndex(t){var e,s,n=!1;for(e=t;e>=0&&!(n=null!=(s=this.lines[e])&&s.length>0);e--);return n?s[s.length-1].endIndex:0}getLineWidth(t){var e=this.lines[t];if(!e)return 0;var s=e[e.length-1];return null==s?0:s.lastX}getMaxLineWidth(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,s=0,n=this.lines.length;s<n;s++)(t=this.getLineWidth(s))>e&&(e=t);return this.maxLinesWidth=e,e}getLineWidths(){for(var t=[],e=0,s=this.lines.length;e<s;e++)t.push(this.getLineWidth(e));return t}get linesNum(){return this.lines.length}get rawText(){for(var t="",e=this.pens,s=0,n=e.length;s<n;s++)t+=e[s].rawText;return t}get rawTextLength(){for(var t=0,e=this.pens,s=0,n=this.pens.length;s<n;s++)t+=e[s].rawTextLength;return t}getSliceTagText(t,e,s,n,i){if(null==t&&(t=0),null==e){var r=this.lastPen;if(null==r)return"";e=r.nextStartIndex}null==s&&(s=!1);for(var a,o,h,l,d,u,c="",f=0,p=this.pens.length;f<p&&(a=this.pens[f],o=s?a.wrapText:a.rawText,d=a.prop,h=a.startIndex,(l=a.nextStartIndex)<t||(h>=t&&l<e||(o=o.substring(t-h,e-h)),c+=i?n.apply(i,o,d,u):n(o,d,u),u=d,!(l>=e)));f++);return c}}var c={};e.a=u},function(t,e,s){"use strict";var n=s(2);const i=Phaser.Utils.Objects.GetValue,r=n.a.NO_NEWLINE,a=n.a.RAW_NEWLINE;e.a=class{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=i(t,"text",""),this.x=i(t,"x",0),this.y=i(t,"y",0),this.width=i(t,"width",0);var e=i(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=i(t,"newLineMode",0),this.startIndex=i(t,"startIndex",0)}get rawText(){var t=this.text;return this.newLineMode===a&&(t+="\n"),t}get wrapText(){var t=this.text;return this.newLineMode!==r&&(t+="\n"),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===a&&(t+=1),t}get nextStartIndex(){return this.startIndex+this.rawTextLength}get endIndex(){return this.startIndex+this.rawTextLength-1}get lastX(){return this.x+this.width}}},function(t,e,s){"use strict";var n=s(6),i=s(2);Phaser.Utils.GetValue;const r=i.a.NO_NEWLINE,a=i.a.RAW_NEWLINE,o=i.a.WRAPPED_NEWLINE,h=i.a.NO_WRAP,l=i.a.WORD_WRAP,d=(i.a.CHAR_WRAP,i.a.SPLITREGEXP);var u=[],c=new n.a;c.newline=function(t,e,s){var n=this.allocate();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=s,n},e.a=function(t,e,s,n,i){var f=u;if(c.freeArr(f),!t||!t.length)return f;for(var p,g,v,w=t.split(d),y=0,x=w.length;y<x;y++)if(p=w[y],v=y===x-1?r:a,g=0===y?n-i:n,s!==h){var S,P;if(p.length<=100&&(W=e(p))<=g){f.push(c.newline(p,W,v));continue}for(var O,T="",m="",b=0,k=0,M=(S=s===l?p.split(" "):p).length;k<M;k++)P=S[k],(O=e(T+=s===l&&k>0?" "+P:P))>g&&(0===k?f.push(c.newline("",0,o)):(f.push(c.newline(m,b,o)),O=e(T=P)),g=n),m=T,b=O;f.push(c.newline(m,b,v))}else{var W=e(p);f.push(c.newline(p,W,v))}return f}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(56);e.default=n.a},function(t,e,s){"use strict";var n=s(13),i=s(57);const r=Phaser.Utils.Objects.GetAdvancedValue,a=Phaser.Utils.Objects.GetValue;class o extends n.a{constructor(t,e,s,n,r){var o=a(r,"tags",void 0),h=new i.a(o);super(t,e,s,n,r,"TagText",h),this.parser=h}addTag(t,e){return this.parser.addTag(t,e),this.updateText(!0)}addTags(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}Phaser.GameObjects.GameObjectFactory.register("rexTagText",function(t,e,s,n){return this.displayList.add(new o(this.scene,t,e,s,n))}),Phaser.GameObjects.GameObjectCreator.register("rexTagText",function(t){var e=r(t,"text",""),s=r(t,"style",null),n=r(t,"padding",null);null!==n&&(s.padding=n);var i=new o(this.scene,0,0,e,s);return BuildGameObject(this.scene,i,t),i.autoRound=r(t,"autoRound",!0),i.resolution=r(t,"resolution",1),i}),e.a=o},function(t,e,s){"use strict";var n={rawText:null,prevProp:null},i=new(s(8).a);var r=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/g,a=/<\s*class=/i,o=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/;e.a=class{constructor(t){void 0===t&&(t={}),this.tags=t}addTag(t,e){this.tags[t]=e}splitText(t,e){for(var s,n,i,h=[],l=0,d=t.length,u=d;s=r.exec(t);)n=s[0],l<(u=r.lastIndex-n.length)&&h.push(t.substring(l,u)),void 0===e?h.push(n):1===e&&a.test(n)&&(i=n.match(o),h.push(i[2])),l=r.lastIndex;return l<d&&h.push(t.substring(l,d)),h}tagTextToProp(t,e){var s,i;if(a.test(t)){var r=t.match(o);if(null!=r){var h=r[1],l=this.tags;(i=l.hasOwnProperty(h)?l[h]:{}).class=h,s=r[2]}}null==s&&(s=t),null==i&&(i={});var d=n;return d.rawText=s,d.prop=i,d}propToContextStyle(t,e){var s=i;if(e.hasOwnProperty("img"))s.image=e.img;else{if(s.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("font-family")?(e.hasOwnProperty("family")?e.family:e["font-family"],s.fontFamily=e.family):s.fontFamily=t.fontFamily,e.hasOwnProperty("size")||e.hasOwnProperty("font-size")){var n=e.hasOwnProperty("size")?e.size:e["font-size"];"number"==typeof n&&(n=n.toString()+"px"),s.fontSize=n}else s.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var r=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];s.fontStyle=r}else s.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")?(e.hasOwnProperty("color")?e.color:e["font-color"],s.color=e.color):s.color=t.color,e.hasOwnProperty("stroke")){var a=e.stroke;s.stroke=a.hasOwnProperty("color")?a.color:t.stroke,s.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else s.stroke=t.stroke,s.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var o=e.shadow;s.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,s.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,s.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,s.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0}else s.shadowColor=t.shadowColor,s.shadowOffsetX=t.shadowOffsetX,s.shadowOffsetY=t.shadowOffsetY,s.shadowBlur=t.shadowBlur,s.shadowStroke=t.shadowStroke,s.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var h=e.hasOwnProperty("u")?e.u:e.underline;s.underlineColor=h.hasOwnProperty("color")?h.color:t.underlineColor,s.underlineThickness=h.hasOwnProperty("thinkness")?h.thinkness:t.underlineThickness,s.underlineOffset=h.hasOwnProperty("offset")?h.offset:t.underlineOffset}else s.underlineColor=t.underlineColor,s.underlineThickness=t.underlineThickness,s.underlineOffset=t.underlineOffset;return s}propToTagText(t,e,s){return e.hasOwnProperty("class")&&(t="<class='"+e.class+"'>"+t+"</class>"),t}destroy(){this.tags=void 0}}}])});