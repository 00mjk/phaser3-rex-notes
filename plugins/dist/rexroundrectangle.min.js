!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexroundrectangle=e():t.rexroundrectangle=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=131)}({131:function(t,e,r){"use strict";r.r(e);var n=r(59);const i=Phaser.Utils.Objects.GetAdvancedValue,o=Phaser.Utils.Objects.GetValue,a=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexRoundRectangle",function(t,e,r,i,o,a,s){return this.displayList.add(new n.a(this.scene,t,e,r,i,o,a,s))}),Phaser.GameObjects.GameObjectCreator.register("rexRoundRectangle",function(t){var e=i(t,"width",void 0),r=i(t,"height",e),s=o(t,"radius",void 0),u=i(t,"fillColor",void 0),l=i(t,"fillAlpha",void 0),x=new n.a(this.scene,0,0,e,r,s,u,l);return a(this.scene,x,t),x}),e.default=n.a},3:function(t,e,r){"use strict";e.a=function(){}},59:function(t,e,r){"use strict";const n=Phaser.Utils.Objects.GetValue;var i=function(t,e,r){return void 0===t?{x:e,y:r}:"number"==typeof t?{x:t,y:t}:t},o=class{constructor(t,e,r,n,i){this.cornerRadius={},this.width=0,this.height=0,this.setTo(t,e,r,n,i)}setTo(t,e,r,n,i){return this.setPosition(t,e),this.setRadius(i),this.setSize(r,n),this}setPosition(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}setRadius(t){var e,r;void 0===t&&(t=0),"number"==typeof t?(e=t,r=t):(e=n(t,"x",0),r=n(t,"y",0));var o=this.cornerRadius;return o.tl=i(n(t,"tl",void 0),e,r),o.tr=i(n(t,"tr",void 0),e,r),o.bl=i(n(t,"bl",void 0),e,r),o.br=i(n(t,"br",void 0),e,r),this}setSize(t,e){if(void 0===t){var r=this.cornerRadius;t=Math.max(r.tl.x+r.tr.x,r.bl.x+r.br.x)}return void 0===e&&(r=this.cornerRadius,e=Math.max(r.tl.y+r.bl.y,r.tr.y+r.br.y)),this.width=t,this.height=e,this}},a=function(t,e,r){var n=r.length;if(n>=2){var i=r[n-2],o=r[n-1];if(t===i&&e===o)return r}return r.push(t,e),r};const s=Phaser.Utils.Objects.GetValue,u=Phaser.Math.DegToRad;var l=function(t,e,r,n,i,o,l,x){var f,h,c,v=s(r,"x",r),p=s(r,"y",r);o&&(i+=360),n=u(n);for(var y=((i=u(i))-n)/l,d=0;d<=l;d++)c=n+y*d,f=t+v*Math.cos(c),h=e+p*Math.sin(c),a(f,h,x);return x},x=r(94),f=r.n(x),h=r(93),c=r.n(h),v=r(92),p=r.n(v),y=function(t,e,r,n,i){var o=this.pipeline,a=o._tempMatrix1,s=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),s.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),i?(a.multiplyWithOffset(i,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),s.e=e.x,s.f=e.y):(s.e-=n.scrollX*e.scrollFactorX,s.f-=n.scrollY*e.scrollFactorY),a.multiply(s,u);var l=e._displayOriginX,x=e._displayOriginY,f=n.alpha*e.alpha;e.isFilled&&c()(o,u,e,f,l,x),e.isStroked&&p()(o,e,f,l,x)},d=r(91),g=r.n(d),b=r(90),m=r.n(b);const w=Phaser.Renderer.Canvas.SetTransform;var P=function(t,e,r,n,i){var o=t.currentContext;if(w(t,o,e,n,i)){var a=e._displayOriginX,s=e._displayOriginY,u=e.pathData,l=u.length-1,x=u[0]-a,f=u[1]-s;o.beginPath(),o.moveTo(x,f),e.closePath||(l-=2);for(var h=2;h<l;h+=2){var c=u[h]-a,v=u[h+1]-s;o.lineTo(c,v)}o.closePath(),e.isFilled&&(g()(o,e),o.fill()),e.isStroked&&(m()(o,e),o.stroke())}},O=r(3),Z=(O.a,O.a,{renderWebGL:y,renderCanvas:P});const j=Phaser.Utils.Objects.GetValue;class R extends Phaser.GameObjects.Shape{constructor(t,e,r,n,i,a,s,u){void 0===e&&(e=0),void 0===r&&(r=0);var l=j(a,"iteration",void 0);a=j(a,"radius",a);var x=new o(0,0,n,i,a);super(t,"RoundRectangle",x),this.setIteration(l),this.setPosition(e,r),this.setSize(x.width,x.height),void 0!==s&&this.setFillStyle(s,u),this.updateDisplayOrigin(),this.updateData()}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}updateData(){var t=this.geom,e=this.pathData;e.length=0;var r,n=t.cornerRadius,i=this.iteration+1;if(r=n.br,M(r)){var o=t.width-r.x,s=t.height-r.y;l(o,s,r,0,90,!1,i,e)}else a(t.width,t.height,e);if(r=n.bl,M(r)){o=r.x,s=t.height-r.y;l(o,s,r,90,180,!1,i,e)}else a(0,t.height,e);if(r=n.tl,M(r)){o=r.x,s=r.y;l(o,s,r,180,270,!1,i,e)}else a(0,0,e);if(r=n.tr,M(r)){o=t.width-r.x,s=r.y;l(o,s,r,270,360,!1,i,e)}else a(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=f()(e),this}}var M=function(t){return 0!==t.x&&0!==t.y};Object.assign(R.prototype,Z);e.a=R},90:function(t,e){t.exports=function(t,e){var r=e.strokeColor,n=e.strokeAlpha,i=(16711680&r)>>>16,o=(65280&r)>>>8,a=255&r;t.strokeStyle="rgba("+i+","+o+","+a+","+n+")",t.lineWidth=e.lineWidth}},91:function(t,e){t.exports=function(t,e,r){var n=r||e.fillColor,i=e.fillAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,s=255&n;t.fillStyle="rgba("+o+","+a+","+s+","+i+")"}},92:function(t,e){const r=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,i,o){var a=t.strokeTint,s=r.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*n);a.TL=s,a.TR=s,a.BL=s,a.BR=s;var u=e.pathData,l=u.length-1,x=e.lineWidth,f=x/2,h=u[0]-i,c=u[1]-o;e.closePath||(l-=2);for(var v=2;v<l;v+=2){var p=u[v]-i,y=u[v+1]-o;t.setTexture2D(),t.batchLine(h,c,p,y,f,f,x,v-2,!!e.closePath&&v===l-1),h=p,c=y}}},93:function(t,e){const r=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,i,o,a){for(var s=r.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*i),u=n.pathData,l=n.pathIndexes,x=0;x<l.length;x+=3){var f=2*l[x],h=2*l[x+1],c=2*l[x+2],v=u[f+0]-o,p=u[f+1]-a,y=u[h+0]-o,d=u[h+1]-a,g=u[c+0]-o,b=u[c+1]-a,m=e.getX(v,p),w=e.getY(v,p),P=e.getX(y,d),O=e.getY(y,d),Z=e.getX(g,b),j=e.getY(g,b);t.setTexture2D(),t.batchTri(m,w,P,O,Z,j,0,0,1,1,s,s,s,t.tintEffect)}}},94:function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,s,u,l,x,c,p,y=e&&e.length,d=y?e[0]*r:t.length,g=i(t,0,d,r,!0),b=[];if(!g)return b;if(y&&(g=function(t,e,r,n){var a,s,u,l,x,c=[];for(a=0,s=e.length;a<s;a++)u=e[a]*n,l=a<s-1?e[a+1]*n:t.length,(x=i(t,u,l,n,!1))===x.next&&(x.steiner=!0),c.push(v(x));for(c.sort(f),a=0;a<c.length;a++)h(c[a],r),r=o(r,r.next);return r}(t,e,g,r)),t.length>80*r){n=u=t[0],s=l=t[1];for(var m=r;m<d;m+=r)x=t[m],c=t[m+1],x<n&&(n=x),c<s&&(s=c),x>u&&(u=x),c>l&&(l=c);p=Math.max(u-n,l-s)}return a(g,b,r,n,s,p),b}function i(t,e,r,n,i){var o,a;if(i===j(t,e,r,n)>0)for(o=e;o<r;o+=n)a=P(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=P(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(O(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!g(n,n.next)&&0!==d(n.prev,n,n.next))n=n.next;else{if(O(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function a(t,e,r,n,i,f,h){if(t){!h&&f&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=c(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,l=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(t,n,i,f);for(var v,p,y=t;t.prev!==t.next;)if(v=t.prev,p=t.next,f?u(t,n,i,f):s(t))e.push(v.i/r),e.push(t.i/r),e.push(p.i/r),O(t),t=p.next,y=p.next;else if((t=p)===y){h?1===h?a(t=l(t,e,r),e,r,n,i,f,2):2===h&&x(t,e,r,n,i,f):a(o(t),e,r,n,i,f,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(d(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&d(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,a=t.next;if(d(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,x=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=c(s,u,e,r,n),h=c(l,x,e,r,n),v=t.nextZ;v&&v.z<=h;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&d(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(v=t.prevZ;v&&v.z>=f;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&d(v.prev,v,v.next)>=0)return!1;v=v.prevZ}return!0}function l(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!g(i,o)&&b(i,n,n.next,o)&&m(i,o)&&m(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),O(n),O(n.next),n=t=o),n=n.next}while(n!==t);return n}function x(t,e,r,n,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var x=w(u,l);return u=o(u,u.next),x=o(x,x.next),a(u,e,r,n,i,s),void a(x,e,r,n,i,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var u,l=r,x=r.x,f=r.y,h=1/0;n=r.next;for(;n!==l;)i>=n.x&&n.x>=x&&i!==n.x&&p(o<f?i:a,o,x,f,o<f?a:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<h||u===h&&n.x>r.x)&&m(n,t)&&(r=n,h=u),n=n.next;return r}(t,e)){var r=w(e,t);o(r,r.next)}}function c(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function d(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){return!!(g(t,e)&&g(r,n)||g(t,n)&&g(r,e))||d(t,e,r)>0!=d(t,e,n)>0&&d(r,n,t)>0!=d(r,n,e)>0}function m(t,e){return d(t.prev,t,t.next)<0?d(t,e,t.next)>=0&&d(t,t.prev,e)>=0:d(t,e,t.prev)<0||d(t,t.next,e)<0}function w(t,e){var r=new Z(t.i,t.x,t.y),n=new Z(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function P(t,e,r,n){var i=new Z(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Z(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function j(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(j(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,x=s<u-1?e[s+1]*r:t.length;a-=Math.abs(j(t,l,x,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,c=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((t[h]-t[v])*(t[c+1]-t[h+1])-(t[h]-t[c])*(t[v+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}}}).default});