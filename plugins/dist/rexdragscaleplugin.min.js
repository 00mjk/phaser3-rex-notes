!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexdragscaleplugin=e():t.rexdragscaleplugin=e()}(window,function(){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=183)}({129:function(t,e,s){"use strict";const r=Phaser.Events.EventEmitter,i=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Array.SpliceOne,o=Phaser.Math.Distance.Between;const a=0,c=1,h=2;var u=class extends r{constructor(t,e){var s=t.scene,r=s.input.manager.pointersTotal;r<2&&s.input.addPointer(2-r),super(),this.gameObject=t,this.scene=s,this.state=a,this.pointers=[],this.prevDragDistance=0,this.setAutoScaleEnable(i(e,"autoScale",!0)),this.boot()}boot(){this.gameObject.on("pointerdown",this.onPointerDown,this),this.gameObject.on("pointerup",this.onPointerUp,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("pointerout",this.onPointerUp,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){}destroy(){this.shutdown()}setAutoScaleEnable(t){return void 0===t&&(t=!0),this.autoScale=t,this}onPointerDown(t){if(2!==this.pointer.length)switch(this.pointers.push(t),this.state){case a:this.state=c;break;case c:this.state=h,this.onDragStart()}}onPointerUp(t){var e=this.pointers.indexOf(t);if(-1!==e)switch(n(this.pointers,e),this.state){case c:this.state=a;break;case h:this.state=c,this.onDragEnd()}}onPointerMove(t){this.state===h&&this.onDragging()}cancel(){return this.pointers.length=0,this.state=a,this.onDragEnd(),this}onDragStart(){this.prevDragDistance=this.dragDistance,this.emit("dragstart",this)}onDragEnd(){this.prevDragDistance=0,this.emit("dragend",this)}onDragging(){if(this.autoScale){var t=this.scaleFactor;this.gameObject.scaleX*=t,this.gameObject.scaleY*=t}this.emit("drag",this)}get isDragging(){return this.state===h}get dragDistance(){if(!this.isDragging)return 0;var t=this.pointers[0],e=this.pointers[1];return o(t.x,t.y,e.x,e.y)}get scaleFactor(){if(!this.isDragging)return 0;var t=this.prevDragDistance,e=t/this.prevDragDistance;return this.prevDragDistance=t,e}};e.a=u},183:function(t,e,s){"use strict";s.r(e);var r=s(129);e.default=class extends Phaser.Plugins.BasePlugin{constructor(t){super(t)}start(){this.game.events.once("destroy",this.destroy,this)}add(t,e){return new r.a(t,e)}}}}).default});