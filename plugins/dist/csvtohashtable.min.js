!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rexcsvtohashtable.min"]=t():e["rexcsvtohashtable.min"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=36)}({1:function(e,t,r){"use strict";t.a=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},24:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(25);t.default=s.a},25:function(e,t,r){"use strict";t.a=function(e,t){t=t||",";for(var r=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),s=[[]],o=null;o=r.exec(e);){var i=o[1];if(i.length&&i!=t&&s.push([]),o[2])var n=o[2].replace(new RegExp('""',"g"),'"');else n=o[3];s[s.length-1].push(n)}return s}},36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(37);t.default=s.a},37:function(e,t,r){"use strict";var s=r(24),o=r(6),i=r(7),n=r(1);const h=Phaser.Utils.Objects.GetFastValue;const l=function(e,t,r,s){return Object(i.a)(s)},a={ascending:0,descending:1,"logical ascending":2,"logical descending":3};t.a=class{constructor(e,t){this.resetFromJSON(t)}resetFromJSON(e){return this.table=h(e,"table",{}),this.colKeys=h(e,"col",[]),this.rowKeys=h(e,"row",[]),this.cursor=h(e,"cursor",{}),this}toJSON(){return{table:this.table,col:this.colKeys,row:this.rowKeys,cursor:this.cursor}}shutdown(){}destroy(){}loadCSV(e,t){this.clean();var r=Object(s.default)(e,t),i=this.table;this.colKeys=Object(o.a)(this.colKeys,r[0]),this.rowKeys.length=r.length-1;for(var n=0,h=this.rowKeys.length;n<h;n++)this.rowKeys[n]=r[n+1][0];for(var l,a=this.colKeys,u=this.rowKeys,c=0,f=a.length;c<f;c++){l={},i[a[c]]=l;for(var y=0,v=u.length;y<v;y++)l[u[y]]=r[y+1][c+1]}return this.setCursor("",""),this}clean(){var e=this.table;for(var t in e)delete e[t];return this.colKeys.length=0,this.rowKeys.length=0,this}get(e,t){var r=void 0,s=this.table;if(s.hasOwnProperty(e)){var o=s[e];o.hasOwnProperty(t)&&(r=o[t])}return this.setCursor(e,t),r}set(e,t,r){var s=this.table;if(s.hasOwnProperty(e)){var o=s[e];o.hasOwnProperty(t)&&(o[t]=r)}return this.setCursor(e,t),this}add(e,t,r){var s=this.table;if(s.hasOwnProperty(e)){var o=s[e];o.hasOwnProperty(t)&&(o[t]+=r)}return this.setCursor(e,t),this}hasColKey(e){return-1!==this.colKeys.indexOf(e)}hasRowKey(e){return-1!==this.rowKeys.indexOf(e)}hasKey(e,t){return this.hasColKey(e)&&this.hasRowKey(t)}isValueInCol(e,t){if(!this.hasColKey(e))return!1;for(var r=this.table[e],s=this.rowKeys,o=0,i=s.length;o<i;o++)if(r[s[o]]===t)return!0;return!1}isValueInRol(e,t){if(!this.hasRowKey(e))return!1;for(var r=this.table,s=this.colKeys,o=0,i=s.length;o<i;o++)if(r[s[o]][e]===t)return!0;return!1}appendCol(e,t,r){if(this.hasColKey(e))return this;this.colKeys.push(e);var s={};this.table[e]=s;var o,i=this.rowKeys;if("function"==typeof t)if(r)for(var n=0,h=i.length;n<h;n++)s[o=i[n]]=t.call(r,this,e,o);else for(n=0,h=i.length;n<h;n++)s[o=i[n]]=t(this,e,o);else{var l=t;for(n=0,h=i.length;n<h;n++)s[o]=l}return this}appendRow(e,t,r){if(this.hasRowKey(e))return this;this.rowKeys.push(e);var s,o=this.table,i=this.colKeys,n="function"==typeof t?void 0:t;if("function"==typeof t)if(r)for(var h=0,l=i.length;h<l;h++)o[s=i[h]][e]=t.call(r,this,s,e);else for(h=0,l=i.length;h<l;h++)o[s=i[h]][e]=t(this,s,e);else for(n=t,h=0,l=i.length;h<l;h++)o[s=i[h]][e]=n;return this}removeCol(e){var t=this.colKeys.indexOf(e);return-1===t?this:(this.colKeys.splice(t,1),delete this.table[e],this)}removeRol(e){var t=this.rowKeys.indexOf(e);if(-1===t)return this;this.rowKeys.splice(t,1);for(var r=this.table,s=this.colKeys,o=0,i=s.length;o<i;o++)delete r[s[o]][e];return this}eachCol(e,t,r){var s,o,i=this.colKeys,n=this.hasRowKey(e);if(r)for(var h=0,l=i.length;h<l;h++)s=i[h],n&&(o=this.get(s,e)),t.call(r,this,s,e,o);else for(h=0,l=i.length;h<l;h++)s=i[h],n&&(o=this.get(s,e)),t(r,this,s,e,o);return this}eachRow(e,t,r){var s,o,i=this.rowKeys,n=this.hasColKey(e);if(r)for(var h=0,l=i.length;h<l;h++)s=i[h],n&&(o=this.get(e,s)),t.call(r,this,e,s,o);else for(h=0,l=i.length;h<l;h++)s=i[h],n&&(o=this.get(e,s)),t(this,e,s,o);return this}convert(e,t){void 0===e&&(e=l);var r,s,o,i,n=this.table,h=this.colKeys,a=this.rowKeys;if(t)for(var u=0,c=h.length;u<c;u++){o=n[r=h[u]];for(var f=0,y=a.length;f<y;f++)i=o[s=a[f]],o[s]=e.call(t,this,r,s,i)}else for(u=0,c=h.length;u<c;u++)for(o=n[r=h[u]],f=0,y=a.length;f<y;f++)i=o[s=a[f]],o[s]=e(this,r,s,i);return this}convertCol(e,t,r){if(void 0===t&&(t=l),Object(n.a)(e)){for(var s=0,o=e.length;s<o;s++)this.convertCol(e[s],t,r);return this}if(!this.hasColKey(e))return this;var i,h,a=this.table[e],u=this.rowKeys;if(r)for(var c=0,f=u.length;c<f;c++)h=a[i=u[c]],a[i]=t.call(r,this,e,i,h);else for(c=0,f=u.length;c<f;c++)h=a[i=u[c]],a[i]=t(this,e,i,h);return this}convertRow(e,t,r){if(void 0===t&&(t=l),Object(n.a)(e)){for(var s=0,o=e.length;s<o;s++)this.convertRow(e[s],t,r);return this}var i,h,a=this.table,u=this.colKeys;if(r)for(var c=0,f=u.length;c<f;c++)h=a[i=u[c]][e],a[i][e]=t.call(r,this,i,e,h);else for(c=0,f=u.length;c<f;c++)h=a[i=u[c]][e],a[i][e]=t(this,i,e,h);return this}get curColKey(){return this.cursor.colKey}get curRowKey(){return this.cursor.rowKey}nextColKey(e,t){void 0===e&&(e=this.cursor.colKey),void 0===t&&(t=1);var r=this.colKeys,s=r.indexOf(e);if(-1!==s)return r[s+t]}nextRowKey(e,t){void 0===e&&(e=this.cursor.rowKey),void 0===t&&(t=1);var r=this.rowKeys,s=r.indexOf(e);if(-1!==s)return r[s+1]}previousColKey(e,t){return void 0===t&&(t=1),t=-t,this.nextColKey(e,t)}previousRowKey(e,t){return void 0===t&&(t=1),t=-t,this.nextRowlKey(e,t)}sortCol(e,t){if("function"==typeof e)t&&(e=e.bind(t));else{var r=sceop;if("string"==typeof r&&(r=a[r]),!this.hasRowKey(rowKey))return this;var s=this;e=function(e,t){var o,i=s.get(e,rowKey),n=s.get(t,rowKey);switch(r>=2&&(i=parseFloat(i),n=parseFloat(n)),r){case 0:case 2:o=i>n?1:i<n?-1:0;break;case 1:case 3:o=i<n?1:i>n?-1:0}return o}}return this.rowKeys.sort(e),this}sortRow(e,t){if("function"==typeof e)t&&(e=e.bind(t));else{var r=e,s=sceop;if("string"==typeof s&&(s=a[s]),!this.hasRowKey(r))return this;var o=this;e=function(e,t){var i,n=o.get(e,r),h=o.get(t,r);switch(s>=2&&(n=parseFloat(n),h=parseFloat(h)),s){case 0:case 2:i=n>h?1:n<h?-1:0;break;case 1:case 3:i=n<h?1:n>h?-1:0}return i}}return this.colKeys.sort(e),this}setCursor(e,t){var r=this.cursor;return r.colKey=e,r.rowKey=t,this}}},6:function(e,t,r){"use strict";t.a=function(e,t,r,s){void 0===r&&(r=0),void 0===s&&(s=t.length),e.length=s-r;for(var o=0,i=e.length;o<i;o++)e[o]=t[o+r];return e}},7:function(e,t,r){"use strict";var s=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;t.a=function(e){if("string"!=typeof e)return e;if(""===e)e=null;else if(s.test(e))e=parseFloat(e);else{var t=e.toLowerCase();"false"===t?e=!1:"true"===t&&(e=!0)}return e}}}).default});