!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexswirlpipelineplugin=t():e.rexswirlpipelineplugin=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=78)}({78:function(e,t,r){"use strict";r.r(t);var n="\nprecision mediump float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Currently not used in this demo!\nuniform float time; \n\n// GeeXLab built-in uniform, width of\n// the current render target\nuniform float rt_w; \n// GeeXLab built-in uniform, height of\n// the current render target\nuniform float rt_h; \n\n// Swirl effect parameters\nuniform float radius;\nuniform float angle;\nuniform float center_x; \nuniform float center_y;\n\nvec4 PostFX(sampler2D tex, vec2 uv, float time)\n{\n  vec2 texSize = vec2(rt_w, rt_h);\n  vec2 center = vec2(center_x, center_y);\n  vec2 tc = uv * texSize;\n  tc -= center;\n  float dist = length(tc);\n  if (dist < radius) \n  {\n    float percent = (radius - dist) / radius;\n    float theta = percent * percent * angle * 8.0;\n    float s = sin(theta);\n    float c = cos(theta);\n    tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n  }\n  tc += center;\n  vec3 color = texture2D(tex, tc / texSize).rgb;\n  return vec4(color, 1.0);\n}\n\nvoid main (void)\n{\n  gl_FragColor = PostFX(uMainSampler, outTexCoord, time);\n}\n";const i=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,o=Phaser.Math.DegToRad,s=Phaser.Math.RadToDeg,a=Phaser.Utils.Objects.GetValue;var u=class extends i{constructor(e,t,r){var i=e.game;super({game:i,renderer:i.renderer,fragShader:n}),this._width=0,this._height=0,this._centerX=0,this._centerY=0,this._radius=0,this._rotation=0,i.renderer.addPipeline(t,this),this.resetFromJSON(r)}resetFromJSON(e){this.radius=a(e,"radius",0);var t=a(e,"rotation",void 0);return void 0===t?this.angle=a(e,"angle",0):this.rotation=t,this.setCenter(a(e,"center.x",void 0),a(e,"center.y",void 0)),this}get radius(){return this._radius}set radius(e){this._radius=e,this.setFloat1("radius",e)}setRadius(e){return this.radius=e,this}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.setFloat1("angle",e)}setRotation(e){return this.rotation=e,this}get angle(){return s(this.rotation)}set angle(e){this.rotation=o(e)}setAngle(e){return this.angle=e,this}get centerX(){return this._centerX}set centerX(e){this._centerX=e,this.setFloat1("center_x",e*this.resolution)}get centerY(){return this._centerY}set centerY(e){this._centerY=e,this.setFloat1("center_y",e*this.resolution)}setCenter(e,t){return void 0===e&&(e=this._width/2,t=this._height/2),this.centerX=e,this.centerY=t,this}resize(e,t,r){return this._width=e,this._height=t,super.resize(e,t,r),this.setFloat1("rt_w",this.width),this.setFloat1("rt_h",this.height),this}};t.default=class extends Phaser.Plugins.BasePlugin{constructor(e){super(e)}start(){this.game.events.once("destroy",this.destroy,this)}add(e,t,r){return new u(e,t,r)}}}}).default});