!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexroundrectangleplugin=e():t.rexroundrectangleplugin=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=181)}({181:function(t,e,n){"use strict";n.r(e);var r=n(59),i=n(9);const o=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.Utils.Objects.GetValue,a=Phaser.GameObjects.BuildGameObject;Object(i.a)(window,"RexPlugins.GameObjects.RoundRectangle",r.a),e.default=class extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexRoundRectangle",this.addRoundRectangle,this.makeRoundRectangle)}start(){this.game.events.once("destroy",this.destroy,this)}addRoundRectangle(t,e,n,i,o,s,a){return this.displayList.add(new r.a(this.scene,t,e,n,i,o,s,a))}makeRoundRectangle(t){var e=o(t,"width",void 0),n=o(t,"height",e),i=s(t,"radius",void 0),u=o(t,"fillColor",void 0),h=o(t,"fillAlpha",void 0),l=new r.a(this.scene,0,0,e,n,i,u,h);return a(this.scene,l,t),l}}},3:function(t,e,n){"use strict";e.a=function(){}},59:function(t,e,n){"use strict";const r=Phaser.Utils.Objects.GetValue;var i=function(t,e,n){return void 0===t?{x:e,y:n}:"number"==typeof t?{x:t,y:t}:t},o=class{constructor(t,e,n,r,i){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,e,n,r,i)}setTo(t,e,n,r,i){return this.setPosition(t,e),this.setRadius(i),this.setSize(n,r),this}setPosition(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}setRadius(t){var e,n;void 0===t&&(t=0),"number"==typeof t?(e=t,n=t):(e=r(t,"x",0),n=r(t,"y",0));var o=this.cornerRadius;return o.tl=i(r(t,"tl",void 0),e,n),o.tr=i(r(t,"tr",void 0),e,n),o.bl=i(r(t,"bl",void 0),e,n),o.br=i(r(t,"br",void 0),e,n),this}setSize(t,e){return this.width=t,this.height=e,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},s=function(t,e,n){var r=n.length;if(r>=2){var i=n[r-2],o=n[r-1];if(t===i&&e===o)return n}return n.push(t,e),n};const a=Phaser.Utils.Objects.GetValue,u=Phaser.Math.DegToRad;var h=function(t,e,n,r,i,o,h,l){var x,f,c,v=a(n,"x",n),p=a(n,"y",n);o&&(i+=360),r=u(r);for(var d=((i=u(i))-r)/h,y=0;y<=h;y++)c=r+d*y,x=t+v*Math.cos(c),f=e+p*Math.sin(c),s(x,f,l);return l},l=n(94),x=n.n(l),f=n(93),c=n.n(f),v=n(92),p=n.n(v),d=function(t,e,n,r,i){var o=this.pipeline,s=o._tempMatrix1,a=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),a.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),s.copyFrom(r.matrix),i?(s.multiplyWithOffset(i,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),a.e=e.x,a.f=e.y):(a.e-=r.scrollX*e.scrollFactorX,a.f-=r.scrollY*e.scrollFactorY),s.multiply(a,u);var h=e._displayOriginX,l=e._displayOriginY,x=r.alpha*e.alpha;e.isFilled&&c()(o,u,e,x,h,l),e.isStroked&&p()(o,e,x,h,l)},y=n(91),g=n.n(y),b=n(90),m=n.n(b);const w=Phaser.Renderer.Canvas.SetTransform;var P=function(t,e,n,r,i){var o=t.currentContext;if(w(t,o,e,r,i)){var s=e._displayOriginX,a=e._displayOriginY,u=e.pathData,h=u.length-1,l=u[0]-s,x=u[1]-a;o.beginPath(),o.moveTo(l,x),e.closePath||(h-=2);for(var f=2;f<h;f+=2){var c=u[f]-s,v=u[f+1]-a;o.lineTo(c,v)}o.closePath(),e.isFilled&&(g()(o,e),o.fill()),e.isStroked&&(m()(o,e),o.stroke())}},R=n(3),_=(R.a,R.a,{renderWebGL:d,renderCanvas:P});const O=Phaser.Utils.Objects.GetValue;class j extends Phaser.GameObjects.Shape{constructor(t,e,n,r,i,s,a,u){void 0===e&&(e=0),void 0===n&&(n=0);var h=O(s,"iteration",void 0);s=O(s,"radius",s);var l=new o(0,0,r,i,s);super(t,"RoundRectangle",l),this.setIteration(h),this.setPosition(e,n),this.setSize(l.width,l.height),void 0!==a&&this.setFillStyle(a,u),this.updateDisplayOrigin(),this.updateData()}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}updateData(){var t=this.geom,e=this.pathData;e.length=0;var n,r=t.cornerRadius,i=this.iteration+1;if(n=r.br,Z(n)){var o=t.width-n.x,a=t.height-n.y;h(o,a,n,0,90,!1,i,e)}else s(t.width,t.height,e);if(n=r.bl,Z(n)){o=n.x,a=t.height-n.y;h(o,a,n,90,180,!1,i,e)}else s(0,t.height,e);if(n=r.tl,Z(n)){o=n.x,a=n.y;h(o,a,n,180,270,!1,i,e)}else s(0,0,e);if(n=r.tr,Z(n)){o=t.width-n.x,a=n.y;h(o,a,n,270,360,!1,i,e)}else s(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=x()(e),this}get width(){return this._width}set width(t){void 0!==this._width?this._width!==t&&(this.geom.width=t,this._width=this.geom.width,this.updateDisplayOrigin(),this.updateData()):this._width=t}get height(){return this._height}set height(t){void 0!==this._height?this._height!==t&&(this.geom.height=t,this._height=this.geom.height,this.updateDisplayOrigin(),this.updateData()):this._height=t}}var Z=function(t){return 0!==t.x&&0!==t.y};Object.assign(j.prototype,_);e.a=j},9:function(t,e,n){"use strict";var r=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,n){if("object"==typeof t)if(r(e)){if(null==n)return;"object"==typeof n&&(t=n)}else{"string"==typeof e&&(e=e.split("."));var i=e.pop();((function(t,e,n){void 0===n&&(n={});var i=t;if(r(e));else{var o;"string"==typeof e&&(e=e.split("."));for(var s=0,a=e.length;s<a;s++){var u;null!=i[o=e[s]]&&"object"==typeof i[o]||(u=s===a-1?n:{},i[o]=u),i=i[o]}}return i})(t,e))[i]=n}}},90:function(t,e){t.exports=function(t,e){var n=e.strokeColor,r=e.strokeAlpha,i=(16711680&n)>>>16,o=(65280&n)>>>8,s=255&n;t.strokeStyle="rgba("+i+","+o+","+s+","+r+")",t.lineWidth=e.lineWidth}},91:function(t,e){t.exports=function(t,e,n){var r=n||e.fillColor,i=e.fillAlpha,o=(16711680&r)>>>16,s=(65280&r)>>>8,a=255&r;t.fillStyle="rgba("+o+","+s+","+a+","+i+")"}},92:function(t,e){const n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,r,i,o){var s=t.strokeTint,a=n.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*r);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var u=e.pathData,h=u.length-1,l=e.lineWidth,x=l/2,f=u[0]-i,c=u[1]-o;e.closePath||(h-=2);for(var v=2;v<h;v+=2){var p=u[v]-i,d=u[v+1]-o;t.setTexture2D(),t.batchLine(f,c,p,d,x,x,l,v-2,!!e.closePath&&v===h-1),f=p,c=d}}},93:function(t,e){const n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,r,i,o,s){for(var a=n.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*i),u=r.pathData,h=r.pathIndexes,l=0;l<h.length;l+=3){var x=2*h[l],f=2*h[l+1],c=2*h[l+2],v=u[x+0]-o,p=u[x+1]-s,d=u[f+0]-o,y=u[f+1]-s,g=u[c+0]-o,b=u[c+1]-s,m=e.getX(v,p),w=e.getY(v,p),P=e.getX(d,y),R=e.getY(d,y),_=e.getX(g,b),O=e.getY(g,b);t.setTexture2D(),t.batchTri(m,w,P,R,_,O,0,0,1,1,a,a,a,t.tintEffect)}}},94:function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,a,u,h,l,c,p,d=e&&e.length,y=d?e[0]*n:t.length,g=i(t,0,y,n,!0),b=[];if(!g)return b;if(d&&(g=function(t,e,n,r){var s,a,u,h,l,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*r,h=s<a-1?e[s+1]*r:t.length,(l=i(t,u,h,r,!1))===l.next&&(l.steiner=!0),c.push(v(l));for(c.sort(x),s=0;s<c.length;s++)f(c[s],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],a=h=t[1];for(var m=n;m<y;m+=n)l=t[m],c=t[m+1],l<r&&(r=l),c<a&&(a=c),l>u&&(u=l),c>h&&(h=c);p=Math.max(u-r,h-a)}return s(g,b,n,r,a,p),b}function i(t,e,n,r,i){var o,s;if(i===O(t,e,n,r)>0)for(o=e;o<n;o+=r)s=P(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=P(o,t[o],t[o+1],s);return s&&g(s,s.next)&&(R(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(R(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function s(t,e,n,r,i,x,f){if(t){!f&&x&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=c(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,h=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<h&&(a++,r=r.nextZ);e++);for(u=h;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,h*=2}while(s>1)}(i)}(t,r,i,x);for(var v,p,d=t;t.prev!==t.next;)if(v=t.prev,p=t.next,x?u(t,r,i,x):a(t))e.push(v.i/n),e.push(t.i/n),e.push(p.i/n),R(t),t=p.next,d=p.next;else if((t=p)===d){f?1===f?s(t=h(t,e,n),e,n,r,i,x,2):2===f&&l(t,e,n,r,i,x):s(o(t),e,n,r,i,x,1);break}}}function a(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,s=t.next;if(y(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,x=c(a,u,e,n,r),f=c(h,l,e,n,r),v=t.nextZ;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(v=t.prevZ;v&&v.z>=x;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.prevZ}return!0}function h(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!g(i,o)&&b(i,r,r.next,o)&&m(i,o)&&m(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),R(r),R(r.next),r=t=o),r=r.next}while(r!==t);return r}function l(t,e,n,r,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&d(u,h)){var l=w(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,n,r,i,a),void s(l,e,n,r,i,a)}h=h.next}u=u.next}while(u!==t)}function x(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,h=n,l=n.x,x=n.y,f=1/0;r=n.next;for(;r!==h;)i>=r.x&&r.x>=l&&i!==r.x&&p(o<x?i:s,o,l,x,o<x?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&m(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function c(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function p(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function d(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(g(t,e)&&g(n,r)||g(t,r)&&g(n,e))||y(t,e,n)>0!=y(t,e,r)>0&&y(n,r,t)>0!=y(n,r,e)>0}function m(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function w(t,e){var n=new _(t.i,t.x,t.y),r=new _(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function P(t,e,n,r){var i=new _(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(O(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*n,l=a<u-1?e[a+1]*n:t.length;s-=Math.abs(O(t,h,l,n))}var x=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,c=r[a+1]*n,v=r[a+2]*n;x+=Math.abs((t[f]-t[v])*(t[c+1]-t[f+1])-(t[f]-t[c])*(t[v+1]-t[f+1]))}return 0===s&&0===x?0:Math.abs((x-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}}}).default});