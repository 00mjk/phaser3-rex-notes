!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexcsvtohashtableplugin=e():t.rexcsvtohashtableplugin=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=79)}({1:function(t,e,r){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},20:function(t,e,r){"use strict";e.a=function(t,e,r,s){e=e||",";for(var o=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),i=[],n=[i],h=null;h=o.exec(t);){var a=h[1];if(a.length&&a!=e&&(i=[],n.push(i)),h[2])var l=h[2].replace(new RegExp('""',"g"),'"');else l=h[3];r&&(l=s?r.call(s,l):r(l)),i.push(l)}return n}},6:function(t,e,r){"use strict";var s=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){if("string"!=typeof t)return t;if(""===t)t=null;else if(s.test(t))t=parseFloat(t);else{var e=t.toLowerCase();"false"===e?t=!1:"true"===e&&(t=!0)}return t}},79:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(80);e.default=class extends Phaser.Plugins.BasePlugin{constructor(t){super(t)}start(){this.game.events.once("destroy",this.destroy,this)}add(t){return new s.a(t)}}},8:function(t,e,r){"use strict";e.a=function(t,e,r,s){void 0===r&&(r=0),void 0===s&&(s=e.length),t.length=s-r;for(var o=0,i=t.length;o<i;o++)t[o]=e[o+r];return t}},80:function(t,e,s){"use strict";var o=s(20),i=s(8),n=s(6),h=s(1);const a=Phaser.Utils.Objects.GetValue;const l=function(t,e,r,s){return Object(n.a)(s)},c={ascending:0,descending:1,"logical ascending":2,"logical descending":3};e.a=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.table=a(t,"table",{}),this.rowKeys=a(t,"row",[]),this.colKeys=a(t,"col",[]),this.cursor=a(t,"cursor",{}),this}toJSON(){return{table:this.table,row:this.rowKeys,col:this.colKeys,cursor:this.cursor}}shutdown(){}destroy(){}loadCSV(t,e){var r=a(e,"delimiter",","),s=a(e,"convert",!0),n=a(e,"convertCallback",void 0),h=a(e,"convertCallbackScope",void 0);s?n||(n=l,h=void 0):(n=void 0,h=void 0),this.clean();var c=Object(o.a)(t,r);this.colKeys=Object(i.a)(this.colKeys,c[0]),this.rowKeys.length=c.length-1;for(var u=0,f=this.rowKeys.length;u<f;u++)this.rowKeys[u]=c[u+1][0];for(var y,v,d,K,p=this.colKeys,w=this.rowKeys,g=this.table,b=0,C=w.length;b<C;b++){d={},g[v=w[b]]=d;for(var O=0,x=p.length;O<x;O++)K=c[b+1][O],y=p[O],n&&(K=h?n.call(h,this,v,y,K):n(this,v,y,K)),d[y]=K}return this.setCursor("",""),this}clean(){var t=this.table;for(var e in t)delete t[e];return this.rowKeys.length=0,this.colKeys.length=0,this}get(t,e){var r=void 0,s=this.table;if(s.hasOwnProperty(t)){var o=s[t];o.hasOwnProperty(e)&&(r=o[e])}return this.setCursor(t,e),r}set(t,e,r){var s=this.table;if(s.hasOwnProperty(e)){var o=s[e];o.hasOwnProperty(t)&&(o[t]=r)}return this.setCursor(e,t),this}add(t,e,r){var s=this.table;if(s.hasOwnProperty(e)){var o=s[e];o.hasOwnProperty(t)&&(o[t]+=r)}return this.setCursor(e,t),this}hasRowKey(t){return-1!==this.rowKeys.indexOf(t)}hasColKey(t){return-1!==this.colKeys.indexOf(t)}hasKey(t,e){return this.hasRowKey(t)&&this.hasColKey(e)}isValueInRol(t,e){if(!this.hasRowKey(t))return!1;for(var r=this.table[t],s=this.colKeys,o=0,i=s.length;o<i;o++)if(r[s[o]]===e)return!0;return!1}isValueInCol(t,e){if(!this.hasColKey(t))return!1;for(var r=this.table,s=0,o=this.rowKeys.length;s<o;s++)if(r[void 0][t]===e)return!0;return!1}appendRow(t,e,r){if(this.hasRowKey(t))return this;var s="function"==typeof e,o=s?void 0:e;this.rowKeys.push(t);var i={};this.table[t]=i;for(var n,h,a=this.colKeys,l=0,c=a.length;l<c;l++)n=a[l],h=s?r?e.call(r,this,t,n):e(this,t,n):o,i[n]=h;return this}appendCol(t,e,r){if(this.hasColKey(t))return this;var s="function"==typeof e,o=s?void 0:e;this.colKeys.push(t);for(var i,n,h=this.table,a=this.rowKeys,l=0,c=a.length;l<c;l++)i=a[l],n=s?r?e.call(r,this,i,t):e(this,i,t):o,h[i][t]=n;return this}removeRol(t){var e=this.rowKeys.indexOf(t);return-1===e?this:(this.rowKeys.splice(e,1),delete this.table[t],this)}removeCol(t){var e=this.colKeys.indexOf(t);if(-1===e)return this;this.colKeys.splice(e,1);for(var r=this.table,s=this.rowKeys,o=0,i=s.length;o<i;o++)delete r[s[o]][t];return this}eachRow(t,e,r){for(var s,o,i=this.rowKeys,n=this.hasColKey(t),h=0,a=i.length;h<a;h++)s=i[h],n&&(o=this.get(s,t)),r?e.call(r,this,s,t,o):e(this,s,t,o);return this}eachCol(t,e,r){for(var s,o,i=this.colKeys,n=this.hasRowKey(t),h=0,a=i.length;h<a;h++)s=i[h],n&&(o=this.get(t,s)),r?e.call(r,this,t,s,o):e(r,this,t,s,o);return this}convertCol(t,e,r){if(void 0===e&&(e=l),Object(h.a)(t)){for(var s=0,o=t.length;s<o;s++)this.convertCol(t[s],e,r);return this}if(!this.hasColKey(t))return this;for(var i,n,a,c=this.table,u=this.rowKeys,f=0,y=u.length;f<y;f++)a=(i=c[n=u[f]])[t],a=r?e.call(r,this,n,t,a):e(this,n,t,a),i[t]=a;return this}convertRow(t,e,s){if(void 0===e&&(e=l),Object(h.a)(t)){for(var o=0,i=t.length;o<i;o++)this.convertRow(t[o],e,s);return this}for(var n,a,c=this.table[t],u=this.colKeys,f=0,y=u.length;f<y;f++)a=c[n=u[r]],a=s?e.call(s,this,t,n,a):e(this,t,n,a),c[n]=a;return this}get curColKey(){return this.cursor.colKey}get curRowKey(){return this.cursor.rowKey}nextColKey(t,e){void 0===t&&(t=this.cursor.colKey),void 0===e&&(e=1);var r=this.colKeys,s=r.indexOf(t);if(-1!==s)return r[s+e]}nextRowKey(t,e){void 0===t&&(t=this.cursor.rowKey),void 0===e&&(e=1);var r=this.rowKeys,s=r.indexOf(t);if(-1!==s)return r[s+1]}previousColKey(t,e){return void 0===e&&(e=1),e=-e,this.nextColKey(t,e)}previousRowKey(t,e){return void 0===e&&(e=1),e=-e,this.nextRowlKey(t,e)}sortCol(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var r=t;if(!this.hasRowKey(r))return this;var s=sceop;"string"==typeof s&&(s=c[s]);var o=this;t=function(t,e){var i,n=o.get(t,r),h=o.get(e,r);switch(s>=2&&(n=parseFloat(n),h=parseFloat(h)),s){case 0:case 2:i=n>h?1:n<h?-1:0;break;case 1:case 3:i=n<h?1:n>h?-1:0}return i}}return this.rowKeys.sort(t),this}sortRow(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var r=t;if(!this.hasRowKey(r))return this;var s=sceop;"string"==typeof s&&(s=c[s]);var o=this;t=function(t,e){var i,n=o.get(r,t),h=o.get(r,e);switch(s>=2&&(n=parseFloat(n),h=parseFloat(h)),s){case 0:case 2:i=n>h?1:n<h?-1:0;break;case 1:case 3:i=n<h?1:n>h?-1:0}return i}}return this.colKeys.sort(t),this}setCursor(t,e){var r=this.cursor;return r.rowKey=t,r.colKey=e,this}}}}).default});