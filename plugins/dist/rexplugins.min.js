!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexplugins=e():t.rexplugins=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=85)}([function(t,e,i){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},function(t,e,i){"use strict";const s=Phaser.Scene;e.a=function(t){return t instanceof s?t:t.scene&&t.scene instanceof s?t.scene:t.parent&&t.parent.scene&&t.parent.scene instanceof s?t.parent.scene:void 0}},function(t,e,i){"use strict";var s=i(3);e.a=function(t,e){var i,r=Array.isArray(t);for(var n in null!=e?(i=e,Object(s.a)(i)):i=r?[]:{},r&&(i.length=t.length),t)i[n]=t[n];return i}},function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},function(t,e,i){"use strict";e.a=class{constructor(){this.items=[]}pop(){return this.items.length>0?this.items.pop():null}push(t){this.items.push(t)}pushMultiple(t){for(var e=0,i=t.length;e<i;e++)this.items.push(t[e]);t.length=0}}},function(t,e,i){"use strict";e.a=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=e.length),t.length=s-i;for(var r=0,n=t.length;r<n;r++)t[r]=e[r+i];return t}},function(t,e,i){"use strict";const s=Phaser.Display.Canvas.Pool;var r={},n=function(t){var e=s.create(this),i=e.getContext("2d");t.syncFont(e,i);var n=Math.ceil(i.measureText(t.testString).width*t.baselineX),o=n,a=2*o;o=o*t.baselineY|0,e.width=n,e.height=a,i.fillStyle="#f00",i.fillRect(0,0,n,a),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,o);var h=r;if(!i.getImageData(0,0,n,a))return h.ascent=o,h.descent=o+6,h.fontSize=h.ascent+h.descent,s.remove(e),h;var l,u,c=i.getImageData(0,0,n,a).data,d=c.length,f=4*n,p=0,g=!1;for(l=0;l<o;l++){for(u=0;u<f;u+=4)if(255!==c[p+u]){g=!0;break}if(g)break;p+=f}for(h.ascent=o-l,p=d-f,g=!1,l=a;l>o;l--){for(u=0;u<f;u+=4)if(255!==c[p+u]){g=!0;break}if(g)break;p-=f}return h.descent=l-o,h.fontSize=h.ascent+h.descent,s.remove(e),h},o=i(0);const a=Phaser.Utils.Objects.GetAdvancedValue,h=Phaser.Utils.Objects.GetValue;var l={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",0],wrapWidth:["wrap.width",null]};const u={left:o.a.hleft,center:o.a.hcenter,right:o.a.hright},c={top:o.a.vtop,center:o.a.vcenter,bottom:o.a.vbottom},d={none:o.a.NO_WRAP,word:o.a.WORD_WRAP,char:o.a.CHAR_WRAP,character:o.a.CHAR_WRAP};e.a=class{constructor(t,e){this.parent=t,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1);var i=h(e,"metrics",!1);this.metrics=i?{ascent:h(i,"ascent",0),descent:h(i,"descent",0),fontSize:h(i,"fontSize",0)}:n(this)}setStyle(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=u[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=c[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var s=i.mode;"string"==typeof s&&(i.mode=d[s.toLowerCase()]||0)}else i.hasOwnProperty("width")&&(i.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),l)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?h(t,l[r][0],l[r][1]):a(t,l[r][0],l[r][1]);var n=h(t,"font",null);this._font=null===n?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:n;var o=h(t,"fill",null);return null!==o&&(this.color=o),e?this.update(!0):this.parent}syncFont(t,e){e.font=this._font}syncStyle(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}syncShadow(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=n(this)),this.parent.updateText(t)}buildFont(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}setFont(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=h(t,"fontFamily","Courier"),this.fontSize=h(t,"fontSize","16px"),this.fontStyle=h(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}setResolution(t){return this.resolution=t,this.update(!1)}setBackgroundColor(t){return this.backgroundColor=t,this.update(!1)}setFill(t){return this.color=t,this.update(!1)}setColor(t){return this.color=t,this.update(!1)}setStroke(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}setShadow(t,e,i,s,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===s&&(s=0),void 0===r&&(r=!1),void 0===n&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=s,this.shadowStroke=r,this.shadowFill=n,this.update(!1)}setShadowOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}setShadowColor(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}setShadowBlur(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}setUnderlineColor(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}setUnderlineThickness(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}setWrapMode(t){return"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){this.wrapWidth=t;var e=0!==this.wrapMode;return this.update(e)}setAlign(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=u[t.toLowerCase()]||0),"string"==typeof e&&(e=u[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}setHAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=u[t.toLowerCase()]||0),this.halign=t,this.update(!1)}setVAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=u[t.toLowerCase()]||0),this.valign=t,this.update(!1)}setMaxLines(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={};for(var e in l)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}},function(t,e,i){"use strict";var s=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t?t:(""===t?t=null:s.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)}},function(t,e,i){"use strict";const s=Phaser.GameObjects.Zone,r=Phaser.GameObjects.Components,n=Phaser.Math.RotateAround,o=Phaser.Utils.Array;class a extends s{constructor(t,e,i,s,r,n){Array.isArray(s)&&(n=s,s=void 0),super(t,e,i,s,r),this.children=t.add.group(),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._flipX=!1,this._flipY=!1,this._alpha=1,this._mask=null,n&&this.add(n)}add(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this}addMultiple(t){return t.forEach(this._add,this),this}remove(t){return this.children.remove(t),this}clear(){return this.children.clear(),this}getChildren(){return this.children.getChildren()}getAllChildren(){for(var t,e=[],i=this.getChildren(),s=0,r=i.length;s<r;s++)t=i[s],e.push(t),t.hasOwnProperty("isRexContainerLite")&&e.push(...t.getAllChildren());return e}contains(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),s=0,r=i.length;s<r;s++)if((e=i[s]).isRexContainerLite&&e.contains(t))return!0;return!1}worldToLocal(t){return t.x-=this.x,t.y-=this.y,n(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t}localToWorld(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,n(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this}updateChildVisible(t){return t.visible=this.visible&&this.getLocalState(t).visible,this}updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this}updateChildMask(t){return this._mask!==t&&(t.mask=this._mask),this}syncPosition(){return this.children&&this.syncChildrenEnable&&this.getChildren().forEach(this.updateChildPosition,this),this}syncVisible(){return this.children&&this.syncChildrenEnable&&this.getChildren().forEach(this.updateChildVisible,this),this}syncAlpha(){return this.children&&this.syncChildrenEnable&&this.getChildren().forEach(this.updateChildAlpha,this),this}syncMask(){return this.children&&this.syncChildrenEnable&&this.getChildren().forEach(this.updateChildMask,this),this}syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncMask(),this}destroy(){this.children.destroy(!0),this.children=void 0,super.destroy()}getLocalState(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer}resetChildState(t){var e=this.getLocalState(t);e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=t.scaleX/this.scaleX,e.scaleY=t.scaleY/this.scaleY,void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,e.alpha=t.alpha/this.alpha,e.visible=t.visible}setChildLocalPosition(t,e,i){var s=this.getLocalState(t);return s.x=e,s.y=i,this.updateChildPosition(t),this}_add(t){return this.children.add(t),this.resetChildState(t),this._visible||(t.visible=!1),this._mask&&this._mask!==t&&(t.mask=this._mask),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}get visible(){return super.visible}set visible(t){this.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return this._alpha}set alpha(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}setMask(t){return this.mask=t,this}clearMask(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}get list(){return this.getChildren()}getByName(t){return o.GetFirst(this.list,"name",t)}getRandom(t,e){return o.GetRandom(this.list,t,e)}getFirst(t,e,i,s){return o.GetFirstElement(this.list,t,e,i,s)}getAll(t,e,i,s){return o.GetAll(this.list,t,e,i,s)}count(t,e,i,s){return o.CountAllMatching(this.list,t,e,i,s)}swap(t,e){return o.Swap(this.list,t,e),this}moveTo(t,e){return o.MoveTo(this.list,t,e),this}setAll(t,e,i,s){return o.SetAll(this.list,t,e,i,s),this}}Object.assign(a.prototype,r.Alpha,r.Flip),e.a=a},function(t,e,i){"use strict";Phaser.GameObjects.GameObject;const s=Phaser.Renderer.WebGL.Utils;var r=function(t,e,i,r,n){if(""!==e.text){var o=e.frame,a=o.width,h=o.height,l=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,a/e.style.resolution,h/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,l(e._tintTL,r.alpha*e._alphaTL),l(e._tintTR,r.alpha*e._alphaTR),l(e._tintBL,r.alpha*e._alphaBL),l(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,n)}};Phaser.GameObjects.GameObject;var n=function(t,e,i,s,r){""!==e.text&&t.batchSprite(e,e.frame,s,r)};Phaser.Utils.NOOP;var o={renderWebGL:r,renderCanvas:n},a=i(6),h=i(4),l=i(0);const u=Phaser.Utils.Objects.GetValue,c=l.a.NO_NEWLINE,d=l.a.RAW_NEWLINE;var f=class{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=u(t,"text",""),this.x=u(t,"x",0),this.y=u(t,"y",0),this.width=u(t,"width",0);var e=u(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=u(t,"newLineMode",0),this.startIndex=u(t,"startIndex",0)}get rawText(){var t=this.text;return this.newLineMode===d&&(t+="\n"),t}get wrapText(){var t=this.text;return this.newLineMode!==c&&(t+="\n"),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===d&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}},p=i(2);const g=Phaser.Utils.NOOP,v=Phaser.Utils.Objects.GetFastValue,m=l.a.NO_NEWLINE;var y=new h.a,b=new h.a;class w{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=v(t,"pensPool",y),this.LinesPool=v(t,"linesPool",b),this.tagToText=v(t,"tagToText",g),this.tagToTextScope=v(t,"tagToTextScope",void 0)}destroy(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}freePens(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addPen(t,e,i,s,r,n){var o=this.PensPool.pop();null==o&&(o=new f),x.text=t,x.x=e,x.y=i,x.width=s,x.prop=r,x.newLineMode=n,o.resetFromJSON(x);var a=this.lastPen;o.startIndex=null==a?0:a.endIndex,this.pens.push(o);var h=this.lastLine;null==h&&(h=this.LinesPool.pop()||[],this.lines.push(h)),h.push(o),o.newLineMode!==m&&(h=this.LinesPool.pop()||[],this.lines.push(h)),this.maxLinesWidth=void 0}clone(t){null==t&&(t=new w),t.freePens();for(var e=0,i=this.lines.length;e<i;e++)for(var s=this.lines[e],r=0,n=s.length;r<n;r++){var o=s[r];t.addPen(o.text,o.x,o.y,o.width,Object(p.a)(o.prop),o.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e[0]?e[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,s=!1;for(e=t;e>=0&&!(s=null!=(i=this.lines[e])&&i.length>0);e--);return s?i[i.length-1].endIndex:0}getLineWidth(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}getMaxLineWidth(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,s=this.lines.length;i<s;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}getLineWidths(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}get linesCount(){return this.lines.length}get rawText(){for(var t="",e=this.pens,i=0,s=e.length;i<s;i++)t+=e[i].rawText;return t}get rawTextLength(){for(var t=0,e=this.pens,i=0,s=this.pens.length;i<s;i++)t+=e[i].rawTextLength;return t}getSliceTagText(t,e,i){if(void 0===t&&(t=0),void 0===e){var s=this.lastPen;if(null==s)return"";e=s.endIndex}void 0===i&&(i=!1);for(var r,n,o,a,h,l,u="",c=0,d=this.pens.length;c<d&&((a=(r=this.pens[c]).endIndex)<t||(r=this.pens[c],n=i?r.wrapText:r.rawText,h=r.prop,(o=r.startIndex)>=t&&a<=e||(n=n.substring(t-o,e-o)),this.tagToTextScope?u+=this.tagToText.call(this.tagToTextScope,n,h,l):u+=this.tagToText(n,h,l),l=h,!(a>=e)));c++);return u}}var x={},S=w;Phaser.Utils.GetValue;const _=l.a.NO_NEWLINE,C=l.a.RAW_NEWLINE,O=l.a.WRAPPED_NEWLINE,T=l.a.NO_WRAP,P=l.a.WORD_WRAP,k=(l.a.CHAR_WRAP,l.a.SPLITREGEXP);var M=[],E=new h.a;E.newline=function(t,e,i){var s=this.pop();return null===s&&(s={}),s.text=t,s.width=e,s.newLineMode=i,s};var R=function(t,e,i,s,r){var n=M;if(E.pushMultiple(n),!t||!t.length)return n;for(var o,a,h,l=t.split(k),u=0,c=l.length;u<c;u++)if(o=l[u],h=u===c-1?_:C,i!==T){var d,f;if(a=0===u?s-r:s,o.length<=100&&(w=e(o))<=a){n.push(E.newline(o,w,h));continue}for(var p,g="",v="",m=0,y=0,b=(d=i===P?o.split(" "):o).length;y<b;y++)f=d[y],i===P?(g+=f,y<b-1&&(g+=" ")):g+=f,(p=e(g))>a&&(0===y?n.push(E.newline("",0,O)):(n.push(E.newline(v,m,O)),g=f,i===P&&y<b-1&&(g+=" "),p=e(g)),a=s),v=g,m=p;n.push(E.newline(v,m,h))}else{var w=e(o);n.push(E.newline(o,w,h))}return n};const L=Phaser.Utils.Objects.GetValue,j=(l.a.NO_WRAP,l.a.NO_NEWLINE),I=(l.a.hleft,l.a.hcenter),A=l.a.hright,D=(l.a.vtop,l.a.vcenter),F=l.a.vbottom;var N={},B=class{constructor(t){this.context=L(t,"context",null),this.canvas=this.context.canvas,this.parser=L(t,"parser",null),this.defatultStyle=L(t,"style",null),this.autoRound=!0,this.pensPool=L(t,"pensPool",null),this.pensManager=this.newPenManager(),this._tmpPensManager=null;var e=this.context;this.getTextWidth=function(t){return e.measureText(t).width}}updatePensManager(t,e,i,s,r){if(void 0===r&&(r=this.pensManager),r.freePens(),""===t)return r;for(var n,o,a,h,l,u=this.canvas,c=this.context,d=0,f=0,g=this.parser.splitText(t),v=0,m=g.length;v<m;v++)if(n=(h=this.parser.tagTextToProp(g[v],o)).rawText,o=h.prop,""!==n){this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,o)).buildFont(),a.syncFont(u,c),a.syncStyle(u,c);for(var y=0,b=(l=R(n,this.getTextWidth,e,i,d)).length;y<b;y++){var w=l[y];r.addPen(w.text,d,f,w.width,Object(p.a)(o),w.newLineMode),w.newLineMode!==j?(d=0,f+=s):d+=w.width}this.context.restore()}return r}draw(t,e,i,s,r){void 0===r&&(r=this.pensManager);var n=this.context;n.save(),this.drawBackground();var o=this.defatultStyle;t+=o.strokeThickness/2,e+=o.strokeThickness/2+o.metrics.ascent;var a,h,l,u,c,d,f=o.halign,p=o.valign,g=o.lineHeight,v=r.lines,m=v.length,y=o.maxLines;y>0&&m>y?(h=y,l=p===D?Math.floor((m-h)/2):p===F?m-h:0):(h=m,l=0),u=l+h,d=p===D?Math.max((s-h*g)/2,0):p===F?Math.max(s-h*g-2,0):0,d+=e;for(var b=l;b<u;b++)if(0!==(a=r.getLineWidth(b))){c=f===I?(i-a)/2:f===A?i-a:0,c+=t;for(var w=v[b],x=0,S=w.length;x<S;x++)this.drawPen(w[x],c,d)}n.restore()}clear(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)}drawBackground(){var t=this.defatultStyle.backgroundColor;if(null!==t){var e=this.context,i=this.canvas;e.fillStyle=t,e.fillRect(0,0,i.width,i.height)}}drawUnderline(t,e,i,s,r){if(!(s<=0)){var n=this.context,o=n.lineCap;n.lineCap="butt",n.beginPath(),n.strokeStyle=r,n.lineWidth=s,n.moveTo(t,e),n.lineTo(t+i,e),n.stroke(),n.lineCap=o}}drawPen(t,e,i){var s=this.canvas,r=this.context;r.save();var n=this.parser.propToContextStyle(this.defatultStyle,t.prop);n.buildFont(),n.syncFont(s,r),n.syncStyle(s,r),e+=t.x,i+=t.y,this.autoRound&&(e=Math.round(e),i=Math.round(i));var o=t.text,a=t.width;this.drawUnderline(e,i+n.underlineOffset,a,n.underlineThickness,n.underlineColor),n.strokeThickness&&(n.syncShadow(r,n.shadowStroke),r.strokeText(o,e,i)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(o,e,i)),r.restore()}destroy(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.pensManager.destroy(),this.pensManager=void 0,this._tmpPensManager&&(this._tmpPensManager.destroy(),this._tmpPensManager=void 0)}get lines(){return this.pensManager.lines}get desplayLinesCount(){var t=this.pensManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}get linesWidth(){return this.pensManager.getMaxLineWidth()}get linesHeight(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}newPenManager(){return N.pensPool=this.pensPool,N.tagToText=this.parser.propToTagText,N.tagToTextScope=this.parser,new S(N)}get tmpPenManager(){return null===this._tmpPensManager&&(this._tmpPensManager=this.newPenManager()),this._tmpPensManager}getRawText(t,e,i){var s;if(null==t)s=this.pensManager.rawText;else{var r=this.parser.splitText(t,1);s="";for(var n=0,o=r.length;n<o;n++)s+=r[n]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=s.length),s=s.substring(e,i)),s}getPenManager(t,e){if(void 0===t)return this.copyPensManager(e,this.pensManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePensManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}getText(t,e,i,s){if(null==t)return this.pensManager.getSliceTagText(e,i,s);var r=this.tmpPenManager,n=this.defatultStyle;return this.updatePensManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,r),r.getSliceTagText(e,i,s)}copyPensManager(t,e){return void 0===e&&(e=this.pensManager),e.copy(t)}getTextWidth(t){return void 0===t&&(t=this.pensManager),t.getMaxLineWidth()}getLastPen(t){return void 0===t&&(t=this.pensManager),t.lastPen}};const Y=Phaser.DOM.AddToDOM,U=Phaser.Display.Canvas.Pool,W=Phaser.GameObjects.Components,X=Phaser.GameObjects.GameObject,V=Phaser.Utils.Objects.GetValue,K=Phaser.DOM.RemoveFromDOM,G=l.a.SPLITREGEXP;var H={},z=new Phaser.Class({Extends:X,Mixins:[W.Alpha,W.BlendMode,W.ComputedSize,W.Crop,W.Depth,W.Flip,W.GetBounds,W.Mask,W.Origin,W.Pipeline,W.ScaleMode,W.ScrollFactor,W.Tint,W.Transform,W.Visible,o],initialize:function(t,e,i,s,r,n,o){if(void 0===e&&(e=0),void 0===i&&(i=0),X.call(this,t,n),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.canvas=U.create(this),this.context=this.canvas.getContext("2d"),r&&r.hasOwnProperty("align")){var l=r.align;delete r.align,r.halign=l}this.style=new a.a(this,r),this.autoRound=!0,this._text="",this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),H.hasOwnProperty(n)||(H[n]=new h.a),J.context=this.context,J.parser=o,J.style=this.style,J.pensPool=H[n],this.canvasText=new B(J),r&&r.padding&&this.setPadding(r.padding),this.setText(s),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},text:{set:function(t){this.setText(t)},get:function(){return this._text}},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Y(this.canvas,this.scene.sys.canvas),this.originX=1)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText(!0)),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,r,n){return this.style.setShadow(t,e,i,s,r,n)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setHAlign(t)},setPadding:function(t,e,i,s){if("object"==typeof t){var r=t,n=V(r,"x",null);null!==n?(t=n,i=n):(t=V(r,"left",0),i=V(r,"right",t));var o=V(r,"y",null);null!==o?(e=o,s=o):(e=V(r,"top",0),s=V(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText()},setResolution:function(t){return this.style.setResolution(t)},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(t){void 0===t&&(t=!1);var e=this.canvasText,i=this.style;t&&e.updatePensManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var s=e.linesWidth,r=e.linesHeight,n=this.padding,o=s+n.left+n.right,a=r+n.top+n.bottom;0===i.fixedWidth&&(this.width=o),0===i.fixedHeight&&(this.height=a),this.updateDisplayOrigin();var h=i.resolution;o*=h,a*=h,o=Math.max(Math.ceil(o),1),a=Math.max(Math.ceil(a),1);var l=this.canvas,u=this.context;return l.width!==o||l.height!==a?(l.width=o,l.height=a,this.frame.setSize(o,a)):u.clearRect(0,0,o,a),u.save(),u.scale(h,h),e.draw(n.left,n.top,s,r),u.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=W.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&K(this.canvas),U.remove(this.canvas),this.canvasText.destroy()},getWrappedText:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(G)},getRawText:function(t,e,i){return this.canvasText.getRawText(t,e,i)},getText:function(t,e,i){return this.canvasText.getText(t,e,i,!1)},getSubString:function(t,e,i){return this.getText(t,e,i)},copyPensManager:function(t){return this.canvasText.copyPensManager(t)},getPenManager:function(t,e){return this.canvasText.getPenManager(t,e)}}),J={};e.a=z},function(t,e,i){"use strict";var s=i(25).nextTick,r=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=c;var n=i(19);n.inherits=i(18);var o=i(42),a=i(28);n.inherits(c,o);for(var h=r(a.prototype),l=0;l<h.length;l++){var u=h[l];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||s(f,this)}function f(t){t.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),s(e,t)}},function(t,e,i){"use strict";var s=i(5),r=i(7);const n=Phaser.Utils.Objects.GetValue;var o=function(t,e,i){var s,r=n(i,"reverse",!1);if("string"==typeof t[0])s=a(t,e,i);else if(r)for(h=(l=t.length)-1;h>=0;h--)s=o(t[h],e,i);else for(var h=0,l=t.length;h<l;h++)s=o(t[h],e,i);return s},a=function(t,e,i){var o=n(i,"argsConvert",void 0),a=n(i,"argsConvertScope",void 0),l=t[0];if(h=Object(s.a)(h,t,1),o){!0===o&&(o=r.a,a=void 0);for(var u=0,c=h.length;u<c;u++)h[u]=a?o.call(a,h[u],t):o(h[u],t)}var d=e[l];return null==d&&(d=n(e,l,null)),d.apply(e,h)},h=[],l=o;e.a=l},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Utils.Objects.GetValue;var n=class{constructor(t,e){this.parent=t,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.state=r(t,"state",0),this.now=r(t,"now",0),this.timeScale=r(t,"timeScale",1),this.tickMe=r(t,"tickMe",!0),this}toJSON(){return{state:this.state,now:this.now,timeScale:this.timeScale,tickMe:this.tickMe}}boot(){this.tickMe&&Object(s.a)(this.parent).events.on("update",this.update,this)}shutdown(){this.tickMe&&Object(s.a)(this.parent).events.off("update",this.update,this),this.parent=void 0}destroy(){this.shutdown()}start(t){return void 0===t&&(t=0),this.state=1,this.now=t,this}pause(){return this.state=0,this}resume(){return this.state=1,this}stop(){return this.state=0,this}seek(t){return this.now=t,this}get isRunning(){return 1===this.state}update(t,e){if(0===this.state)return this;this.now+=e*this.timeScale}};e.a=n},function(t,e,i){"use strict";var s=i(9),r={rawText:null,prevProp:null},n=new(i(6).a),o={},a={splitText:function(t,e){for(var i,s,r=[],n=0,o=t.length,a=o;i=u.exec(t);)s=i[0],n<(a=u.lastIndex-s.length)&&r.push(t.substring(n,a)),void 0===e&&r.push(s),n=u.lastIndex;return n<o&&r.push(t.substring(n,o)),r},tagTextToProp:function(t,e){var i,s;null==e&&(e={}),e.img&&h(e,M,"img"),c.test(t)?(h(e,E,"b",!0),i=""):d.test(t)?(h(e,M,"b"),i=""):f.test(t)?(h(e,E,"i",!0),i=""):p.test(t)?(h(e,M,"i"),i=""):g.test(t)?(s=t.match(g),h(e,E,"size",s[1]+"px"),i=""):v.test(t)?(h(e,M,"size"),i=""):m.test(t)?(s=t.match(m),h(e,E,"color",s[1]),i=""):y.test(t)?(h(e,M,"color"),i=""):b.test(t)?(s=t.match(b),h(e,E,"u",!0),i=""):w.test(t)?(s=t.match(w),h(e,E,"u",s[1]),i=""):x.test(t)?(h(e,M,"u"),i=""):S.test(t)?(h(e,E,"shadow",!0),i=""):_.test(t)?(h(e,M,"shadow"),i=""):C.test(t)?(h(e,E,"stroke",!0),i=""):O.test(t)?(s=t.match(O),h(e,E,"stroke",s[1]),i=""):T.test(t)?(h(e,M,"stroke"),i=""):P.test(t)?(s=t.match(P),h(e,E,"img",s[1]),i=""):k.test(t)?(h(e,M,"img"),i=""):i=t;var n=r;return n.rawText=i,n.prop=e,n},propToContextStyle:function(t,e){var i=n;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var s=e.size;"number"==typeof s&&(s=s.toString()+"px"),i.fontSize=s}else i.fontSize=t.fontSize;i.fontStyle=l(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var s in null==i&&(i=o),i)e.hasOwnProperty(s)||(t="[/"+s+"]"+t);var r="";for(var s in e)i[s]!==e[s]&&("size"===s?r+="[size="+e[s].replace("px","")+"]":"color"===s||"stroke"===s||"img"===s?r+="["+s+"="+e[s]+"]":"u"===s?!0===e[s]?r+="[u]":r+="[u="+e[s]+"]":r+="["+s+"]");return t=r+t}},h=function(t,e,i,s){return e===E?t[i]=s:t.hasOwnProperty(i)&&delete t[i],t},l=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},u=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]/gi,c=/\[b\]/i,d=/\[\/b\]/i,f=/\[i\]/i,p=/\[\/i\]/i,g=/\[size=(\d+)\]/i,v=/\[\/size\]/i,m=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,y=/\[\/color\]/i,b=/\[u\]/i,w=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,x=/\[\/u\]/i,S=/\[shadow\]/i,_=/\[\/shadow\]/i,C=/\[stroke\]/i,O=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,T=/\[\/stroke\]/i,P=/\[img=([^\]]+)\]/i,k=/\[\/img\]/i;const M=!1,E=!0;var R=a;e.a=class extends s.a{constructor(t,e,i,s,r){super(t,e,i,s,r,"rexBBCodeText",R)}}},function(t,e,i){"use strict";var s=i(9),r={rawText:null,prevProp:null},n=new(i(6).a);var o=function(t){for(var e,i,s,r={},n=0,o=(t=t.split(";")).length;n<o;n++)if(i=(e=t[n].split(":"))[0],s=e[1],!a(i)&&!a(s)){switch(i){case"stroke":var h=s.split(" ");s={},(u=h.length)>=1&&(s.color=h[0]),u>=2&&(s.thinkness=parseInt(h[1].replace("px","")));break;case"shadow":var l=s.split(" ");s={},(u=l.length)>=1&&(s.color=l[0]),u>=2&&(s.offsetX=parseInt(l[1].replace("px",""))),u>=3&&(s.offsetY=parseInt(l[2].replace("px",""))),u>=4&&(s.blur=parseInt(l[3].replace("px","")));break;case"u":case"underline":var u,c=s.split(" ");s={},(u=c.length)>=1&&(s.color=c[0]),u>=2&&(s.thinkness=parseInt(c[1].replace("px",""))),u>=3&&(s.offset=parseInt(c[2].replace("px","")))}r[i]=s}return r},a=function(t){return 0===(t=t.replace(f,"")).length},h=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,l=/<\s*class=/i,u=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,c=/<\s*style=/i,d=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,f=/^\s+|\s+$/,p=class{constructor(t){void 0===t&&(t={}),this.tags=t}addTag(t,e){this.tags[t]=e}splitText(t,e){for(var i,s,r,n=[],o=0,a=t.length,f=a;i=h.exec(t);)s=i[0],o<(f=h.lastIndex-s.length)&&n.push(t.substring(o,f)),void 0===e?n.push(s):1===e&&(l.test(s)?(r=s.match(u),n.push(r[2])):c.test(s)&&(r=s.match(d),n.push(r[2]))),o=h.lastIndex;return o<a&&n.push(t.substring(o,a)),n}tagTextToProp(t,e){var i,s;if(l.test(t)){if(null!=(h=t.match(u))){var n=h[1],a=this.tags;(s=a.hasOwnProperty(n)?a[n]:{})._class=n,i=h[2]}}else if(c.test(t)){var h;if(null!=(h=t.match(d))){var f=h[1];(s=o(f))._style=f,i=h[2]}}null==i&&(i=t),null==s&&(s={});var p=r;return p.rawText=i,p.prop=s,p}propToContextStyle(t,e){var i=n;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var s=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=s}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),i.fontSize=r}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var o=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=o}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")?(e.hasOwnProperty("color")?e.color:e["font-color"],i.color=e.color):i.color=t.color,e.hasOwnProperty("stroke")){var a=e.stroke;i.stroke=a.hasOwnProperty("color")?a.color:t.stroke,i.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var h=e.shadow;i.shadowColor=h.hasOwnProperty("color")?h.color:t.shadowColor,i.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:t.shadowOffsetX,i.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:t.shadowOffsetY,i.shadowBlur=h.hasOwnProperty("blur")?h.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var l=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=l.hasOwnProperty("color")?l.color:t.underlineColor,i.underlineThickness=l.hasOwnProperty("thinkness")?l.thinkness:t.underlineThickness,i.underlineOffset=l.hasOwnProperty("offset")?l.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}propToTagText(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}destroy(){this.tags=void 0}isTextTag(t){var e=this.tags[t];return!!e&&null==e.img}};const g=Phaser.Utils.Objects.GetValue;e.a=class extends s.a{constructor(t,e,i,s,r){var n=g(r,"tags",void 0),o=new p(n);super(t,e,i,s,r,"rexTagText",o),this.parser=o}addTag(t,e){return this.parser.addTag(t,e),this.updateText(!0)}addTags(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}},function(t,e,i){"use strict";Phaser.GameObjects.GameObject;const s=Phaser.Renderer.WebGL.Utils;var r=function(t,e,i,r,n){e.dirty&&(e.updateTexture(),e.dirty=!1);var o=e.frame,a=o.width,h=o.height,l=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,e.width,e.height,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,l(e._tintTL,r.alpha*e._alphaTL),l(e._tintTR,r.alpha*e._alphaTR),l(e._tintBL,r.alpha*e._alphaBL),l(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,n)};Phaser.GameObjects.GameObject;var n=function(t,e,i,s,r){t.batchSprite(e,e.frame,s,r)};Phaser.Utils.NOOP;var o={renderWebGL:r,renderCanvas:n};const a=Phaser.Display.Canvas.Pool,h=Phaser.GameObjects.Components,l=Phaser.GameObjects.GameObject;var u=new Phaser.Class({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScaleMode,h.ScrollFactor,h.Tint,h.Transform,h.Visible,o],initialize:function(t,e,i,s,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=0),l.call(this,t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=t.sys.game.config.resolution,this.canvas=a.create(this,this.resolution*s,this.resolution*r),this.context=this.canvas.getContext("2d"),this.dirty=!0,this.setPosition(e,i),this.setSize(s,r),this.setOrigin(.5,.5),this.initPipeline("TextureTintPipeline"),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer.gl&&(s>0&&r>0?this.updateTexture():(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null)),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},getCanvas:function(t){return t||(this.dirty=!0),this.canvas},needRedraw:function(){return this.dirty=!0,this},clear:function(){var t=this.canvas;return t.getContext("2d").clearRect(0,0,t.width,t.height),this.dirty=!0,this},fill:function(t){var e=this.canvas,i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,e.width,e.height),this.dirty=!0,this},preDestroy:function(){a.remove(this.canvas)},updateTexture:function(t,e){return t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1,this},generateTexture:function(t,e,i,s,r){var n,o=this.canvas,a=this.scene.sys,h=a.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===s?s=o.width:s*=this.resolution,void 0===r?r=o.height:r*=this.resolution;var l=(n=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,s,r)).getSourceImage();l.width!==s&&(l.width=s),l.height!==r&&(l.height=r);var u=l.getContext("2d");return u.clearRect(0,0,s,r),u.drawImage(o,e,i,s,r),h.gl&&n&&(n.source[0].glTexture=h.canvasToTexture(l,n.source[0].glTexture,!0,0)),this},loadTexture:function(t,e){var i=this.scene.sys;if(!i.textures.exists(t))return this;void 0===e&&(e=!0);var s=i.textures.get(t).getSourceImage(),r=(s.getContext("2d"),this.canvas);r.width!==s.width&&(r.width=s.width),r.height!==s.height&&(r.height=s.height);var n=r.getContext("2d");return n.clearRect(0,0,r.width,r.height),n.drawImage(s,0,0,r.width,r.height),this.updateTexture(),e&&this.setSize(r.width/this.resolution,r.height/this.resolution),this}});e.a=u},function(t,e,i){"use strict";var s=i(8),r=i(3);var n=class{constructor(t,e){this.container=null,this.data=null,this.setParent(t),this._deltaHeight=0}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}get table(){return this.parent}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}destroyContainer(){this.container&&(this.container.destroy(),this.container=null)}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}setXY(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}setData(t,e){return this.data||(this.data={}),this.data[t]=e,this}getData(t,e){this.data||(this.data={});var i=this.data;return i.hasOwnProperty(t)?i[t]:e}cleanData(){this.data&&Object(r.a)(this.data)}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}get height(){var t=this.parent;return this.deltaHeight+t.defaultCellHeight}set height(t){var e,i=this.parent;e=void 0===t?0:t-i.defaultCellHeight,this.setDeltaHeight(e)}setHeight(t){return this.height=t,this}get width(){return this.parent.defaultCellWidth}destroy(){var t=this.parent;0!==this.deltaHeight&&t.nonZeroDeltaHeightCount--,this.cleanData(),this.destroyContainer(),this.parent=void 0,this.parentContainer=void 0}},o=i(4).a;const a=Phaser.Utils.Objects.GetValue,h=Phaser.Utils.Array.SpliceOne;var l=new o;var u=class{constructor(t,e){this.parent=t,this.cells=[],this.resetFromJSON(e)}resetFromJSON(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(a(t,"cellHeight",30)),this.setDefaultCellWidth(a(t,"cellWidth",30)),this.initCells(a(t,"cellsCount",0)),this.setColumnCount(a(t,"columns",1)),this}get nonZeroDeltaHeightCount(){return this._nonZeroDeltaHeightCount}set nonZeroDeltaHeightCount(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}get defaultCellHeightMode(){return 0===this.nonZeroDeltaHeightCount}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}insertNewCell(t,e){var i=this.cells;if(t===i.length){var s=t+e;i.legth=s;for(var r=t;r<s;r++)i[r]=null}else{var n=[];for(n.length=e,r=0;r<e;r++)n[r]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCell(t,e){for(var i=t+e,s=t;s<i;s++)this.freeCell(s);return i===this.cells.length?this.cells.length=t:(1===e?h(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return i=e?Math.ceil(i):Math.floor(i)}var s,r=this.rowCount,n=t;for(i=0;;){if(n-=this.getRowHeight(i),s=i>=0&&i<r,!(n>0&&s)){if(0===n)return i;if(e){var o=i;(s=(i+=1)>=0&&i<r)||(i=o)}return i}i+=1}}widthToColIndex(t,e){var i=t/this.defaultCellWidth;return i=e?Math.ceil(i):Math.floor(i)}colRowToCellIndex(t,e){return e*this.colCount+t}rowIndexToHeight(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,s=t;s<=e;s++)i+=this.getRowHeight(s);return i}colIndexToWidth(t,e){return(e-t+1)*this.defaultCellWidth}getRowHeight(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,s=0,r=0;r<e;r++)s<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(s=i);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),s=i?i.deltaHeight:0;e=this.defaultCellHeight+s}return e}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}newCell(t){var e=l.pop();return null===e?e=new n(this):e.setParent(this),e.index=t,e}buildCellIndex(t){void 0===t&&(t=0);for(var e,i=this.cells,s=t,r=i.length;s<r;s++)(e=i[s])&&(e.index=s);return this}getParentContainer(){return this.parent}freeCell(t){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(),l.push(t),this):this}destroy(){this.parent=void 0}};const c=s.a,d=Phaser.GameObjects.Components,f=Phaser.Structs.Set,p=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Clamp;class v extends c{constructor(t,e,i,s,r,n){super(t,e,i,s,r),this.type="rexGridTable",this.updateFlag=!0,this._tableOX=0,this._tableOY=0,this.visibleCells=new f,this.preVisibleCells=new f,this.visibleStartX=null,this.visibleEndX=null,this.visibleStartY=null,this.visibleEndY=null,this.lastVisibleCellIdx=null,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var o=p(n,"cellVisibleCallback",null);if(null!==o){var a=p(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",o,a)}if(null!==(o=p(n,"cellInvisibleCallback",null))){a=p(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",o,a)}var h=p(n,"mask",!0);!0===h&&(h=this.getDefaultMask()),h&&this.setMask(h),this.setScrollMode(p(n,"scrollMode",0)),this.setClampMode(p(n,"clamplTableOXY",!0)),this.table=new u(this,n),this.updateTable()}setScrollMode(t){"string"==typeof t&&(t=m[t.toLowerCase()]),this.scrollMode=t}setClampMode(t){return this.clampTableOXYMode=t,this}setCellsCount(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}setColumnCount(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this.updateFlag=!0,this)}setGridSize(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}insertNewCell(t,e){return"object"==typeof t&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=g(t,0,this.cellsCount),this.table.insertNewCell(t,e),t<=this.lastVisibleCellIdx&&(this.updateFlag=!0),this)}removeCell(t,e){if("object"==typeof t&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,s=this.preVisibleCells,r=this.visibleCells,n=t,o=t+e;n<o;n++)(i=this.getCell(n,!1))&&(r.contains(i)&&(this.hideCell(i),this.updateFlag=!0,r.delete(i)),s.delete(i));return this.table.removeCell(t,e),this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){var e=this.table,i=this.topTableOY,s=this.bottomTableOY,r=this.tableOYExceedTop(t),n=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:n&&(t=s));this._tableOY!==t&&(this.updateFlag=!0,this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,n&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=n}set tableOX(t){var e=this.table,i=this.leftTableOX,s=this.rightTableOX,r=this.tableOXExeceedLeft(t),n=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:n&&(t=s));this._tableOX!==t&&(this.updateFlag=!0,this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,n&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=n}setTableOY(t){return this.tableOY=t,this}setTableOX(t){return this.tableOX=t,this}setTableOXY(t,e){return this.tableOX=t,this.tableOY=e,this}addTableOX(t){return this.tableOX+=t,this}addTableOY(t){return this.tableOY+=t,this}addTableOXY(t,e){return this.tableOX+=t,this.tableOY+=e,this}setTableOYByPercentage(t){return t=g(t,0,1),this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){return this.tableOY/-this.tableVisibleHeight}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}updateTable(t){return t&&(this.updateFlag=!0),this.updateFlag?(this.updateFlag=!1,t&&(this.cleanVisibleCellIndexes(),this.hideCells()),this.cleanVisibleCellIndexes(),this.showCells(),this.hideCells(),this):this}getCell(t){return this.table.getCell(t,!0)}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,e){"number"==typeof t&&(this.table.getCell(t,!0).height=e);return this}eachVisibleCell(t,e){return this.visibleCells.each(t,e),this}iterateVisibleCell(t,e){return this.visibleCells.iterate(t,e),this}getDefaultMask(){var t=-this.width*this.originX,e=-this.height*this.originY,i=this.scene.make.graphics(void 0,!1).fillStyle(16777215).fillRect(t,e,this.width,this.height).setPosition(this.x,this.y);return this.add(i),i.createGeometryMask()}cleanVisibleCellIndexes(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}showCells(){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var s=t.colRowToCellIndex(i,e),r=this.bottomBound,n=this.rightBound,o=t.cellsCount-1,a=t.colCount-1,h=this.getTLX(i),l=h,u=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;u<r&&s<=o;){if(this.table.isValidCellIdx(s)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=s),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<s&&(this.lastVisibleCellIdx=s);var c=t.getCell(s,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(l,u):c.setXY(u,l)}l<n&&i<a?(l+=t.getColWidth(i),i+=1):(l=h,u+=t.getRowHeight(e),i=this.visibleStartX,e+=1),s=t.colRowToCellIndex(i,e)}}showCell(t){this.emit("cellvisible",t)}hideCells(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}hideCell(t){this.emit("cellinvisible",t),t.destroyContainer()}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}tableOYExceedTop(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}tableOYExeceedBottom(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}tableOXExeceedLeft(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}tableOXExeceedRight(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}get tableVisibleHeight(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}get tableVisibleWidth(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:t}get bottomLeftY(){return-this.displayHeight*this.originY+this.displayHeight}get topRightX(){return-this.displayWidth*this.originX+this.displayWidth}get topLeftX(){return-this.displayWidth*this.originX}get topLeftY(){return-this.displayHeight*this.originY}get bottomBound(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}get rightBound(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}getTLX(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}getTLY(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}destroy(){this.setCellsCount(0),this.table.destroy(),super.destroy()}}Object.assign(v.prototype,d.GetBounds);const m={v:0,vertical:0,h:1,horizontal:1};e.a=v},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e,i){(function(t){function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,i(40).Buffer)},function(t,e,i){"use strict";const s=Phaser.Events.EventEmitter,r=Phaser.Utils.Objects.GetValue;var n=class extends s{constructor(t){super();var e=r(t,"states",void 0);e&&this.addStates(e);var i=r(t,"extend",void 0);if(i)for(var s in i)this.hasOwnProperty(s)&&void 0!==this[s]||(this[s]=i[s]);this._stateLock=!1,this.resetFromJSON(t)}resetFromJSON(t){this.setEnable(r(t,"enable",!0)),this.start(r(t,"start",void 0));var e=r(t,"init",void 0);return e&&e.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}set state(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var s="enter_"+this._state,r=this[s];r&&r.call(this),this.emit(s,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return null!=t&&(this.state=t),this}next(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}addState(t,e){var i=r(e,"next",void 0);i&&(this["next_"+t]=i);var s=r(e,"exit",void 0);s&&(this["exit_"+t]=s);var n=r(e,"enter",void 0);return n&&(this["enter_"+t]=n),this}addStates(t){for(var e in t)this.addState(e,t[e]);return this}update(t,e,i){void 0===i&&(i="update");var s=this[i+"_"+this.state];s&&s.call(this,t,e)}preupdate(t,e){this.update(t,e,"preupdate")}postupdate(t,e){this.update(t,e,"postupdate")}};e.a=n},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue,o=Phaser.Math.Distance.Between;var a=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.setEnable(n(t,"enable",!0)),this.holdThreshold=n(t,"holdThreshold",50),this}boot(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}shutdown(){super.shutdown(),this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return void 0===this.pointer}get justMoved(){return this.pointer&&this.pointer.justMoved}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){return this.scene.sys.game.loop.delta}get speed(){return this.x===this.preX&&this.y===this.preY?0:o(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}get speedX(){return this.dx/(.001*this.dt)}get speedY(){return this.dy/(.001*this.dt)}onPointIn(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}onPointOut(t){this.pointer===t&&(this.pointer=void 0)}onPointerMove(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}preupdate(t,e){var i=this.pointer;i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}};e.a=a},function(t,e,i){"use strict";const s=Phaser.Utils.Objects.GetValue,r=Phaser.Input.Keyboard.Key,n=Phaser.Math.Distance.Between,o=Phaser.Math.Angle.Between,a=Phaser.Math.RadToDeg;const h={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var l=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){void 0==this.start&&(this.start={}),void 0==this.end&&(this.end={}),this.noKeyDown=s(t,"noKeyDown",!0),void 0==this.cursorKeys&&(this.cursorKeys={up:new r,down:new r,left:new r,right:new r}),this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"dir","8dir")),this.setDistanceThreshold(s(t,"forceMin",16));var e=s(t,"start.x",null),i=s(t,"start.y",null),n=s(t,"end.x",null),o=s(t,"end.y",null);return this.setVector(e,i,n,o),this}toJSON(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,noKeyDown:this.noKeyDown,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}setMode(t){return"string"==typeof t&&(t=h[t]),this.dirMode=t,this}setEnable(t){(t=void 0==t||!!t)!==this.enable&&(!1===t&&this.cleanVector(),this.enable=t)}setDistanceThreshold(t){return t<0&&(t=0),this.forceMin=t,this}createCursorKeys(){return this.cursorKeys}setKeyState(t,e){var i=this.cursorKeys[t];if(i.enabled){var s=!e;i.isDown=e,i.isUp=s,e&&(this.noKeyDown=!1)}}getKeyState(t){return this.cursorKeys[t]}cleanVector(){for(var t in this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.noKeyDown=!0,this.cursorKeys)this.setKeyState(t,!1);return this}setVector(t,e,i,s){if(this.cleanVector(),!this.enable)return this;if(null===t)return this;if(this.start.x=t,this.start.y=e,this.end.x=i,this.end.y=s,this.force<this.forceMin)return this;var r=(360+this.angle)%360;switch(this.dirMode){case 0:var n=r<180?"down":"up";this.setKeyState(n,!0);break;case 1:n=r>90&&r<=270?"left":"right",this.setKeyState(n,!0);break;case 2:n=r>45&&r<=135?"down":r>135&&r<=225?"left":r>225&&r<=315?"up":"right",this.setKeyState(n,!0);break;case 3:r>22.5&&r<=67.5?(this.setKeyState("down",!0),this.setKeyState("right",!0)):r>67.5&&r<=112.5?this.setKeyState("down",!0):r>112.5&&r<=157.5?(this.setKeyState("down",!0),this.setKeyState("left",!0)):r>157.5&&r<=202.5?this.setKeyState("left",!0):r>202.5&&r<=247.5?(this.setKeyState("left",!0),this.setKeyState("up",!0)):r>247.5&&r<=292.5?this.setKeyState("up",!0):r>292.5&&r<=337.5?(this.setKeyState("up",!0),this.setKeyState("right",!0)):this.setKeyState("right",!0)}return this}get forceX(){return this.end.x-this.start.x}get forceY(){return this.end.y-this.start.y}get force(){return n(this.start.x,this.start.y,this.end.x,this.end.y)}get rotation(){return o(this.start.x,this.start.y,this.end.x,this.end.y)}get angle(){return a(this.rotation)}get octant(){var t=0;return this.rightKeyDown?t=this.downKeyDown?45:0:this.downKeyDown?t=this.leftKeyDown?135:90:this.leftKeyDown?t=this.upKeyDown?225:180:this.upKeyDown&&(t=this.rightKeyDown?315:270),t}get upKeyDown(){return this.cursorKeys.up.isDown}get downKeyDown(){return this.cursorKeys.down.isDown}get leftKeyDown(){return this.cursorKeys.left.isDown}get rightKeyDown(){return this.cursorKeys.right.isDown}get anyKeyDown(){return!this.noKeyDown}};const u=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetValue,d=Phaser.Geom;var f=class extends l{constructor(t,e){super(e),this.events=new u,this.scene=t.scene,this.gameObject=t,this.radius=c(e,"radius",100),t.setInteractive(new d.Circle(0,0,this.radius),d.Circle.Contains),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.pointer=void 0,this}toJSON(){var t=super.toJSON();return t.radius=this.radius,t}boot(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this);var t=this.scene.input;t.on("pointermove",this.onKeyDown,this),t.on("pointerup",this.onKeyUp,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){var t=this.scene.input;t.off("pointermove",this.onKeyDown,this),t.off("pointerup",this.onKeyUp,this),this.events.destroy(),this.pointer=void 0,this.scene=void 0,this.gameObject=void 0,this.events=void 0}destroy(){this.shutdown()}onKeyDownStart(t){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.onKeyDown(t))}onKeyDown(t){if(this.pointer===t){var e=this.gameObject,i=t;this.setVector(e.x,e.y,i.x,i.y),this.events.emit("update")}}onKeyUp(t){this.pointer===t&&(this.pointer=void 0,this.cleanVector(),this.events.emit("update"))}on(){var t=this.events;return t.on.apply(t,arguments),this}once(){var t=this.events;return t.once.apply(t,arguments),this}};e.a=f},function(t,e,i){"use strict";e.a=function(t,e,i,s){e=e||",";for(var r=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),n=[],o=[n],a=null;a=r.exec(t);){var h=a[1];if(h.length&&h!=e&&(n=[],o.push(n)),a[2])var l=a[2].replace(new RegExp('""',"g"),'"');else l=a[3];i&&(l=s?i.call(s,l):i(l)),n.push(l)}return o}},function(t,e,i){var s=i(40),r=s.Buffer;function n(t,e){for(var i in t)e[i]=t[i]}function o(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=s:(n(s,e),e.Buffer=o),n(r,o),o.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,i)},o.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var s=r(t);return void 0!==e?"string"==typeof i?s.fill(e,i):s.fill(e):s.fill(0),s},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s.SlowBuffer(t)}},function(t,e,i){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,i,s,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,i)});case 3:return e.nextTick(function(){t.call(null,i,s)});case 4:return e.nextTick(function(){t.call(null,i,s,r)});default:for(n=new Array(a-1),o=0;o<n.length;)n[o++]=arguments[o];return e.nextTick(function(){t.apply(null,n)})}}}:t.exports=e}).call(this,i(26))},function(t,e){var i,s,r=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(t){i=n}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(t){s=o}}();var h,l=[],u=!1,c=-1;function d(){u&&h&&(u=!1,h.length?l=h.concat(l):c=-1,l.length&&f())}function f(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(h=l,l=[];++c<e;)h&&h[c].run();c=-1,e=l.length}h=null,u=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new p(t,e)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Objects.GetAdvancedValue;const o={stop:0,destroy:1,yoyo:2};var a=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.alpha={},this.tween=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setMode(r(t,"mode",0)),this.setAlphaRange(n(t,"alpha.start",this.gameObject.alpha),n(t,"alpha.end",0)),this.setDelay(n(t,"delay",0)),this.setFadeOutTime(n(t,"duration",1e3)),this}toJSON(){return{mode:this.mode,alpha:this.alpha,delay:this.delay,duration:this.duration}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.stop(),this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setMode(t){return"string"==typeof t&&(t=o[t]),this.mode=t,this}setAlphaRange(t,e){return this.alpha.start=t,this.alpha.end=e,this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}start(){if(!this.tween){var t=this.alpha;return this.gameObject.alpha=t.start,this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:t.end,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this}}stop(){if(this.tween)return this.tween.stop(),this.tween=void 0,this}complete(){1===this.mode&&this.gameObject.destroy()}};e.a=a},function(t,e,i){"use strict";(function(e,s,r){var n=i(25).nextTick;function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var s=t.entry;t.entry=null;for(;s;){var r=s.callback;e.pendingcb--,r(i),s=s.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var a,h=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?s:n;y.WritableState=m;var l=i(19);l.inherits=i(18);var u={deprecate:i(74)},c=i(41),d=i(24).Buffer,f=r.Uint8Array||function(){};var p,g=i(39);function v(){}function m(t,e){a=a||i(10),t=t||{};var s=e instanceof a;this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,l=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,s=i.sync,r=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,s,r){--e.pendingcb,i?(n(r,s),n(C,t,e),t._writableState.errorEmitted=!0,t.emit("error",s)):(r(s),t._writableState.errorEmitted=!0,t.emit("error",s),C(t,e))}(t,i,s,e,r);else{var o=S(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||x(t,i),s?h(w,t,i,o,r):w(t,i,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(a=a||i(10),!(p.call(y,this)||this instanceof a))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function b(t,e,i,s,r,n,o){e.writelen=s,e.writecb=o,e.writing=!0,e.sync=!0,i?t._writev(r,e.onwrite):t._write(r,n,e.onwrite),e.sync=!1}function w(t,e,i,s){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,s(),C(t,e)}function x(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var s=e.bufferedRequestCount,r=new Array(s),n=e.corkedRequestsFree;n.entry=i;for(var a=0,h=!0;i;)r[a]=i,i.isBuf||(h=!1),i=i.next,a+=1;r.allBuffers=h,b(t,e,!0,e.length,r,"",n.finish),e.pendingcb++,e.lastBufferedRequest=null,n.next?(e.corkedRequestsFree=n.next,n.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,u=i.encoding,c=i.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,u,c),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function _(t,e){t._final(function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),C(t,e)})}function C(t,e){var i=S(e);return i&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,n(_,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}l.inherits(y,c),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof m)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,i){var s,r=this._writableState,o=!1,a=!r.objectMode&&(s=t,d.isBuffer(s)||s instanceof f);return a&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(i=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=v),r.ended?function(t,e){var i=new Error("write after end");t.emit("error",i),n(e,i)}(this,i):(a||function(t,e,i,s){var r=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),n(s,o),r=!1),r}(this,r,t,i))&&(r.pendingcb++,o=function(t,e,i,s,r,n){if(!i){var o=function(t,e,i){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,i));return e}(e,s,r);s!==o&&(i=!0,r="buffer",s=o)}var a=e.objectMode?1:s.length;e.length+=a;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:s,encoding:r,isBuf:i,callback:n,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,s,r,n);return h}(this,r,a,t,e,i)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||x(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},y.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,i){var s=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!==t&&void 0!==t&&this.write(t,e),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||function(t,e,i){e.ending=!0,C(t,e),i&&(e.finished?n(i):t.once("finish",i));e.ended=!0,t.writable=!1}(this,s,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,i(26),i(76).setImmediate,i(17))},function(t,e,i){(e=t.exports=i(42)).Stream=e,e.Readable=e,e.Writable=i(28),e.Duplex=i(10),e.Transform=i(37),e.PassThrough=i(73)},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function n(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,o,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n(i=this._events[t]))return!1;if(s(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(r(i))for(a=Array.prototype.slice.call(arguments,1),o=(l=i.slice()).length,h=0;h<o;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var o;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(o=n(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!s(e))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},i.prototype.removeListener=function(t,e){var i,n,o,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(i=this._events[t]).length,n=-1,i===e||s(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(s(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){"use strict";const s=Phaser.Loader.FILE_POPULATED;var r=class extends Phaser.Loader.File{constructor(t,e){super(t,e)}load(){if(this.state===s)this.loader.nextFile(this,!0);else{var t=this.config,e=t.callback,i=t.scope,r=this.onLoad.bind(this),n=this.onError.bind(this);e?i?e.call(i,r,n):e(r,n):this.onLoad()}}onLoad(){this.loader.nextFile(this,!0)}onError(){this.loader.nextFile(this,!1)}};const n=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){return n(t)?(e=t).hasOwnProperty("config")?(e.type="await",e.url=""):e={key:"await",type:"await",url:"",config:e}:e={type:"await",url:"",key:t,config:e},this.addFile(new r(this,e)),this}},function(t,e,i){"use strict";var s=i(63),r=i.n(s);const n=Phaser.Loader.FILE_POPULATED;var o=class extends Phaser.Loader.File{constructor(t,e){super(t,e)}load(){if(this.state===n)this.loader.nextFile(this,!0);else{var t=this.config;t.active=this.onLoad.bind(this),t.inactive=this.onError.bind(this),t.fontactive=this.onFontActive.bind(this),t.fontinactive=this.onFontInactive.bind(this),r.a.load(t)}}onLoad(){this.loader.nextFile(this,!0)}onError(){this.loader.nextFile(this,!1)}onFontActive(t,e){this.loader.emit("webfontactive",this,t)}onFontInactive(t,e){this.loader.emit("webfontinactive",this,t)}};const a=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){return a(t)?(e=t).hasOwnProperty("config")?(e.type="webfont",e.url=""):e={key:"webfont",type:"webfont",url:"",config:e}:e={type:"webfont",url:"",key:t,config:e},this.addFile(new o(this,e)),this}},function(t,e,i){var s,r=function(){function t(t,e){if(!r[t]){r[t]={};for(var i=0;i<t.length;i++)r[t][t.charAt(i)]=i}return r[t][e]}var e=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},n={compressToBase64:function(t){if(null==t)return"";var e=n._compress(t,6,function(t){return i.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:n._decompress(e.length,32,function(s){return t(i,e.charAt(s))})},compressToUTF16:function(t){return null==t?"":n._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:n._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=n.compress(t),i=new Uint8Array(2*e.length),s=0,r=e.length;r>s;s++){var o=e.charCodeAt(s);i[2*s]=o>>>8,i[2*s+1]=o%256}return i},decompressFromUint8Array:function(t){if(null===t||void 0===t)return n.decompress(t);for(var i=new Array(t.length/2),s=0,r=i.length;r>s;s++)i[s]=256*t[2*s]+t[2*s+1];var o=[];return i.forEach(function(t){o.push(e(t))}),n.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":n._compress(t,6,function(t){return s.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),n._decompress(e.length,32,function(i){return t(s,e.charAt(i))}))},compress:function(t){return n._compress(t,16,function(t){return e(t)})},_compress:function(t,e,i){if(null==t)return"";var s,r,n,o={},a={},h="",l="",u="",c=2,d=3,f=2,p=[],g=0,v=0;for(n=0;n<t.length;n+=1)if(h=t.charAt(n),Object.prototype.hasOwnProperty.call(o,h)||(o[h]=d++,a[h]=!0),l=u+h,Object.prototype.hasOwnProperty.call(o,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(s=0;f>s;s++)g<<=1,v==e-1?(v=0,p.push(i(g)),g=0):v++;for(r=u.charCodeAt(0),s=0;8>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1}else{for(r=1,s=0;f>s;s++)g=g<<1|r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r=0;for(r=u.charCodeAt(0),s=0;16>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1}0==--c&&(c=Math.pow(2,f),f++),delete a[u]}else for(r=o[u],s=0;f>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1;0==--c&&(c=Math.pow(2,f),f++),o[l]=d++,u=String(h)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(s=0;f>s;s++)g<<=1,v==e-1?(v=0,p.push(i(g)),g=0):v++;for(r=u.charCodeAt(0),s=0;8>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1}else{for(r=1,s=0;f>s;s++)g=g<<1|r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r=0;for(r=u.charCodeAt(0),s=0;16>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1}0==--c&&(c=Math.pow(2,f),f++),delete a[u]}else for(r=o[u],s=0;f>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1;0==--c&&(c=Math.pow(2,f),f++)}for(r=2,s=0;f>s;s++)g=g<<1|1&r,v==e-1?(v=0,p.push(i(g)),g=0):v++,r>>=1;for(;;){if(g<<=1,v==e-1){p.push(i(g));break}v++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:n._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,i,s){var r,n,o,a,h,l,u,c=[],d=4,f=4,p=3,g="",v=[],m={val:s(0),position:i,index:1};for(r=0;3>r;r+=1)c[r]=r;for(o=0,h=Math.pow(2,2),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;switch(o){case 0:for(o=0,h=Math.pow(2,8),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;u=e(o);break;case 1:for(o=0,h=Math.pow(2,16),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;u=e(o);break;case 2:return""}for(c[3]=u,n=u,v.push(u);;){if(m.index>t)return"";for(o=0,h=Math.pow(2,p),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;switch(u=o){case 0:for(o=0,h=Math.pow(2,8),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;c[f++]=e(o),u=f-1,d--;break;case 1:for(o=0,h=Math.pow(2,16),l=1;l!=h;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=i,m.val=s(m.index++)),o|=(a>0?1:0)*l,l<<=1;c[f++]=e(o),u=f-1,d--;break;case 2:return v.join("")}if(0==d&&(d=Math.pow(2,p),p++),c[u])g=c[u];else{if(u!==f)return null;g=n+n.charAt(0)}v.push(g),c[f++]=n+g.charAt(0),n=g,0==--d&&(d=Math.pow(2,p),p++)}}};return n}();void 0===(s=function(){return r}.call(e,i,e,t))||(t.exports=s)},function(t,e,i){"use strict";var s=i(33),r=i.n(s);const n=Phaser.Utils.Objects.GetFastValue;const o={none:0,base64:1,utf16:2,uri:3},a=["compress","compressToBase64","compressToUTF16","compressToEncodedURIComponent"],h=["decompress","decompressFromBase64","decompressFromUTF16","decompressFromEncodedURIComponent"];var l=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setEncoding(n(t,"encoding",0)),this}toJSON(){return{encoding:this.encoding}}setEncoding(t){return void 0===t?t=0:"string"==typeof t&&(t=o[t.toLowerCase()]||0),this.encoding=t,this}compress(t){var e=a[this.encoding];return r.a[e](t)}decompress(t){var e=h[this.encoding];return r.a[e](t)}};e.a=l},function(t,e,i){"use strict";var s=i(12),r=i(2);const n=Phaser.Utils.Objects.GetFastValue;var o=class{constructor(t,e){this.clock=new s.a(t),this.parent=t,this.resetFromJSON(e)}resetFromJSON(t){var e=n(t,"clock",void 0);return this.clock.resetFromJSON(e),this.commands=n(t,"commands",[]),this}toJSON(){return{clock:this.clock.toJSON(),commands:this.commands}}shutdown(){this.clock.shutdown(),this.commands=void 0}destroy(){this.shutdown()}start(t){return this.clock.start(t),this.clear(),this}pause(){return this.clock.pause(),this}resume(){return this.clock.resume(),this}stop(){return this.clock.stop(),this}seek(t){return this.clock.seek(t),this}get isRecording(){return this.clock.isRunning}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}get now(){return this.clock.now}addCommand(t,e){if(!this.isRecording)return this;void 0===e&&(e=0);var i=this.clock.now+e;return this.commands.push([i,t]),this}getCommands(t){return void 0===t&&(t=!1),t?this.commands:Object(r.a)(this.commands)}clear(){this.commands.length=0}},a=i(1),h=i(5),l=i(11);const u=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetFastValue;var d=[];const f={ms:0,s:1,sec:1},p={abs:0,absolute:0,inc:1,increment:1};var g=class extends u{constructor(t,e){super(),this.clock=new s.a(t,{tickMe:!1}),this.parent=t,this.resetFromJSON(e),this.boot()}resetFromJSON(t){var e=c(t,"clock",void 0);return this.clock.resetFromJSON(e),this.commands=c(t,"commands",[]),this.scope=c(t,"scope",void 0),this.timeUnit=c(t,"timeUnit",0),this.dtMode=c(t,"dtMode",0),this.index=c(t,"index",0),this.state=c(t,"state",0),this.nextDt=c(t,"nextDt",0),this}toJSON(){return{clock:this.clock.toJSON(),commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,state:this.state,nextDt:this.nextDt}}boot(){Object(a.a)(this.parent).events.on("update",this.runNextCommands,this)}shutdown(){super.shutdown(),this.clock.shutdown(),Object(a.a)(this.parent).events.off("update",this.runNextCommands,this),this.commands=void 0}destroy(){this.shutdown()}load(t,e,i){return this.stop(),this.timeUnit=c(i,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=f[this.timeUnit]),this.dtMode=c(i,"dtMode",this.dtMode),"string"==typeof this.dtMode&&(this.dtMode=p[this.dtMode]),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var i=t[0],s=e[0];return i>s?1:i<s?-1:0}),this.commands=t,this.scope=e,this}start(t){return this.stop(),this.index=0,this.state=1,0===this.commands.length?this.complete():(this.nextDt=this.getNextDt(0),this.clock.start(t)),this}pause(){return this.clock.pause(),this}resume(){return this.clock.resume(),this}stop(){return this.state=0,this.clock.stop(),this}seek(t){return this.clock.seek(t),this}get isPlaying(){return this.clock.isRunning}get completed(){return 0===this.state}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}get now(){return this.clock.now}runNextCommands(t,e){var i=this.clock;i.update(t,e);var s=i.now;if(i.isRunning&&!(this.nextDt>s))for(;;){var r=this.commands[this.index],n=r[1];if("string"==typeof n&&(n=Object(h.a)(d,r,1)),Object(l.a)(n,this.scope),this.emit("runcommand",n,this.scope),this.index===this.commands.length-1)return void this.complete();if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>s)return}}complete(){this.state=0,this.clock.stop(),this.emit("complete",this)}getNextDt(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}};e.a={Recorder:o,Player:g}},function(t,e,i){"use strict";const s=Phaser.Utils.Objects.GetValue,r=Phaser.Utils.Objects.GetAdvancedValue;const n={stop:1,destroy:2};var o=class{constructor(t,e,i){this.sound=e,this.scene=t,this.volume={},this.tween=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setMode(s(t,"mode",0)),this.setVolumeRange(r(t,"volume.start",this.sound.volume),r(t,"volume.end",0)),this.setDelay(r(t,"delay",0)),this.setFadeOutTime(r(t,"duration",1e3)),this}toJSON(){return{mode:this.mode,volume:this.volume,delay:this.delay,duration:this.duration}}boot(){this.scene.events.on("destroy",this.destroy,this),this.sound.on&&this.sound.on("destroy",this.destroy,this)}shutdown(){this.stop(),this.sound=void 0,this.scene=void 0}destroy(){this.shutdown()}setMode(t){return"string"==typeof t&&(t=n[t]),this.mode=t,this}setVolumeRange(t,e){return this.volume.start=t,this.volume.end=e,this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}start(){if(!this.tween){var t=this.volume;return this.tween=this.scene.tweens.add({targets:this.sound,volume:{getStart:function(){return t.start},getEnd:function(){return t.end}},delay:this.delay,duration:this.duration,ease:"Linear",onComplete:this.complete,onCompleteScope:this}),this}}stop(){if(this.tween)return this.tween.stop(),this.tween=void 0,this}complete(){switch(this.mode){case 1:this.sound.stop();break;case 2:this.sound.destroy()}}},a={volume:{}},h=function(t,e,i,s,r){var n;return void 0===s&&(s=1),void 0===r&&(r=0),a.mode=0,a.volume.start=r,a.volume.end=s,a.duration=i,"string"==typeof e&&(e=t.sound.add(e)),e.hasOwnProperty("_fade")?(n=e._fade).stop().resetFromJSON(a):(n=new o(t,e,a),e._fade=n),n.start(),e.isPlaying||e.setVolume(r).play(),e},l={volume:{}},u=function(t,e,i,s){var r;return void 0===s&&(s=!0),l.mode=s?2:1,l.volume.start=e.volume,l.volume.end=0,l.duration=i,e.hasOwnProperty("_fade")?(r=e._fade).stop().resetFromJSON(l):(r=new o(t,e,l),e._fade=r),r.start(),e.isPlaying||e.play(),e};e.a={fadeIn:h,fadeOut:u}},function(t,e,i){"use strict";t.exports=n;var s=i(10),r=i(19);function n(t){if(!(this instanceof n))return new n(t);s.call(this,t),this._transformState={afterTransform:function(t,e){var i=this._transformState;i.transforming=!1;var s=i.writecb;if(!s)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=e&&this.push(e),s(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"==typeof this._flush?this._flush(function(e,i){a(t,e,i)}):a(this,null,null)}function a(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=i(18),r.inherits(n,s),n.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},n.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,e,i){var s=this._transformState;if(s.writecb=i,s.writechunk=t,s.writeencoding=e,!s.transforming){var r=this._readableState;(s.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},n.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},n.prototype._destroy=function(t,e){var i=this;s.prototype._destroy.call(this,t,function(t){e(t),i.emit("close")})}},function(t,e,i){"use strict";var s=i(24).Buffer,r=s.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(s.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=h,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=c,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function a(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(i);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(i+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(i+2)}}(this,t,e);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var s=i.charCodeAt(i.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function u(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},n.prototype.text=function(t,e){var i=function(t,e,i){var s=e.length-1;if(s<i)return 0;var r=o(e[s]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--s<i)return 0;if((r=o(e[s]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--s<i)return 0;if((r=o(e[s]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var s=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,s),t.toString("utf8",e,s)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,i){"use strict";var s=i(25).nextTick;function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var i=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||s(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(s(r,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,i){"use strict";(function(t){var s=i(82),r=i(81),n=i(80);function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,i){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,i)}function l(t,e,i,s){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,s){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(s||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===s?new Uint8Array(e):void 0===s?new Uint8Array(e,i):new Uint8Array(e,i,s);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=d(t,e);return t}(t,e,i,s):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!h.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var s=0|p(e,i),r=(t=a(t,s)).write(e,i);r!==s&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(h.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(s=e.length)!=s?a(t,0):d(t,e);if("Buffer"===e.type&&n(e.data))return d(t,e.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var s=0;s<i;s+=1)t[s]=255&e[s];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(s)return Y(t).length;e=(""+e).toLowerCase(),s=!0}}function g(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function v(t,e,i,s,r){if(0===t.length)return-1;if("string"==typeof i?(s=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=h.from(e,s)),h.isBuffer(e))return 0===e.length?-1:m(t,e,i,s,r);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):m(t,[e],i,s,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,i,s,r){var n,o=1,a=t.length,h=e.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var u=-1;for(n=i;n<a;n++)if(l(t,n)===l(e,-1===u?0:n-u)){if(-1===u&&(u=n),n-u+1===h)return u*o}else-1!==u&&(n-=n-u),u=-1}else for(i+h>a&&(i=a-h),n=i;n>=0;n--){for(var c=!0,d=0;d<h;d++)if(l(t,n+d)!==l(e,d)){c=!1;break}if(c)return n}return-1}function y(t,e,i,s){i=Number(i)||0;var r=t.length-i;s?(s=Number(s))>r&&(s=r):s=r;var n=e.length;if(n%2!=0)throw new TypeError("Invalid hex string");s>n/2&&(s=n/2);for(var o=0;o<s;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function b(t,e,i,s){return W(Y(e,t.length-i),t,i,s)}function w(t,e,i,s){return W(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,s)}function x(t,e,i,s){return w(t,e,i,s)}function S(t,e,i,s){return W(U(e),t,i,s)}function _(t,e,i,s){return W(function(t,e){for(var i,s,r,n=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),s=i>>8,r=i%256,n.push(r),n.push(s);return n}(e,t.length-i),t,i,s)}function C(t,e,i){return 0===e&&i===t.length?s.fromByteArray(t):s.fromByteArray(t.slice(e,i))}function O(t,e,i){i=Math.min(t.length,i);for(var s=[],r=e;r<i;){var n,o,a,h,l=t[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c<=i)switch(c){case 1:l<128&&(u=l);break;case 2:128==(192&(n=t[r+1]))&&(h=(31&l)<<6|63&n)>127&&(u=h);break;case 3:n=t[r+1],o=t[r+2],128==(192&n)&&128==(192&o)&&(h=(15&l)<<12|(63&n)<<6|63&o)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:n=t[r+1],o=t[r+2],a=t[r+3],128==(192&n)&&128==(192&o)&&128==(192&a)&&(h=(15&l)<<18|(63&n)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(u=h)}null===u?(u=65533,c=1):u>65535&&(u-=65536,s.push(u>>>10&1023|55296),u=56320|1023&u),s.push(u),r+=c}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var i="",s=0;for(;s<e;)i+=String.fromCharCode.apply(String,t.slice(s,s+=T));return i}(s)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,i){return l(null,t,e,i)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,i){return function(t,e,i,s){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof s?a(t,e).fill(i,s):a(t,e).fill(i):a(t,e)}(null,t,e,i)},h.allocUnsafe=function(t){return c(null,t)},h.allocUnsafeSlow=function(t){return c(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,s=e.length,r=0,n=Math.min(i,s);r<n;++r)if(t[r]!==e[r]){i=t[r],s=e[r];break}return i<s?-1:s<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var s=h.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(s,r),r+=o.length}return s},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,i){var s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,i);case"utf8":case"utf-8":return O(this,e,i);case"ascii":return P(this,e,i);case"latin1":case"binary":return k(this,e,i);case"base64":return C(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,i);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,i,s,r){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),e<0||i>t.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&e>=i)return 0;if(s>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,s>>>=0,r>>>=0,this===t)return 0;for(var n=r-s,o=i-e,a=Math.min(n,o),l=this.slice(s,r),u=t.slice(e,i),c=0;c<a;++c)if(l[c]!==u[c]){n=l[c],o=u[c];break}return n<o?-1:o<n?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},h.prototype.write=function(t,e,i,s){if(void 0===e)s="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)s=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===s&&(s="utf8")):(s=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var n=!1;;)switch(s){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return w(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,i);default:if(n)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),n=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function P(t,e,i){var s="";i=Math.min(t.length,i);for(var r=e;r<i;++r)s+=String.fromCharCode(127&t[r]);return s}function k(t,e,i){var s="";i=Math.min(t.length,i);for(var r=e;r<i;++r)s+=String.fromCharCode(t[r]);return s}function M(t,e,i){var s=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>s)&&(i=s);for(var r="",n=e;n<i;++n)r+=B(t[n]);return r}function E(t,e,i){for(var s=t.slice(e,i),r="",n=0;n<s.length;n+=2)r+=String.fromCharCode(s[n]+256*s[n+1]);return r}function R(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,i,s,r,n){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<n)throw new RangeError('"value" argument is out of bounds');if(i+s>t.length)throw new RangeError("Index out of range")}function j(t,e,i,s){e<0&&(e=65535+e+1);for(var r=0,n=Math.min(t.length-i,2);r<n;++r)t[i+r]=(e&255<<8*(s?r:1-r))>>>8*(s?r:1-r)}function I(t,e,i,s){e<0&&(e=4294967295+e+1);for(var r=0,n=Math.min(t.length-i,4);r<n;++r)t[i+r]=e>>>8*(s?r:3-r)&255}function A(t,e,i,s,r,n){if(i+s>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(t,e,i,s,n){return n||A(t,0,i,4),r.write(t,e,i,s,23,4),i+4}function F(t,e,i,s,n){return n||A(t,0,i,8),r.write(t,e,i,s,52,8),i+8}h.prototype.slice=function(t,e){var i,s=this.length;if(t=~~t,e=void 0===e?s:~~e,t<0?(t+=s)<0&&(t=0):t>s&&(t=s),e<0?(e+=s)<0&&(e=0):e>s&&(e=s),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else{var r=e-t;i=new h(r,void 0);for(var n=0;n<r;++n)i[n]=this[n+t]}return i},h.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var s=this[t],r=1,n=0;++n<e&&(r*=256);)s+=this[t+n]*r;return s},h.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var s=this[t+--e],r=1;e>0&&(r*=256);)s+=this[t+--e]*r;return s},h.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var s=this[t],r=1,n=0;++n<e&&(r*=256);)s+=this[t+n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},h.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var s=e,r=1,n=this[t+--s];s>0&&(r*=256);)n+=this[t+--s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),r.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),r.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),r.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),r.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,s){(t=+t,e|=0,i|=0,s)||L(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,n=0;for(this[e]=255&t;++n<i&&(r*=256);)this[e+n]=t/r&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,s){(t=+t,e|=0,i|=0,s)||L(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,n=1;for(this[e+r]=255&t;--r>=0&&(n*=256);)this[e+r]=t/n&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,i,s){if(t=+t,e|=0,!s){var r=Math.pow(2,8*i-1);L(this,t,e,i,r-1,-r)}var n=0,o=1,a=0;for(this[e]=255&t;++n<i&&(o*=256);)t<0&&0===a&&0!==this[e+n-1]&&(a=1),this[e+n]=(t/o>>0)-a&255;return e+i},h.prototype.writeIntBE=function(t,e,i,s){if(t=+t,e|=0,!s){var r=Math.pow(2,8*i-1);L(this,t,e,i,r-1,-r)}var n=i-1,o=1,a=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===a&&0!==this[e+n+1]&&(a=1),this[e+n]=(t/o>>0)-a&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,i){return D(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return D(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return F(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return F(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,s){if(i||(i=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<i&&(s=i),s===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-i&&(s=t.length-e+i);var r,n=s-i;if(this===t&&i<e&&e<s)for(r=n-1;r>=0;--r)t[r+e]=this[r+i];else if(n<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<n;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+n),e);return n},h.prototype.fill=function(t,e,i,s){if("string"==typeof t){if("string"==typeof e?(s=e,e=0,i=this.length):"string"==typeof i&&(s=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!h.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{var o=h.isBuffer(t)?t:Y(new h(t,s).toString()),a=o.length;for(n=0;n<i-e;++n)this[n+e]=o[n%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var i;e=e||1/0;for(var s=t.length,r=null,n=[],o=0;o<s;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(o+1===s){(e-=3)>-1&&n.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&n.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&n.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function U(t){return s.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,i,s){for(var r=0;r<s&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,i(17))},function(t,e,i){t.exports=i(30).EventEmitter},function(t,e,i){"use strict";(function(e,s){var r=i(25).nextTick;t.exports=b;var n,o=i(83);b.ReadableState=y;i(30).EventEmitter;var a=function(t,e){return t.listeners(e).length},h=i(41),l=i(24).Buffer,u=e.Uint8Array||function(){};var c=i(19);c.inherits=i(18);var d=i(79),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=i(78),v=i(39);c.inherits(b,h);var m=["error","close","destroy","pause","resume"];function y(t,e){n=n||i(10),t=t||{};var s=e instanceof n;this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=i(38).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(n=n||i(10),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function w(t,e,i,s,r){var n,o=t._readableState;null===e?(o.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,C(t)}(t,o)):(r||(n=function(t,e){var i;s=e,l.isBuffer(s)||s instanceof u||"string"==typeof e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var s;return i}(o,e)),n?t.emit("error",n):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),s?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!i?(e=o.decoder.write(e),o.objectMode||0!==e.length?x(t,o,e,!1):T(t,o)):x(t,o,e,!1))):s||(o.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function x(t,e,i,s){e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,s?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&C(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var i,s=this._readableState;return s.objectMode?i=!0:"string"==typeof t&&((e=e||s.defaultEncoding)!==s.encoding&&(t=l.from(t,e),e=""),i=!0),w(this,t,e,!1,i)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=i(38).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var S=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r(O,t):O(t))}function O(t){f("emit readable"),t.emit("readable"),E(t)}function T(t,e){e.readingMore||(e.readingMore=!0,r(P,t,e))}function P(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function k(t){f("readable nexttick read 0"),t.read(0)}function M(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function R(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):i=function(t,e,i){var s;t<e.head.data.length?(s=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):s=t===e.head.data.length?e.shift():i?function(t,e){var i=e.head,s=1,r=i.data;t-=r.length;for(;i=i.next;){var n=i.data,o=t>n.length?n.length:t;if(o===n.length?r+=n:r+=n.slice(0,t),0===(t-=o)){o===n.length?(++s,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=n.slice(o));break}++s}return e.length-=s,r}(t,e):function(t,e){var i=l.allocUnsafe(t),s=e.head,r=1;s.data.copy(i),t-=s.data.length;for(;s=s.next;){var n=s.data,o=t>n.length?n.length:t;if(n.copy(i,i.length-t,0,o),0===(t-=o)){o===n.length?(++r,s.next?e.head=s.next:e.head=e.tail=null):(e.head=s,s.data=n.slice(o));break}++r}return e.length-=r,i}(t,e);return s}(t,e.buffer,e.decoder),i);var i}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r(j,e,t))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function I(t,e){for(var i=0,s=t.length;i<s;i++)if(t[i]===e)return i;return-1}b.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):C(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&L(this),null;var s,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),e.ended||e.reading?f("reading or ended",r=!1):r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(i,e))),null===(s=t>0?R(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&L(this)),null!==s&&this.emit("data",s),s},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,f("pipe count=%d opts=%j",n.pipesCount,e);var h=(!e||!1!==e.end)&&t!==s.stdout&&t!==s.stderr?u:b;function l(e,s){f("onunpipe"),e===i&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,f("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",c),t.removeListener("error",v),t.removeListener("unpipe",l),i.removeListener("end",u),i.removeListener("end",b),i.removeListener("data",g),d=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){f("onend"),t.end()}n.endEmitted?r(h):i.once("end",h),t.on("unpipe",l);var c=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,E(t))}}(i);t.on("drain",c);var d=!1;var p=!1;function g(e){f("ondata"),p=!1,!1!==t.write(e)||p||((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==I(n.pipes,t))&&!d&&(f("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function v(e){f("onerror",e),b(),t.removeListener("error",v),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),b()}function y(){f("onfinish"),t.removeListener("close",m),b()}function b(){f("unpipe"),i.unpipe(t)}return i.on("data",g),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",v),t.once("close",m),t.once("finish",y),t.emit("pipe",i),n.flowing||(f("pipe resume"),i.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i),this);if(!t){var s=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var n=0;n<r;n++)s[n].emit("unpipe",this,i);return this}var o=I(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i),this)},b.prototype.on=function(t,e){var i=h.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&C(this):r(k,this))}return i},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r(M,t,e))}(this,t)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,i=this._readableState,s=!1;for(var r in t.on("end",function(){if(f("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(f("wrapped data"),i.decoder&&(r=i.decoder.write(r)),!i.objectMode||null!==r&&void 0!==r)&&((i.objectMode||r&&r.length)&&(e.push(r)||(s=!0,t.pause())))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var n=0;n<m.length;n++)t.on(m[n],this.emit.bind(this,m[n]));return this._read=function(e){f("wrapped _read",e),s&&(s=!1,t.resume())},this},b._fromList=R}).call(this,i(17),i(26))},function(t,e,i){"use strict";var s=i(23),n=i(5),o=i(7);const a=Phaser.Utils.Objects.GetValue;const h={ascending:0,descending:1,"logical ascending":2,"logical descending":3};var l=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.table=a(t,"table",{}),this.rowKeys=a(t,"row",[]),this.colKeys=a(t,"col",[]),this.cursor=a(t,"cursor",{}),this}toJSON(){return{table:this.table,row:this.rowKeys,col:this.colKeys,cursor:this.cursor}}shutdown(){}destroy(){}loadCSV(t,e){var i=a(e,"delimiter",","),r=a(e,"convert",!0),h=a(e,"convertScope",void 0);r?!0===r&&(r=o.a,h=void 0):(r=void 0,h=void 0),this.clear();var l=Object(s.a)(t,i);this.colKeys=Object(n.a)(this.colKeys,l[0]),this.rowKeys.length=l.length-1;for(var u=0,c=this.rowKeys.length;u<c;u++)this.rowKeys[u]=l[u+1][0];for(var d,f,p,g,v=this.colKeys,m=this.rowKeys,y=this.table,b=0,w=m.length;b<w;b++){p={},y[f=m[b]]=p;for(var x=0,S=v.length;x<S;x++)g=l[b+1][x],d=v[x],r&&(g=h?r.call(h,g,f,d,this):r(g,f,d,this)),p[d]=g}return this.setCursor("",""),this}clear(){var t=this.table;for(var e in t)delete t[e];return this.rowKeys.length=0,this.colKeys.length=0,this}get(t,e){var i=void 0,s=this.table;if(s.hasOwnProperty(t)){var r=s[t];r.hasOwnProperty(e)&&(i=r[e])}return this.setCursor(t,e),i}set(t,e,i){var s=this.table;if(s.hasOwnProperty(e)){var r=s[e];r.hasOwnProperty(t)&&(r[t]=i)}return this.setCursor(e,t),this}add(t,e,i){var s=this.table;if(s.hasOwnProperty(e)){var r=s[e];r.hasOwnProperty(t)&&(r[t]+=i)}return this.setCursor(e,t),this}hasRowKey(t){return-1!==this.rowKeys.indexOf(t)}hasColKey(t){return-1!==this.colKeys.indexOf(t)}hasKey(t,e){return this.hasRowKey(t)&&this.hasColKey(e)}isValueInRol(t,e){if(!this.hasRowKey(t))return!1;for(var i=this.table[t],s=this.colKeys,r=0,n=s.length;r<n;r++)if(i[s[r]]===e)return!0;return!1}isValueInCol(t,e){if(!this.hasColKey(t))return!1;for(var i=this.table,s=0,r=this.rowKeys.length;s<r;s++)if(i[void 0][t]===e)return!0;return!1}appendRow(t,e,i){if(this.hasRowKey(t))return this;var s="function"==typeof e,r=s?void 0:e;this.rowKeys.push(t);var n={};this.table[t]=n;for(var o,a,h=this.colKeys,l=0,u=h.length;l<u;l++)o=h[l],a=s?i?e.call(i,this,t,o):e(this,t,o):r,n[o]=a;return this}appendCol(t,e,i){if(this.hasColKey(t))return this;var s="function"==typeof e,r=s?void 0:e;this.colKeys.push(t);for(var n,o,a=this.table,h=this.rowKeys,l=0,u=h.length;l<u;l++)n=h[l],o=s?i?e.call(i,this,n,t):e(this,n,t):r,a[n][t]=o;return this}removeRol(t){var e=this.rowKeys.indexOf(t);return-1===e?this:(this.rowKeys.splice(e,1),delete this.table[t],this)}removeCol(t){var e=this.colKeys.indexOf(t);if(-1===e)return this;this.colKeys.splice(e,1);for(var i=this.table,s=this.rowKeys,r=0,n=s.length;r<n;r++)delete i[s[r]][t];return this}eachRow(t,e,i){for(var s,r,n=this.rowKeys,o=this.hasColKey(t),a=0,h=n.length;a<h;a++)s=n[a],o&&(r=this.get(s,t)),i?e.call(i,this,s,t,r):e(this,s,t,r);return this}eachCol(t,e,i){for(var s,r,n=this.colKeys,o=this.hasRowKey(t),a=0,h=n.length;a<h;a++)s=n[a],o&&(r=this.get(t,s)),i?e.call(i,this,t,s,r):e(i,this,t,s,r);return this}convertCol(t,e,i){if(void 0===e&&(e=o.a),Array.isArray(t)){for(var s=0,r=t.length;s<r;s++)this.convertCol(t[s],e,i);return this}if(!this.hasColKey(t))return this;for(var n,a,h,l=this.table,u=this.rowKeys,c=0,d=u.length;c<d;c++)h=(n=l[a=u[c]])[t],h=i?e.call(i,this,a,t,h):e(this,a,t,h),n[t]=h;return this}convertRow(t,e,i){if(void 0===e&&(e=o.a),Array.isArray(t)){for(var s=0,n=t.length;s<n;s++)this.convertRow(t[s],e,i);return this}for(var a,h,l=this.table[t],u=this.colKeys,c=0,d=u.length;c<d;c++)h=l[a=u[r]],h=i?e.call(i,this,t,a,h):e(this,t,a,h),l[a]=h;return this}get curColKey(){return this.cursor.colKey}get curRowKey(){return this.cursor.rowKey}nextColKey(t,e){void 0===t&&(t=this.cursor.colKey),void 0===e&&(e=1);var i=this.colKeys,s=i.indexOf(t);if(-1!==s)return i[s+e]}nextRowKey(t,e){void 0===t&&(t=this.cursor.rowKey),void 0===e&&(e=1);var i=this.rowKeys,s=i.indexOf(t);if(-1!==s)return i[s+1]}previousColKey(t,e){return void 0===e&&(e=1),e=-e,this.nextColKey(t,e)}previousRowKey(t,e){return void 0===e&&(e=1),e=-e,this.nextRowlKey(t,e)}sortCol(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var i=t;if(!this.hasRowKey(i))return this;var s=sceop;"string"==typeof s&&(s=h[s]);var r=this;t=function(t,e){var n,o=r.get(t,i),a=r.get(e,i);switch(s>=2&&(o=parseFloat(o),a=parseFloat(a)),s){case 0:case 2:n=o>a?1:o<a?-1:0;break;case 1:case 3:n=o<a?1:o>a?-1:0}return n}}return this.rowKeys.sort(t),this}sortRow(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var i=t;if(!this.hasRowKey(i))return this;var s=sceop;"string"==typeof s&&(s=h[s]);var r=this;t=function(t,e){var n,o=r.get(i,t),a=r.get(i,e);switch(s>=2&&(o=parseFloat(o),a=parseFloat(a)),s){case 0:case 2:n=o>a?1:o<a?-1:0;break;case 1:case 3:n=o<a?1:o>a?-1:0}return n}}return this.colKeys.sort(t),this}setCursor(t,e){var i=this.cursor;return i.rowKey=t,i.colKey=e,this}};e.a=l},function(t,e,i){"use strict";var s=i(22);const r=Phaser.Utils.Objects.GetValue;var n=class{constructor(t,e){this.scene=t,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.radius=r(e,"radius",100),this.addBase(r(e,"base",void 0),e),this.addThumb(r(e,"thumb",void 0));var i=r(e,"x",0),s=r(e,"y",0);this.base.setPosition(i,s),this.thumb.setPosition(i,s),this.boot()}createCursorKeys(){return this.touchCursor.createCursorKeys()}get forceX(){return this.touchCursor.forceX}get forceY(){return this.touchCursor.forceY}get force(){return this.touchCursor.force}get rotation(){return this.touchCursor.rotation}get angle(){return this.touchCursor.angle}get up(){return this.touchCursor.upKeyDown}get down(){return this.touchCursor.downKeyDown}get left(){return this.touchCursor.leftKeyDown}get right(){return this.touchCursor.rightKeyDown}get noKey(){return this.touchCursor.noKeyDown}get pointerX(){return this.touchCursor.end.x}get pointerY(){return this.touchCursor.end.y}get pointerId(){return this.touchCursor.pointerId}setPosition(t,e){return this.x=t,this.y=e,this}set x(t){this.base.x=t}set y(t){this.base.y=t}get x(){return this.base.x}get y(){return this.base.y}setVisible(t){this.visible=t}toggleVisible(){this.visible=!this.visible}get visible(){return this.base.visible}set visible(t){this.base.visible=t,this.thumb.visible=t}setEnable(t){return this.enable=t,this}toggleEnabl(){this.enable=!this.enable}get enable(){return this.touchCursor.enable}set enable(t){this.touchCursor.setEnable(t)}on(){var t=this.touchCursor.events;return t.on.apply(t,arguments),this}once(){var t=this.touchCursor.events;return t.once.apply(t,arguments),this}setVisible(t){return this.visible=t,this}addBase(t,e){return this.base&&this.base.destroy(),void 0===t&&(t=this.scene.add.graphics().lineStyle(3,255).strokeCircle(0,0,this.radius)),this.touchCursor=new s.a(t,e),this.base=t,this}addThumb(t){return this.thumb&&this.thumb.destroy(),void 0===t&&(t=this.scene.add.graphics().lineStyle(3,65280).strokeCircle(0,0,40)),this.thumb=t,this}boot(){this.touchCursor.on("update",this.update,this)}destroy(){this.base.destroy(),this.thumb.destroy(),this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}update(){var t=this.touchCursor;if(t.anyKeyDown)if(t.force>this.radius){var e=t.rotation;this.thumb.x=t.start.x+Math.cos(e)*this.radius,this.thumb.y=t.start.y+Math.sin(e)*this.radius}else this.thumb.x=t.end.x,this.thumb.y=t.end.y;else this.thumb.x=this.base.x,this.thumb.y=this.base.y;return this}};e.a=n},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Math.DegToRad,o=Phaser.Math.Angle.Between;var a=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this._t=0,this.pathVector=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setPath(r(t,"path",void 0));var e=r(t,"t",void 0);void 0!==e&&this.setT(e);var i=r(t,"rotateToPath",!1),s=r(t,"rotationOffset",void 0);return void 0===s&&(s=n(r(t,"angleOffset",0))),this.setRotateToPath(i,s),this}toJSON(){return{path:this.path,t:this.t,rotateToPath:this.rotateToPath,rotationOffset:this.rotationOffset}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setPath(t){return this.path=t,this}setT(t){return this.t=t,this}get t(){return this._t}set t(t){this._t=t,this.update()}setRotateToPath(t,e){return this.rotateToPath=t,this.rotationOffset=e,this}update(){if(void 0!==this.path){var t=this.gameObject,e=t.x,i=t.y;this.pathVector=this.path.getPoint(this.t,this.pathVector);var s=this.pathVector.x,r=this.pathVector.y;e===s&&i===r||(t.setPosition(s,r),this.rotateToPath&&(t.rotation=o(e,i,s,r)+this.rotationOffset))}}};e.a=a},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue,o=Phaser.Math.DegToRad,a=Phaser.Utils.Objects.IsPlainObject,h=Phaser.Math.Distance.Between,l=Phaser.Math.Linear,u=Phaser.Math.Angle.Between;var c=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this.tween=void 0,this.resetFromJSON(e),this.boot(e)}resetFromJSON(t){this.isMoving=n(t,"isMoving",!1),this.timeScale=n(t,"timeScale",1),this.speed=n(t,"speed",0),this.targetX=n(t,"targetX",0),this.targetY=n(t,"targetY",0);var e=n(t,"rotateToTarget",!1),i=n(t,"rotationOffset",void 0);return void 0===i&&(i=o(n(t,"angleOffset",0))),this.setRotateToTarget(e,i),this.tickMe=n(t,"tickMe",!0),this}toJSON(){return{isMoving:this.isMoving,timeScale:this.timeScale,speed:this.speed,targetX:this.targetX,targetY:this.targetY,rotateToTarget:this.rotateToTarget,rotationOffset:this.rotationOffset,tickMe:this.tickMe}}boot(t){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this.tickMe&&this.scene.events.on("update",this.update,this)}shutdown(){this.tickMe&&this.scene.events.off("update",this.update,this),this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}moveTo(t,e,i){if(this.stop(),a(t)){var s=t;t=n(s,"x",void 0),e=n(s,"y",void 0),i=n(s,"speed",this.speed)}return this.targetX=t,this.targetY=e,null==t||null==e?this:(void 0!==i&&(this.speed=i),this.isMoving=!0,this)}stop(){this.isMoving=!1}setSpeed(t){return this.speed=t,this}setRotateToTarget(t,e){return this.rotateToTarget=t,this.rotationOffset=e,this}update(t,e){if(this.isMoving){var i=this.gameObject,s=i.x,r=i.y,n=this.targetX,o=this.targetY;if(s!==n||r!==o){if(0!==this.speed&&0!==e){var a,c,d=e*this.timeScale/1e3,f=this.speed*d,p=h(s,r,n,o);if(f<p){var g=f/p;a=l(s,n,g),c=l(r,o,g)}else a=n,c=o;i.setPosition(a,c),this.rotateToTarget&&(i.rotation=u(s,r,a,c)+this.rotationOffset)}}else this.onReachTarget()}}onReachTarget(){this.isMoving=!1,this.emit("complete",this,this.gameObject)}};e.a=c},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue;const o={press:0,release:1};var a=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(n(t,"enable",!0)),this.setMode(n(t,"mode",1)),this.setClickInterval(n(t,"clickInterval",100)),this}boot(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}setMode(t){return"string"==typeof t&&(t=o[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}onPress(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime))}onRelease(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime),this.pointer=void 0)}onPointOut(t){this.pointer===t&&(this.pointer=void 0)}click(t){this.pointer,this.pointer=void 0;var e=this.lastClickTime;void 0!==t&&void 0!==e&&t-e<=this.clickInterval||(void 0!==t&&(this.lastClickTime=t),this.emit("click",this,this.gameObject))}};e.a=a},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetFastValue,o=Phaser.Utils.Objects.GetValue;var a=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t};const h={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};var l=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this.timer=null,this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setTypeMode(o(t,"typeMode",0)),this.setTypeSpeed(o(t,"speed",333)),this.setTextCallback=n(t,"setTextCallback",null),this.setTextCallbackScope=n(t,"setTextCallbackScope",null),this.typingIdx=n(t,"typingIdx",0),this.text=a(n(t,"text","")),this.textLen=n(t,"textLen",0),this.insertIdx=n(t,"insertIdx",null);var e=n(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}toJSON(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}boot(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return super.shutdown(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setTypeMode(t){return"string"==typeof t&&(t=h[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}get isTyping(){return null!==this.getTimer()}get isLastChar(){return this.typingIdx===this.textLen}start(t,e,i,s){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(s),this}appendText(t){var e=this.text.concat(a(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}stop(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=a(t),this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,e,i,s){var r;if(0===s){var n=0,o=e;this.insertIdx=o,r=this.getSubString(t,n,o)}else if(1===s)n=(o=i)-e,this.insertIdx=0,r=this.getSubString(t,n,o);else if(2===s){var a=i/2;o=(n=Math.floor(a-e/2))+e,this.insertIdx=e%2?e:0,r=this.getSubString(t,n,o)}else if(3===s){var h,l=Math.floor(e/2);l>0?(n=(o=i)-l,h=this.getSubString(t,n,o)):h="";var u,c=e-l;c>0?(o=(n=0)+c,this.insertIdx=o,u=this.getSubString(t,n,o)):(u="",this.insertIdx=0),r=u+h}return r}startTimer(t){var e;return this.timer&&this.freeTimer(),void 0===t?e=0:(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}getTextLength(t){var e=this.gameObject;return e.getRawText?e.getRawText(t).length:t.length}getSubString(t,e,i){var s=this.gameObject;return s.getSubString?s.getSubString(t,e,i):t.slice(e,i)}};e.a=l},function(t,e,i){"use strict";var s=i(1);const r=Phaser.GameObjects.Text,n=Phaser.Utils.Objects.GetFastValue,o=(Phaser.Utils.Objects.GetValue,Phaser.Utils.Objects.GetAdvancedValue,Phaser.Math.Clamp);var a=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},h=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setText(n(t,"text","")),this.setWrapMode(n(t,"wrap",!0)),this.setStartIdx(n(t,"start",0)),this.setPageIdx(n(t,"page",-1)),this}toJSON(){return{text:this.text,start:this.startLineIdx,page:this.pageIdx,pageCount:this.pageCount}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.text="",0===this.textObjectType?this.lines.length=0:this.lines.destroy(),this.gameObject=void 0,this.scene=void 0,this}destroy(){this.shutdown()}setTextObjectType(){return this.gameObject instanceof r?this.textObjectType=0:this.textObjectType=1,this}get isFirstPage(){return this.pageIdx<=0}get isLastPage(){return this.pageIdx>=this.pageCount-1}setText(t,e){return void 0===e&&(e=!0),this.text=a(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLineCount/this.pageLineCount),e&&this.resetPageIdx(),this}setWrapMode(t){return void 0===t&&(t=!0),this.wrapMode=t,this}appendText(t){return this.setText(this.text.concat(a(t))),this}getPage(t){return void 0===t&&(t=this.pageIdx),this.setPageIdx(t).getLines()}getNextPage(){return this.getPage(this.pageIdx+1)}getPreviousPage(){return this.getPage(this.pageIdx-1)}showPage(t){return this.displayText(this.getPage()),this}showNextPage(){return this.displayText(this.getNextPage()),this}showPreviousPage(){return this.displayText(this.getPreviousPage()),this}show(){return this.displayText(this.getLines()),this}showNextLine(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}showPreviousLine(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}setStartIdx(t){return t=o(t,0,this.totalLineCount-1),this.startLineIdx=t,this}resetPageIdx(){this.pageIdx=-1}setPageIdx(t){return t=o(t,0,this.pageCount-1),this.pageIdx=t,this.setStartIdx(this.pageIdx*this.pageLineCount),this}get totalLineCount(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}get pageLineCount(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLineCount}getLines(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLineCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var s=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(s,r,this.wrapMode)}return e}displayText(t){this.gameObject.setText(t)}};e.a=h},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue,o=Phaser.Math.Distance.Between;var a=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this.gameObject.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.setEnable(n(t,"enable",!0)),this}boot(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return void 0===this.pointer}get justMoved(){return this.pointer&&this.pointer.justMoved}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){return this.scene.sys.game.loop.delta}get speed(){return this.x===this.preX&&this.y===this.preY?0:o(this.x,this.preX,this.y,this.preY)/(.001*this.dt)}get speedX(){return this.dx/(.001*this.dt)}get speedY(){return this.dy/(.001*this.dt)}onPointIn(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.isInTouched=!0,this.preX=t.x,this.preY=t.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=i,this.emit("touchstart",t,e,i))}onPointOut(t){this.pointer===t&&(this.pointer=void 0,this.isInTouched=!1,this.emit("touchend",t))}onPointerMove(t,e,i){t.isDown&&this.pointer===t&&(this.preX=this.x,this.preY=this.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=i,this.emit("touchmove",t,e,i))}};e.a=a},function(t,e,i){"use strict";var s=i(1);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue,o=Phaser.Math.Angle.BetweenPoints,a=Phaser.Math.Distance.Between,h=Phaser.Math.RotateAroundDistance,l=Phaser.Math.Clamp,u=Phaser.Math.Linear,c=Phaser.Math.Percent;var d={},f=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this._value=void 0,this.endPoints=[{x:0,y:0},{x:0,y:0}];var i=n(e,"valuechangeCallback",null);if(null!==i){var r=n(e,"valuechangeCallbackScope",void 0);this.on("valuechange",i,r)}this.gameObject.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setValue(n(t,"value",0));var e=n(t,"endPoints",void 0);return void 0!==e&&this.setEndPoints(e),this.setEnable(n(t,"enable",!0)),this}toJSON(){return{value:this.value,endPoints:this.endPoints,enable:this.enable}}boot(){this.gameObject.on("drag",this.onDragging,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}setEndPoints(t,e,i,s){var r=this.endPoints;return"number"==typeof t?(r[0].x=t,r[0].y=e,r[1].x=i,r[1].y=s):Array.isArray(t)?(r[0]=t[0],r[1]=t[1]):(r[0]=t,r[1]=e),this.axisRotation=o(r[0],r[1]),this.updatePos(),this}get value(){return this._value}set value(t){var e=this._value;this._value=l(t,0,1),e!==this._value&&(this.updatePos(this._value),this.emit("valuechange",this._value,e))}setValue(t,e,i){return void 0!==e&&(t=c(t,e,i)),this.value=t,this}addValue(t,e,i){return void 0!==e&&(t=c(t,e,i)),this.value+=t,this}getValue(t,e){var i=this.value;return void 0!==t&&(i=u(t,e,i)),i}get isDragging(){return this.gameObject.input.dragState>0}onDragging(t,e,i){var s,r=this.endPoints;if(r[0].y===r[1].y){var n=Math.min(r[0].x,r[1].x),o=Math.max(r[0].x,r[1].x);s=c(e,n,o)}else if(r[0].x===r[1].x)n=Math.min(r[0].y,r[1].y),o=Math.max(r[0].y,r[1].y),s=c(i,n,o);else{var l,u=this.gameObject;d.x=e,d.y=i,l=a(d.x,d.y,u.x,u.y),(d=h(d,u.x,u.y,-this.axisRotation,l)).y=u.y,l=a(d.x,d.y,u.x,u.y),d=h(d,u.x,u.y,this.axisRotation,l),n=Math.min(r[0].x,r[1].x),o=Math.max(r[0].x,r[1].x),s=c(d.x,n,o)}this.value=s}updatePos(){var t=this.gameObject,e=this.endPoints;return t.x=u(e[0].x,e[1].x,this._value),t.y=u(e[0].y,e[1].y,this._value),this}};e.a=f},function(t,e,i){"use strict";var s=i(11),r=i(5);const n=Phaser.Events.EventEmitter,o=Phaser.Utils.Objects.GetFastValue;var a=class extends n{constructor(t){super(),this.commands=[],this.scope=void 0,this.config=void 0,this.index=0,this.indexStep=1,this.setYoyo(o(t,"yoyo",!1)),this.setRepeat(o(t,"repeat",0)),this.setLoop(o(t,"loop",!1)),this.state=0,this.task=void 0}shutdown(){super.shutdown(),this.stop(),this.commands.length=0,this.scope=void 0,this.config=void 0}destroy(){this.shutdown()}load(t,e,i){return this.stop(),this.setYoyo(o(i,"yoyo",this.yoyo)),this.setRepeat(o(i,"repeat",this.repeat)),this.setLoop(o(i,"loop",this.loop)),this.commands=Object(r.a)(this.commands,t),this.scope=e,this.config=i,this}start(){return this.stop(),this.resetRepeatCount(),this.index=0,this.indexStep=1,this.state=1,this.commands.length>0?this.runNextCommands():this.complete(),this}stop(){return this.state=0,this.task&&(this.task.off("complete",this.runNextCommands,this),this.task=void 0),this}setYoyo(t){return this.yoyo=t,this}setRepeat(t){return this.repeat=t,this.resetRepeatCount(),this}setLoop(t){return this.loop=t,this.resetRepeatCount(),this}resetRepeatCount(){return this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this}get completed(){return 0===this.state}get currentCommandIndex(){return this.index-1}runNextCommands(){for(var t,e,i;;){if(2===this.state)return void this.complete();if((t=Object(s.a)(this.commands[this.index],this.scope))&&"function"==typeof t.once?(t.once("complete",this.runNextCommands,this),this.task=t):this.task=void 0,e=0===this.index,i=this.index===this.commands.length-1,this.yoyo?this.indexStep>0&&i||this.indexStep<0&&e?(this.indexStep=-this.indexStep,this.index+=this.indexStep,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep:i?(this.index=0,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep,this.task)return this}}complete(){this.state=0,this.emit("complete",this)}};e.a=a},function(t,e,i){"use strict";var s=i(62),r=i.n(s);const n=Phaser.Utils.Objects.GetValue;var o=function(t,e){var i=n(e,"delimiter",","),s=n(e,"convert",!0);return r.a.parse(t,{delimiter:i,dynamicTyping:s}).data};e.a=o},function(t,e,i){"use strict";e.a={Encrypt:function(t,e){return function(t,e){if(null==e||e.length<=0)return null;for(var i="",s=0;s<e.length;s++)i+=e.charCodeAt(s).toString();var r=Math.floor(i.length/5),n=parseInt(i.charAt(r)+i.charAt(2*r)+i.charAt(3*r)+i.charAt(4*r)+i.charAt(5*r)),o=Math.ceil(e.length/2),a=Math.pow(2,31)-1;if(n<2)return null;var h=Math.round(1e9*Math.random())%1e8;for(i+=h;i.length>10;)i=(parseInt(i.substring(0,10))+parseInt(i.substring(10,i.length))).toString();i=(n*i+o)%a;var l="",u="";for(s=0;s<t.length;s++)u+=(l=parseInt(t.charCodeAt(s)^Math.floor(i/a*255)))<16?"0"+l.toString(16):l.toString(16),i=(n*i+o)%a;for(h=h.toString(16);h.length<8;)h=0+h;return u+=h}(t=escape(t),e=escape(e.toString()))},Decrypt:function(t,e){var i=function(t,e){if(null==t||t.length<8)return null;if(!(null==e||e.length<=0)){for(var i="",s=0;s<e.length;s++)i+=e.charCodeAt(s).toString();var r=Math.floor(i.length/5),n=parseInt(i.charAt(r)+i.charAt(2*r)+i.charAt(3*r)+i.charAt(4*r)+i.charAt(5*r)),o=Math.round(e.length/2),a=Math.pow(2,31)-1,h=parseInt(t.substring(t.length-8,t.length),16);for(t=t.substring(0,t.length-8),i+=h;i.length>10;)i=(parseInt(i.substring(0,10))+parseInt(i.substring(10,i.length))).toString();i=(n*i+o)%a;var l="",u="";for(s=0;s<t.length;s+=2)l=parseInt(parseInt(t.substring(s,s+2),16)^Math.floor(i/a*255)),u+=String.fromCharCode(l),i=(n*i+o)%a;return u}}(t,e=escape(e.toString()));return null!=i&&(i=unescape(i)),i}}},function(t,e,i){"use strict";var s="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\nuniform vec2 texSize;\nuniform vec2 center;\n\n// Swirl effect parameters\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  vec2 tc = outTexCoord * texSize;\n  tc -= center;\n  float dist = length(tc);\n  if (dist < radius) {\n    float percent = (radius - dist) / radius;\n    float theta = percent * percent * angle * 8.0;\n    float s = sin(theta);\n    float c = cos(theta);\n    tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n  }\n  tc += center;\n  gl_FragColor = texture2D(uMainSampler, tc / texSize);\n}\n";const r=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,n=Phaser.Math.DegToRad,o=Phaser.Math.RadToDeg,a=Phaser.Utils.Objects.GetValue;var h=class extends r{constructor(t,e,i){var r=t.game;super({game:r,renderer:r.renderer,fragShader:s}),this._width=0,this._height=0,this._centerX=0,this._centerY=0,this._radius=0,this._rotation=0,r.renderer.addPipeline(e,this),this.resetFromJSON(i)}resetFromJSON(t){this.radius=a(t,"radius",0);var e=a(t,"rotation",void 0);return void 0===e?this.angle=a(t,"angle",0):this.rotation=e,this.setCenter(a(t,"center.x",void 0),a(t,"center.y",void 0)),this}get radius(){return this._radius}set radius(t){this._radius=t,this.setFloat1("radius",t)}setRadius(t){return this.radius=t,this}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.setFloat1("angle",t)}setRotation(t){return this.rotation=t,this}get angle(){return o(this.rotation)}set angle(t){this.rotation=n(t)}setAngle(t){return this.angle=t,this}get centerX(){return this._centerX}set centerX(t){this._centerX=t,this._setCenter()}get centerY(){return this._centerY}set centerY(t){this._centerY=t,this._setCenter()}setCenter(t,e){return void 0===t&&(t=this._width/2,e=this._height/2),this._centerX=t,this._centerY=e,this._setCenter(),this}_setCenter(){this.setFloat2("center",this._centerX,this._centerY)}resize(t,e,i){return this._width=t,this._height=e,super.resize(t,e,i),this.setFloat2("texSize",t,e),this}};e.a=h},function(t,e,i){"use strict";var s=i(1),r=function(t,e){if(!t.isDown)return!1;for(var i=e.scene,s=i.input.cameras.getCamerasBelowPointer(t),r=i.input.manager,n=[e],o=0,a=s.length;o<a;o++)if(r.hitTest(t,n,s[o]).length>0)return!0;return!1};const n=Phaser.Utils.Objects.GetValue,o=Phaser.Math.Distance.Between,a=Phaser.Math.RotateAroundDistance;var h={};const l={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var u=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.gameObject.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(n(t,"enable",!0)),this.setAxisMode(n(t,"axis",0)),this.setAxisRotation(n(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.gameObject;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this),t.on("destroy",this.destroy,this)}shutdown(){this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}setAxisMode(t){return"string"==typeof t&&(t=l[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){for(var t,e=this.scene.input.manager,i=e.pointersTotal,s=e.pointers,n=0;n<i;n++)if(!((t=s[n]).dragState>0)&&r(t,this.gameObject)){t.dragState=1;break}}dragend(){this.isDragging&&(this.pointer.dragState=5)}onDragStart(t,e,i){this.isDragging||(this.pointer=t)}onDrag(t,e,i){if(this.pointer===t){var s=this.gameObject;if(0===this.axisMode)s.x=e,s.y=i;else if(0===this.axisRotation)1===this.axisMode?s.x=e:2===this.axisMode&&(s.y=i);else{var r;h.x=e,h.y=i,r=o(h.x,h.y,s.x,s.y),h=a(h,s.x,s.y,-this.axisRotation,r),1===this.axisMode?h.y=s.y:2===this.axisMode&&(h.x=s.x),r=o(h.x,h.y,s.x,s.y),h=a(h,s.x,s.y,this.axisRotation,r),s.x=h.x,s.y=h.y}}}onDragEnd(t,e,i,s){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return void 0!==this.pointer}};e.a=u},function(t,e,i){"use strict";var s="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\nuniform vec2 texSize;\nuniform vec2 pixelSize;\n\n// Swirl effect parameters\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  if ((pixelSize.x > 0.0) || (pixelSize.y > 0.0)) {\n    vec2 dxy = pixelSize/texSize;\n    vec2 tc = vec2(dxy.x*( floor(outTexCoord.x/dxy.x) + 0.5 ), \n                   dxy.y*( floor(outTexCoord.y/dxy.y) + 0.5 )\n                  );\n    gl_FragColor = texture2D(uMainSampler, tc);\n  }\n  else {        \n    gl_FragColor = texture2D(uMainSampler, outTexCoord);\n  }\n}\n";const r=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,n=Phaser.Utils.Objects.GetValue;var o=class extends r{constructor(t,e,i){var r=t.game;super({game:r,renderer:r.renderer,fragShader:s}),this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,r.renderer.addPipeline(e,this),this.resetFromJSON(i)}resetFromJSON(t){return this.setPixelSize(n(t,"pixelWidth",0),n(t,"pixelHeight",0)),this}get pixelWidth(){return this._pixelWidth}set pixelWidth(t){this._pixelWidth=t,this._setPixelSize()}setPixelWidth(t){return this.pixelWidth=t,this}get pixelHeight(){return this._pixelHeight}set pixelHeight(t){this._pixelHeight=t,this._setPixelSize()}setPixelHeight(t){return this.pixelHeight=t,this}setPixelSize(t,e){return void 0===e&&(e=t),this._pixelWidth=t,this._pixelHeight=e,this._setPixelSize(),this}_setPixelSize(){this.setFloat2("pixelSize",this._pixelWidth,this._pixelHeight)}resize(t,e,i){return this._width=t,this._height=e,super.resize(t,e,i),this.setFloat2("texSize",t,e),this}};e.a=o},function(t,e,i){"use strict";var s=i(2),r=function(t){for(var e in t)return!1;return!0},n=i(3);const o=Phaser.Utils.Objects.GetFastValue,a=Phaser.Utils.Objects.GetValue;const h={shuffle:0,random:1};var l=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){void 0==this.items&&(this.items={}),void 0==this.remain&&(this.remain={}),void 0==this._list&&(this._list=[]),void 0==this.customRnd&&(this.customRnd=[null,null]),this.setMode(o(t,"mode",0)),this.setReload(o(t,"reload",!0)),this.items=Object(s.a)(o(t,"items",{}),this.items),this._list.length=0,this.result=o(t,"result",null),this._restartFlag=!0,this.customRnd[0]=a(t,"rnd.fn",null),this.customRnd[1]=a(t,"rnd.ctx",null),this._restartFlag&&this.startGen();var e=o(t,"remain",void 0);return e&&(this.remain=Object(s.a)(e,this.remain)),this}toJSON(){return{mode:this.mode,reload:this.reload,items:Object(s.a)(this.items),remain:Object(s.a)(this.remain),result:this.result,restart:!0,rnd:Object(s.a)(this.customRnd)}}startGen(){var t;for(t in this.remain)this.items.hasOwnProperty(t)||delete this.remain[t];for(t in this.items){var e=this.items[t];e>0&&(this.remain[t]=e)}return 1===this.mode&&this.resetItemList(this.remain),this._restartFlag=!1,this}setMode(t){return"string"==typeof t&&(t=h[t]),this._restartFlag=this.mode!==t,this.mode=t,this}setReload(t){return this.reload=!!t,this}setItem(t,e){return this._restartFlag=this.items[t]!==e,this.items[t]=e,this}removeItem(t){return this.items.hasOwnProperty(t)&&(delete this.items[t],this._restartFlag=!0),this}removeAllItems(){for(var t in this.items)delete this.items[t];return this._restartFlag=!0,this}getItems(){return Object(s.a)(this.items)}getRemain(){return Object(s.a)(this.remain)}getItemCount(t){return this.items[t]||0}getRemainCount(t){return this.remain[t]||0}eachItem(t,e){for(var i=[null,void 0],s=2,r=arguments.length;s<r;s++)i.push(arguments[s]);for(var n in this.items)i[0]=n,i[1]=this.items[n],e?t.apply(e,i):t(i);return this}eachRemain(t,e){for(var i=[null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var r in this.remain)i[1]=r,i[2]=this.remain[r],e?t.apply(e,i):t(i);return this}addItem(t,e){if(this.items.hasOwnProperty(t)||(this.items[t]=0),this.items[t]+=e,!this._restartFlag)return 0===this.mode?this.addRemainItem(t,e):this.resetItemList(this.remain),this}putItemBack(t,e){if(1!==this.mode&&this.items.hasOwnProperty(t)&&(2!==this.mode||!this.restartGenFlg))return this.remain.hasOwnProperty(t)||(this.remain[t]=0),this.addShadowPattern(t,e,this.items[t]),this}next(t){var e=null;return this._restartFlag&&this.startGen(),null==t?0===this.mode?(this.resetItemList(this.remain),e=this.getRndItem(this._list),this.addRemainItem(e,-1)):e=this.getRndItem(this._list):this.remain.hasOwnProperty(t)?(0===this.mode&&this.addRemainItem(t,-1),e=t):e=null,this.result=e,e}setRandomGen(t,e){return this.customRnd[0]=t,this.customRnd[1]=e,this}destroy(){return Object(n.a)(this.items),Object(n.a)(this.remain),Object(n.a)(this._list),this.result=null,this._restartFlag=!1,this.customRnd[0]=null,this.customRnd[1]=null,this}resetItemList(t){this._list.length=0;var e,i,s=0;for(e in t)(i=t[e])>0&&(s+=i);for(e in t)(i=t[e])>0&&this._list.push([e,i/s]);return this}addRemainItem(t,e,i){return null==t||0===e?this:(this.remain.hasOwnProperty(t)||(this.remain[t]=0),this.remain[t]+=e,null!=i&&this.remain[t]>i&&(this.remain[t]=i),this.remain[t]<=0&&delete this.remain[t],0===this.mode&&this.reload&&r(this.remain)&&(this._restartFlag=!0),this)}getRndValue(){return this.customRnd[0]?this.customRnd[1]?this.customRnd[0].call(this.customRnd[1]):this.customRnd[0]():Math.random()}getRndItem(t){var e,i,s=this.getRndValue(),r=null,n=t.length;for(e=0;e<n;e++)if((s-=(i=t[e])[1])<0){r=i[0];break}return r}};e.a=l},function(t,e,i){"use strict";var s=i(1),r=i(20);var n=class extends r.a{constructor(t,e){super(e),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t;return this.parent.dragState.isDown&&(t="DRAG"),t}update_IDLE(t,e){this.next()}next_DRAG(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}update_DRAG(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}next_SLIDE(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,e){this.parent.sliding(t,e),this.next()}next_BACK(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,e){this.parent.pullBack(t,e),this.next()}},o=i(21);const a=Phaser.Utils.Objects.GetValue;var h=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(a(t,"value",0)),this.setSpeed(a(t,"speed",0)),this.setAcceleration(a(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};var l=class{constructor(){this.value,this.dir,this.movement=new h}init(t,e,i,s,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-s),this}stop(){this.movement.reset()}update(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};const u=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetValue;const d={horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var f=class extends u{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t);var i=c(e,"enable",!0),r={enable:i};this._state=new n(this,r);var a={inputConfig:c(e,"inputConfig",void 0),enable:i};this.dragState=new o.a(t,a),this._value=void 0,this._slowDown=new l;var h=c(e,"valuechangeCallback",null);if(null!==h){var u=c(e,"valuechangeCallbackScope",void 0);this.on("valuechange",h,u)}null!==(h=c(e,"overmaxCallback",null))&&(u=c(e,"overmaxCallbackScope",void 0),this.on("overmax",h,u)),null!==(h=c(e,"overminCallback",null))&&(u=c(e,"overminCallbackScope",void 0),this.on("overmin",h,u)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setAxisMode(c(t,"axis",2)),this.setSlidingDeceleration(c(t,"slidingDeceleration",5e3)),this.setBackDeceleration(c(t,"backDeceleration",2e3));var e=c(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(c(t,"max",void 0),c(t,"min",void 0)),this.setValue(c(t,"value",this.maxValue||0)),this.setEnable(c(t,"enable",!0)),this}boot(){this.scene.events.on("update",this._state.update,this._state)}shutdown(){super.shutdown(),this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}destroy(){this.shutdown()}setAxisMode(t){return"string"==typeof t&&(t=d[t]),this.axisMode=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setBounds(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}get value(){return this._value}set value(t){var e=this._value,i=this.overMax(t),s=this.overMin(t);i&&this.emit("overmax",t,e),s&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),s&&(t=this.minValue)),t!==this._value&&(this._value=t,this.emit("valuechange",t,e))}setValue(t){this.value=t}setEnable(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return null!=this.maxValue&&t>this.maxValue}overMin(t){return null!=this.minValue&&t<this.minValue}get backEnable(){return"number"==typeof this.backDeceleration}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return"number"==typeof this.slidingDeceleration}get isSliding(){return this._slowDown.isMoving}get dragDelta(){return 2===this.axisMode?this.dragState.dy:1===this.axisMode?this.dragState.dx:0}get dragSpeed(){return 2===this.axisMode?this.dragState.speedY:1===this.axisMode?this.dragState.speedX:0}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}sliding(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}onPullBack(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),s=this.backDeceleration,r=Math.sqrt(2*s*i);this._slowDown.init(t,void 0,r,s,e)}pullBack(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}};e.a=f},function(t,e,i){"use strict";var s=i(23),r=i(2),n=i(3);const o=Phaser.Utils.Objects.GetValue;var a=class{constructor(t){this.scenario=t,this.queue=[],this.currentIdx=-1,this.nextIdx=0}resetFromJSON(t){var e=o(t,"queue",void 0);return void 0===e?Object(n.a)(this.queue):Object(r.a)(e,this.queue),this.currentIdx=o(t,"curIdx",-1),this.nextIdx=o(t,"nextIdx",0),this}clear(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}append(t){return this.queue.push(t),this}setNextIndex(t){return void 0===t&&(t=this.currentIdx+1),this.nextIdx=t,this}get(t){return void 0===t&&(t=this.nextIdx),this.currentIdx=t,this.queue[t]}get length(){return this.queue.length}};var h=class{constructor(t,e){this.scenario=t,this.type=e}resetFromJSON(t){}toJSON(){return{}}parse(t,e){return t}run(t){}},l=(i(5),i(11)),u=i(7);const c=Phaser.Utils.Array.SpliceOne;var d=class extends h{constructor(t){super(t,"-"),this.task=void 0}resetFromJSON(t){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}parse(t,e){var i=c(t,0),s=this.scenario,r=s.argsConvert,n=s.argsConvertScope;if(r){!0===r&&(r=u.a,n=void 0);for(var o=1,a=t.length;o<a;o++)t[o]=n?r.call(n,t[o],t):r(t[o],t)}return t=[i,t]}run(t){var e=this.scenario,i=Object(l.a)(t[1],e.scope);i&&"function"==typeof i.once?(i.once("complete",this.resume,this),this.pause(),this.task=i):this.task=void 0}pause(){this.scenario.pause()}resume(){this.task=void 0;var t=this.scenario;t.resume(),t.runNextCmd()}};var f=class extends h{constructor(t){super(t,"wait")}parse(t,e){t.length=2;var i=this.getEventName(t);return isNaN(i)||(t[1]=parseFloat(i)),t}run(t){var e=this.getEventName(t);"number"==typeof e?this.waitTime(e):this.waitEvent(e)}waitTime(t){t>this.scenario.offset?(t-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)):this.scenario.offset-=t}waitEvent(t){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)}getEventName(t){var e=t[1];return null==e&&(e="",t[1]=e),e}};const p=Phaser.Utils.Objects.GetValue;var g=class extends h{constructor(t){super(t,"label"),this.labels={},this.prevLabel="",this.lastLabel=""}resetFromJSON(t){this.prevLabel=p(t,"preLabel",""),this.lastLabel=p(t,"lastLabel","");var e=p(t,"labels",void 0);void 0===e?Object(n.a)(this.labels):Object(r.a)(e,this.labels)}toJSON(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}parse(t,e){t.length=2;var i=this.getLabel(t);return this.addLabel(i,e),t}run(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+e),this.prevLabel=this.lastLabel,this.lastLabel=e;var i=this.scenario;i.emit("labelchange",this.lastLabel,this.prevLabel,i)}getLabel(t){var e=t[1];return null==e&&(e="",t[1]=e),e}addLabel(t,e){this.labels[t]=e}getIndex(t){return""!==t&&this.hasLabel(t)?this.labels[t]:0}hasLabel(t){return this.labels.hasOwnProperty(t)}};var v=class extends h{constructor(t){super(t,"exit")}parse(t,e){return t.length=1,t}run(t){this.scenario.log("#EXIT"),this.scenario.complete()}};var m=class extends h{constructor(t){super(t,"goto")}parse(t,e){return t.length=2,t}run(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+e),this.scenario.goto(e)}getLabel(t){var e=t[1];return null==e&&(e="",t[1]=e),e}};var y=class extends h{constructor(t){super(t,"if")}parse(t,e){t.length=4;var i="("+this.getCond(t)+")";return t[1]=new Function("return "+i),t}run(t){var e=this.getCond(t).call(this.scenario.scope),i=e?this.getTrueLabel(t):this.getFalseLabel(t);""!==i&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+e+"- GOTO label: "+i),this.scenario.goto(i))}getCond(t){var e=t[1];return null!=e&&""!==e||(e="true",t[1]=e),e}getTrueLabel(t){var e=t[2];return null==e&&(e="",t[2]=e),e}getFalseLabel(t){var e=t[3];return null==e&&(e="",t[3]=e),e}};const b=Phaser.Utils.Objects.GetValue;var w=class{constructor(t){this.cmds={"-":new d(t),wait:new f(t),label:new g(t),exit:new v(t),goto:new m(t),if:new y(t)}}resetFromJSON(t){for(var e in this.cmds)this.cmds[e].resetFromJSON(b(t,e,void 0));return this}toJSON(){var t={};for(var e in this.cmds)t[e]=this.cmds[e].toJSON();return t}get(t){return this.cmds[t]}isValidCmdName(t){return this.cmds.hasOwnProperty(t)}};const x=Phaser.Events.EventEmitter,S=Phaser.Utils.Objects.GetValue;const _={ms:0,s:1,sec:1},C=/^#([a-zA-Z]+)/;var O=class extends x{constructor(t,e){super(),this.scene=t,this.timer=void 0,this.instMem=new a(this),this.cmdHandlers=new w(this),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this._inRunCmdLoop=!1,this.isRunning=S(t,"state",!1),this.isPaused=S(t,"pause",!1),this.waitEvent=S(t,"wait",void 0),this.scope=S(t,"scope",void 0),this.timeUnit=S(t,"timeUnit",0),this.cmdPrefix=S(t,"prefix",C),this.argsConvert=S(t,"argsConvert",!0),this.argsConvertScope=S(t,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON(S(t,"handlers",void 0)),this.instMem.resetFromJSON(S(t,"instMem",void 0)),this}toJSON(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}boot(){}shutdown(){super.shutdown(),this.clear(),this.parent=void 0}destroy(){this.shutdown()}load(t,e,i){return this.clear(),this.timeUnit=S(i,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=_[this.timeUnit]),this.cmdPrefix=S(i,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=S(i,"argsConvert",this.argsConvert),this.argsConvertScope=S(i,"argsConvertScope",this.argsConvertScope),this.scope=e,this.append(t),this}clear(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}start(t){this.stop();var e=S(t,"label","");return this.offset=S(t,"offset",0),this.isDebugMode&&this.log("Start at Label: "+e),!!this.goto(e)&&(this.isRunning=!0,this.runNextCmd(),!0)}getIndex(t){var e=this.getCmdHandler("label").getIndex(t);return null==e&&this.error("Label: "+t+" is not found"),e}goto(t){var e;return null!=(e="string"==typeof t?this.getIndex(t):t)&&(this.instMem.setNextIndex(e),!0)}wait(t){if(this.waitEvent=t,"number"==typeof t){var e=t;1===this.timeUnit&&(e*=1e3),this.timer=this.scene.time.delayedCall(e,this.continue,[t],this)}return this}stop(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}complete(){return this.emit("complete",this),this.stop(),this}append(t){return this.parse(Object(s.a)(t)),this}pause(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}resume(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}continue(t){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(t===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}get lastLabel(){return this.cmdHandlers.labelCmd.lastLabel}get previousLabel(){return this.cmdHandlers.labelCmd.preLabel}getCmdHandler(t){return"string"!=typeof t&&(t=t[0]),this.cmdHandlers.get(t)}parse(t){for(var e,i,s=this.cmdPrefix,r=0,n=t.length;r<n;r++)if("-"===(i=(e=t[r])[0]))this.appendCommand(e);else if(isNaN(i))if(s.test(i)){var o=i.match(s);e[0]=o[1].toLowerCase(),this.appendCommand(e)||this.error("Line "+r+": "+JSON.stringify(e)+" is not a valid command")}else this.appendCommand(["wait",i]),e[0]="-",this.appendCommand(e);else{var a=parseFloat(i);a>0&&this.appendCommand(["wait",a]),e[0]="-",this.appendCommand(e)}return this}appendCommand(t){var e=this.getCmdHandler(t);return null!=e&&((t=e.parse(t,this.instMem.length))&&this.instMem.append(t),!0)}runNextCmd(){if(!this._inRunCmdLoop){this.threadId;var t,e=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(t=e.get(),e.setNextIndex(),null==t){this.complete();break}this.getCmdHandler(t).run(t)}return this._inRunCmdLoop=!1,this}}log(t){return this.emit("log",t,this),this}get isDebugMode(){return this.listenerCount("log")>0}error(t){return this.emit("error",t,this),this}};e.a=O},function(t,e,i){"use strict";var s=i(27),r={alpha:{}};e.a=function(t,e){r.mode=1,r.alpha.start=t.alpha,r.alpha.end=0,r.duration=e;var i=new s.a(t,r);return i.start(),i}},function(t,e,i){var s,r,n;r=[],void 0===(n="function"==typeof(s=function(){"use strict";var t,e,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==s?s:{},r=!s.document&&!!s.postMessage,n=r&&/(\?|&)papaworker(=|&|$)/.test(s.location.search),o=!1,a={},h=0,l={parse:function(e,i){var r=(i=i||{}).dynamicTyping||!1;if(C(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.transform=!!C(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var n=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!o&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=l.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var i=new s.Worker(e);return i.onmessage=b,i.id=h++,a[i.id]=i,i}();return n.userStep=i.step,n.userChunk=i.chunk,n.userComplete=i.complete,n.userError=i.error,i.step=C(i.step),i.chunk=C(i.chunk),i.complete=C(i.complete),i.error=C(i.error),delete i.worker,void n.postMessage({input:e,config:i,workerId:n.id})}var u=null;return e===l.NODE_STREAM_INPUT?(u=new v(i)).getStream():("string"==typeof e?u=i.download?new d(i):new p(i):!0===e.readable&&C(e.read)&&C(e.on)?u=new g(i):(s.File&&e instanceof File||e instanceof Object)&&(u=new f(i)),u.stream(e))},unparse:function(t,e){var i=!1,s=!0,r=",",n="\r\n",o='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===l.BAD_DELIMITERS.indexOf(e.delimiter)&&(r=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(i=e.quotes),"string"==typeof e.newline&&(n=e.newline),"string"==typeof e.quoteChar&&(o=e.quoteChar),"boolean"==typeof e.header&&(s=e.header));var a=new RegExp(o,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return u(null,t);if("object"==typeof t[0])return u(h(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:h(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),u(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input";function h(t){if("object"!=typeof t)return[];var e=[];for(var i in t)e.push(i);return e}function u(t,e){var i="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var o=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(o&&s){for(var h=0;h<t.length;h++)h>0&&(i+=r),i+=c(t[h],h);e.length>0&&(i+=n)}for(var l=0;l<e.length;l++){for(var u=o?t.length:e[l].length,d=0;d<u;d++){d>0&&(i+=r);var f=o&&a?t[d]:d;i+=c(e[l][f],d)}l<e.length-1&&(i+=n)}return i}function c(t,e){if(void 0===t||null===t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(a,o+o);var s="boolean"==typeof i&&i||i instanceof Array&&i[e]||function(t,e){for(var i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return!0;return!1}(t,l.BAD_DELIMITERS)||t.indexOf(r)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return s?o+t+o:t}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!s.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=y,l.ParserHandle=m,l.NetworkStreamer=d,l.FileStreamer=f,l.StringStreamer=p,l.ReadableStreamStreamer=g,l.DuplexStreamStreamer=v,s.jQuery){var u=s.jQuery;u.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(t){var r="INPUT"===u(this).prop("tagName").toUpperCase()&&"file"===u(this).attr("type").toLowerCase()&&s.FileReader;if(!r||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)i.push({file:this.files[n],inputElem:this,instanceConfig:u.extend({},e)})}),r(),this;function r(){if(0!==i.length){var e,s,r,o,a=i[0];if(C(t.before)){var h=t.before(a.file,a.inputElem);if("object"==typeof h){if("abort"===h.action)return e="AbortError",s=a.file,r=a.inputElem,o=h.reason,void(C(t.error)&&t.error({name:e},s,r,o));if("skip"===h.action)return void n();"object"==typeof h.config&&(a.instanceConfig=u.extend(a.instanceConfig,h.config))}else if("skip"===h)return void n()}var c=a.instanceConfig.complete;a.instanceConfig.complete=function(t){C(c)&&c(t,a.file,a.inputElem),n()},l.parse(a.file,a.instanceConfig)}else C(t.complete)&&t.complete()}function n(){i.splice(0,1),r()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=S(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new m(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var o=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=o.meta.cursor;this._finished||(this._partialLine=r.substring(a-this._baseIndex),this._baseIndex=a),o&&o.data&&(this._rowCount+=o.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)s.postMessage({results:o,workerId:l.WORKER_ID,finished:h});else if(C(this._config.chunk)&&!e){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return;o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!h||!C(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||o&&o.meta.paused||this._nextChunk(),o}},this._sendError=function(t){C(this._config.error)?this._config.error(t):n&&this._config.error&&s.postMessage({workerId:l.WORKER_ID,error:t,finished:!1})}}function d(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),c.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+s),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var i=e.statusText||t;this._sendError(new Error(i))}}function f(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),c.call(this,t);var s="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,s?((e=new FileReader).onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,r)}var n=e.readAsText(t,this._config.encoding);s||this._chunkLoaded({target:{result:n}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;t=t||{},c.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,i=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(i)}}}function g(t){t=t||{},c.call(this,t);var e=[],i=!0,s=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=_(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=_(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=_(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(t){var e=i(84).Duplex,s=S(t),r=!0,n=!1,o=[],a=null;this._onCsvData=function(t){for(var e=t.data,i=0;i<e.length;i++)a.push(e[i])||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){a.push(null)},s.step=_(this._onCsvData,this),s.complete=_(this._onCsvComplete,this),c.call(this,s),this._nextChunk=function(){n&&1===o.length&&(this._finished=!0),o.length?o.shift()():r=!0},this._addToParseQueue=function(t,e){o.push(_(function(){if(this.parseChunk("string"==typeof t?t:t.toString(s.encoding)),C(e))return e()},this)),r&&(r=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(t,e,i){this._addToParseQueue(t,i)},this._onWriteComplete=function(){n=!0,this._addToParseQueue("")},this.getStream=function(){return a},(a=new e({readableObjectMode:!0,decodeStrings:!1,read:_(this._onRead,this),write:_(this._onWrite,this)})).once("finish",_(this._onWriteComplete,this))}function m(t){var e,i,s,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,o=this,a=0,h=0,u=!1,c=!1,d=[],f={data:[],errors:[],meta:{}};if(C(t.step)){var p=t.step;t.step=function(e){if(f=e,v())g();else{if(g(),0===f.data.length)return;a+=e.data.length,t.preview&&a>t.preview?i.abort():p(f,o)}}}function g(){if(f&&s&&(b("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines)for(var e=0;e<f.data.length;e++)1===f.data[e].length&&""===f.data[e][0]&&f.data.splice(e--,1);return v()&&function(){if(f){for(var e=0;v()&&e<f.data.length;e++)for(var i=0;i<f.data[e].length;i++){var s=f.data[e][i];t.trimHeaders&&(s=s.trim()),d.push(s)}f.data.splice(0,1)}}(),function(){if(!f||!t.header&&!t.dynamicTyping&&!t.transform)return f;for(var e=0;e<f.data.length;e++){var i,s=t.header?{}:[];for(i=0;i<f.data[e].length;i++){var r=i,n=f.data[e][i];t.header&&(r=i>=d.length?"__parsed_extra":d[i]),t.transform&&(n=t.transform(n,r)),n=m(r,n),"__parsed_extra"===r?(s[r]=s[r]||[],s[r].push(n)):s[r]=n}f.data[e]=s,t.header&&(i>d.length?b("FieldMismatch","TooManyFields","Too many fields: expected "+d.length+" fields but parsed "+i,h+e):i<d.length&&b("FieldMismatch","TooFewFields","Too few fields: expected "+d.length+" fields but parsed "+i,h+e))}return t.header&&f.meta&&(f.meta.fields=d),h+=f.data.length,f}()}function v(){return t.header&&0===d.length}function m(e,i){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(r.test(i)?parseFloat(i):n.test(i)?new Date(i):""===i?null:i):i}function b(t,e,i,s){f.errors.push({type:t,code:e,message:i,row:s})}this.parse=function(r,n,o){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),i=t.split("\n"),s=i.length>1&&i[0].length<e[0].length;if(1===e.length||s)return"\n";for(var r=0,n=0;n<e.length;n++)"\n"===e[n][0]&&r++;return r>=e.length/2?"\r\n":"\r"}(r)),s=!1,t.delimiter)C(t.delimiter)&&(t.delimiter=t.delimiter(r),f.meta.delimiter=t.delimiter);else{var a=function(e,i,s,r){for(var n,o,a,h=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],u=0;u<h.length;u++){var c=h[u],d=0,f=0,p=0;a=void 0;for(var g=new y({comments:r,delimiter:c,newline:i,preview:10}).parse(e),v=0;v<g.data.length;v++)if(s&&1===g.data[v].length&&0===g.data[v][0].length)p++;else{var m=g.data[v].length;f+=m,void 0!==a?m>1&&(d+=Math.abs(m-a),a=m):a=m}g.data.length>0&&(f/=g.data.length-p),(void 0===o||d<o)&&f>1.99&&(o=d,n=c)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}(r,t.newline,t.skipEmptyLines,t.comments);a.successful?t.delimiter=a.bestDelimiter:(s=!0,t.delimiter=l.DefaultDelimiter),f.meta.delimiter=t.delimiter}var h=S(t);return t.preview&&t.header&&h.preview++,e=r,i=new y(h),f=i.parse(e,n,o),g(),u?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,i.abort(),e=e.substr(i.getCharIndex())},this.resume=function(){u=!1,o.streamer.parseChunk(e,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,i.abort(),f.meta.aborted=!0,C(t.complete)&&t.complete(f),e=""}}function y(t){var e,i=(t=t||{}).delimiter,s=t.newline,r=t.comments,n=t.step,o=t.preview,a=t.fastMode,h=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof i||l.BAD_DELIMITERS.indexOf(i)>-1)&&(i=","),r===i)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||l.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var u=0,c=!1;this.parse=function(t,l,d){if("string"!=typeof t)throw"Input must be a string";var f=t.length,p=i.length,g=s.length,v=r.length,m=C(n);u=0;var y=[],b=[],w=[],x=0;if(!t)return D();if(a||!1!==a&&-1===t.indexOf(e)){for(var S=t.split(s),_=0;_<S.length;_++){if(w=S[_],u+=w.length,_!==S.length-1)u+=s.length;else if(d)return D();if(!r||w.substr(0,v)!==r){if(m){if(y=[],L(w.split(i)),F(),c)return D()}else L(w.split(i));if(o&&_>=o)return y=y.slice(0,o),D(!0)}}return D()}for(var O,T=t.indexOf(i,u),P=t.indexOf(s,u),k=new RegExp(h.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+e,"g");;)if(t[u]!==e)if(r&&0===w.length&&t.substr(u,v)===r){if(-1===P)return D();u=P+g,P=t.indexOf(s,u),T=t.indexOf(i,u)}else if(-1!==T&&(T<P||-1===P))w.push(t.substring(u,T)),u=T+p,T=t.indexOf(i,u);else{if(-1===P)break;if(w.push(t.substring(u,P)),A(P+g),m&&(F(),c))return D();if(o&&y.length>=o)return D(!0)}else for(O=u,u++;;){if(-1===(O=t.indexOf(e,O+1)))return d||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:u}),I();if(O===f-1){var M=t.substring(u,O).replace(k,e);return I(M)}if(e!==h||t[O+1]!==h){if(e===h||0===O||t[O-1]!==h){var E=j(T);if(t[O+1+E]===i){w.push(t.substring(u,O).replace(k,e)),u=O+1+E+p,T=t.indexOf(i,u),P=t.indexOf(s,u);break}var R=j(P);if(t.substr(O+1+R,g)===s){if(w.push(t.substring(u,O).replace(k,e)),A(O+1+R+g),T=t.indexOf(i,u),m&&(F(),c))return D();if(o&&y.length>=o)return D(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:u}),O++}}else O++}return I();function L(t){y.push(t),x=u}function j(e){var i=0;if(-1!==e){var s=t.substring(O+1,e);s&&""===s.trim()&&(i=s.length)}return i}function I(e){return d?D():(void 0===e&&(e=t.substr(u)),w.push(e),u=f,L(w),m&&F(),D())}function A(e){u=e,L(w),w=[],P=t.indexOf(s,u)}function D(t){return{data:y,errors:b,meta:{delimiter:i,linebreak:s,aborted:c,truncated:!!t,cursor:x+(l||0)}}}function F(){n(D()),y=[],b=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function b(t){var e=t.data,i=a[e.workerId],s=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){s=!0,w(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(C(i.userStep)){for(var n=0;n<e.results.data.length&&(i.userStep({data:[e.results.data[n]],errors:e.results.errors,meta:e.results.meta},r),!s);n++);delete e.results}else C(i.userChunk)&&(i.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!s&&w(e.workerId,e.results)}function w(t,e){var i=a[t];C(i.userComplete)&&i.userComplete(e),i.terminate(),delete a[t]}function x(){throw"Not implemented."}function S(t){if("object"!=typeof t||null===t)return t;var e=t instanceof Array?[]:{};for(var i in t)e[i]=S(t[i]);return e}function _(t,e){return function(){t.apply(e,arguments)}}function C(t){return"function"==typeof t}return n?s.onmessage=function(t){var e=t.data;if(void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input)s.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(s.File&&e.input instanceof File||e.input instanceof Object){var i=l.parse(e.input,e.config);i&&s.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}}:l.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),d.prototype=Object.create(c.prototype),d.prototype.constructor=d,f.prototype=Object.create(c.prototype),f.prototype.constructor=f,p.prototype=Object.create(p.prototype),p.prototype.constructor=p,g.prototype=Object.create(c.prototype),g.prototype.constructor=g,v.prototype=Object.create(c.prototype),v.prototype.constructor=v,l})?s.apply(e,r):s)||(t.exports=n)},function(t,e,i){var s;!function(){function r(t,e,i){return t.call.apply(t.bind,arguments)}function n(t,e,i){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function o(t,e,i){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:n).apply(null,arguments)}var a=Date.now||function(){return+new Date};var h=!!window.FontFace;function l(t,e,i,s){if(e=t.c.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?e.style.cssText=i[r]:e.setAttribute(r,i[r]));return s&&e.appendChild(t.c.createTextNode(s)),e}function u(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,i){e=e||[],i=i||[];for(var s=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var n=!1,o=0;o<s.length;o+=1)if(e[r]===s[o]){n=!0;break}n||s.push(e[r])}for(e=[],r=0;r<s.length;r+=1){for(n=!1,o=0;o<i.length;o+=1)if(s[r]===i[o]){n=!0;break}n||e.push(s[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function f(t,e){for(var i=t.className.split(/\s+/),s=0,r=i.length;s<r;s++)if(i[s]==e)return!0;return!1}function p(t,e,i){function s(){a&&r&&n&&(a(o),a=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,n=!0,o=null,a=i||null;h?(e.onload=function(){r=!0,s()},e.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),s()}):setTimeout(function(){r=!0,s()},0),u(t,"head",e)}function g(t,e,i,s){var r=t.c.getElementsByTagName("head")[0];if(r){var n=l(t,"script",{src:e}),o=!1;return n.onload=n.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i&&i(null),n.onload=n.onreadystatechange=null,"HEAD"==n.parentNode.tagName&&r.removeChild(n))},r.appendChild(n),setTimeout(function(){o||(o=!0,i&&i(Error("Script load timeout")))},s||5e3),n}return null}function v(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,b(t)}}function y(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function x(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function S(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var s=t[i].replace(/['"]/g,"");-1!=s.indexOf(" ")||/^\d/.test(s)?e.push("'"+s+"'"):e.push(s)}return e.join(",")}function _(t){return t.a+t.f}function C(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function O(t){var e=4,i="n",s=null;return t&&((s=t.match(/(normal|oblique|italic)/i))&&s[1]&&(i=s[1].substr(0,1).toLowerCase()),(s=t.match(/([1-9]00|normal|bold)/i))&&s[1]&&(/bold/i.test(s[1])?e=7:/[1-9]00/.test(s[1])&&(e=parseInt(s[1].substr(0,1),10)))),i+e}function T(t){if(t.g){var e=f(t.f,t.a.c("wf","active")),i=[],s=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),d(t.f,i,s)}P(t,"inactive")}function P(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,_(i)):t.h[e]())}function k(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function M(t){u(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(t.c)+";font-style:"+C(t)+";font-weight:"+t.f+"00;"}function R(t,e,i,s,r,n){this.g=t,this.j=e,this.a=s,this.c=i,this.f=r||3e3,this.h=n||void 0}function L(t,e,i,s,r,n,o){this.v=t,this.B=e,this.c=i,this.a=s,this.s=o||"BESbswy",this.f={},this.w=r||3e3,this.u=n||null,this.m=this.j=this.h=this.g=null,this.g=new k(this.c,this.s),this.h=new k(this.c,this.s),this.j=new k(this.c,this.s),this.m=new k(this.c,this.s),t=E(t=new x(this.a.c+",serif",_(this.a))),this.g.a.style.cssText=t,t=E(t=new x(this.a.c+",sans-serif",_(this.a))),this.h.a.style.cssText=t,t=E(t=new x("serif",_(this.a))),this.j.a.style.cssText=t,t=E(t=new x("sans-serif",_(this.a))),this.m.a.style.cssText=t,M(this.g),M(this.h),M(this.j),M(this.m)}w.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},R.prototype.start=function(){var t=this.c.o.document,e=this,i=a(),s=new Promise(function(s,r){!function n(){a()-i>=e.f?r():t.fonts.load(function(t){return C(t)+" "+t.f+"00 300px "+S(t.c)}(e.a),e.h).then(function(t){1<=t.length?s():setTimeout(n,25)},function(){r()})}()}),r=null,n=new Promise(function(t,i){r=setTimeout(i,e.f)});Promise.race([n,s]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var j={D:"serif",C:"sans-serif"},I=null;function A(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return I}function D(t,e,i){for(var s in j)if(j.hasOwnProperty(s)&&e===t.f[j[s]]&&i===t.f[j[s]])return!0;return!1}function F(t){var e,i=t.g.a.offsetWidth,s=t.h.a.offsetWidth;(e=i===t.f.serif&&s===t.f["sans-serif"])||(e=A()&&D(t,i,s)),e?a()-t.A>=t.w?A()&&D(t,i,s)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?N(t,t.v):N(t,t.B):function(t){setTimeout(o(function(){F(this)},t),50)}(t):N(t,t.v)}function N(t,e){setTimeout(o(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)},t),0)}function B(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}L.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),F(this)};var Y=null;function U(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):T(t.a))}function W(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function X(t,e,i,s,r){var n=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,a=s||{};if(0===i.length&&n)T(e.a);else{e.f+=i.length,n&&(e.j=n);var h,l=[];for(h=0;h<i.length;h++){var u=i[h],c=a[u.c],f=e.a,p=u;if(f.g&&d(f.f,[f.a.c("wf",p.c,_(p).toString(),"loading")]),P(f,"fontloading",p),f=null,null===Y)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Y=p?42<parseInt(p[1],10):!g}else Y=!1;f=Y?new R(o(e.g,e),o(e.h,e),e.c,u,e.s,c):new L(o(e.g,e),o(e.h,e),e.c,u,e.s,t,c),l.push(f)}for(h=0;h<l.length;h++)l[h].start()}},0)}function V(t,e){this.c=t,this.a=e}function K(t,e){this.c=t,this.a=e}B.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,_(t).toString(),"active")],[e.a.c("wf",t.c,_(t).toString(),"loading"),e.a.c("wf",t.c,_(t).toString(),"inactive")]),P(e,"fontactive",t),this.m=!0,U(this)},B.prototype.h=function(t){var e=this.a;if(e.g){var i=f(e.f,e.a.c("wf",t.c,_(t).toString(),"active")),s=[],r=[e.a.c("wf",t.c,_(t).toString(),"loading")];i||s.push(e.a.c("wf",t.c,_(t).toString(),"inactive")),d(e.f,s,r)}P(e,"fontinactive",t),U(this)},W.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var s=[],r=i.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(e);var s=function(t,e,i){var s,r=[];for(s in e)if(e.hasOwnProperty(s)){var n=t.c[s];n&&r.push(n(e[s],i))}return r}(t.a,i,t.c),n=new B(t.c,e,r);for(t.h=s.length,e=0,i=s.length;e<i;e++)s[e].load(function(e,i,s){X(t,n,e,i,s)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},V.prototype.load=function(t){var e=this,i=e.a.projectId,s=e.a.version;if(i){var r=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(s?"?v="+s:""),function(s){s?t([]):(r["__MonotypeConfiguration__"+i]=function(){return e.a},function e(){if(r["__mti_fntLst"+i]){var s,n=r["__mti_fntLst"+i](),o=[];if(n)for(var a=0;a<n.length;a++){var h=n[a].fontfamily;void 0!=n[a].fontStyle&&void 0!=n[a].fontWeight?(s=n[a].fontStyle+n[a].fontWeight,o.push(new x(h,s))):o.push(new x(h))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},K.prototype.load=function(t){var e,i,s=this.a.urls||[],r=this.a.families||[],n=this.a.testStrings||{},o=new v;for(e=0,i=s.length;e<i;e++)p(this.c,s[e],m(o));var a=[];for(e=0,i=r.length;e<i;e++)if((s=r[e].split(":"))[1])for(var h=s[1].split(","),l=0;l<h.length;l+=1)a.push(new x(s[0],h[l]));else a.push(new x(s[0]));y(o,function(){t(a,n)})};var G="https://fonts.googleapis.com/css";var H={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,e){this.c=t,this.a=e}var $={Arimo:!0,Cousine:!0,Tinos:!0};function Q(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}Z.prototype.load=function(t){var e=new v,i=this.c,s=new function(t,e){this.c=t||G,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var i=e.length,s=0;s<i;s++){var r=e[s].split(":");3==r.length&&t.f.push(r.pop());var n="";2==r.length&&""!=r[1]&&(n=":"),t.a.push(r.join(n))}}(s,r);var n=new function(t){this.f=t,this.a=[],this.c={}}(r);!function(t){for(var e=t.f.length,i=0;i<e;i++){var s=t.f[i].split(":"),r=s[0].replace(/\+/g," "),n=["n4"];if(2<=s.length){var o;if(o=[],a=s[1])for(var a,h=(a=a.split(",")).length,l=0;l<h;l++){var u;if((u=a[l]).match(/^[\w-]+$/))if(null==(d=q.exec(u.toLowerCase())))u="";else{if(u=null==(u=d[2])||""==u?"n":J[u],null==(d=d[1])||""==d)d="4";else var c=z[d],d=c||(isNaN(d)?"4":d.substr(0,1));u=[u,d].join("")}else u="";u&&o.push(u)}0<o.length&&(n=o),3==s.length&&(o=[],0<(s=(s=s[2])?s.split(","):o).length&&(s=H[s[0]])&&(t.c[r]=s))}for(t.c[r]||(s=H[r])&&(t.c[r]=s),s=0;s<n.length;s+=1)t.a.push(new x(r,n[s]))}}(n),p(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],s=0;s<e;s++)i.push(t.a[s].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(s),m(e)),y(e,function(){t(n.a,n.c,$)})},Q.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var s=[],r=0;r<e.length;r+=2)for(var n=e[r],o=e[r+1],a=0;a<o.length;a++)s.push(new x(n,o[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(s)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,i=this.c.o,s=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var r=0,n=i.fonts.length;r<n;++r){var o=i.fonts[r];s.a.push(new x(o.name,O("font-weight:"+o.weight+";font-style:"+o.style)))}t(s.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new W(window);et.a.c.custom=function(t,e){return new K(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new V(e,t)},et.a.c.typekit=function(t,e){return new Q(e,t)},et.a.c.google=function(t,e){return new Z(e,t)};var it={load:o(et.load,et)};void 0===(s=function(){return it}.call(e,i,e,t))||(t.exports=s)}()},function(t,e,i){"use strict";i.r(e);var s=i(14);const r=Phaser.Utils.Objects.GetAdvancedValue,n=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexTagText",function(t,e,i,r){return this.displayList.add(new s.a(this.scene,t,e,i,r))}),Phaser.GameObjects.GameObjectCreator.register("rexTagText",function(t,e){var i=r(t,"text",""),o=r(t,"style",null),a=r(t,"padding",null);null!==a&&(o.padding=a),void 0!==e&&(t.add=e);var h=new s.a(this.scene,0,0,i,o);return n(this.scene,h,t),h.autoRound=r(t,"autoRound",!0),h.resolution=r(t,"resolution",1),h}),e.default=s.a},function(t,e,i){"use strict";i.r(e);var s=i(16);const r=Phaser.Utils.Objects.GetValue,n=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexGridTable",function(t,e,i,r,n){return this.displayList.add(new s.a(this.scene,t,e,i,r,n))}),Phaser.GameObjects.GameObjectCreator.register("rexGridTable",function(t){var e=r(t,"width",256),i=r(t,"height",256),o=new s.a(this.scene,0,0,e,i,t);return o.syncChildrenEnable=!1,n(this.scene,o,t),o.syncChildrenEnable=!0,o.syncPosition().syncVisible().syncAlpha(),o}),e.default=s.a},function(t,e,i){"use strict";i.r(e);var s=i(8);const r=Phaser.Utils.Objects.GetAdvancedValue,n=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexContainerLite",function(t,e,i,r){return this.displayList.add(new s.a(this.scene,t,e,i,r))}),Phaser.GameObjects.GameObjectCreator.register("rexContainerLite",function(t){var e=r(t,"width",1),i=r(t,"height",e),o=new s.a(this.scene,0,0,e,i);return o.syncChildrenEnable=!1,n(this.scene,o,t),o.syncChildrenEnable=!0,o.syncPosition().syncVisible().syncAlpha(),o}),e.default=s.a},function(t,e,i){"use strict";i.r(e);var s=i(15);const r=Phaser.Utils.Objects.GetAdvancedValue,n=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexCanvas",function(t,e,i,r){return this.displayList.add(new s.a(this.scene,t,e,i,r))}),Phaser.GameObjects.GameObjectCreator.register("rexCanvas",function(t,e){var i=r(t,"width",256),o=r(t,"height",i);void 0!==e&&(t.add=e);var a=new s.a(this.scene,0,0,i,o);n(this.scene,a,t);var h=r(t,"fill",null);return a.fill(h),a}),e.default=s.a},function(t,e,i){"use strict";i.r(e);var s=i(13);const r=Phaser.Utils.Objects.GetAdvancedValue,n=Phaser.GameObjects.BuildGameObject;Phaser.GameObjects.GameObjectFactory.register("rexBBCodeText",function(t,e,i,r){return this.displayList.add(new s.a(this.scene,t,e,i,r))}),Phaser.GameObjects.GameObjectCreator.register("rexBBCodeText",function(t,e){var i=r(t,"text",""),o=r(t,"style",null),a=r(t,"padding",null);null!==a&&(o.padding=a),void 0!==e&&(t.add=e);var h=new s.a(this.scene,0,0,i,o);return n(this.scene,h,t),h.autoRound=r(t,"autoRound",!0),h.resolution=r(t,"resolution",1),h}),e.default=s.a},function(t,e,i){t.exports=i(29).PassThrough},function(t,e,i){t.exports=i(29).Transform},function(t,e,i){t.exports=i(10)},function(t,e,i){t.exports=i(28)},function(t,e,i){"use strict";t.exports=n;var s=i(37),r=i(19);function n(t){if(!(this instanceof n))return new n(t);s.call(this,t)}r.inherits=i(18),r.inherits(n,s),n.prototype._transform=function(t,e,i){i(null,t)}},function(t,e,i){(function(e){function i(t){try{if(!e.localStorage)return!1}catch(t){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var s=!1;return function(){if(!s){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),s=!0}return t.apply(this,arguments)}}}).call(this,i(17))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var s,r,n,o,a,h=1,l={},u=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?s=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){p(t.data)},s=function(t){n.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,s=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):s=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),s=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var r={callback:t,args:e};return l[h]=r,s(h),h++},d.clearImmediate=f}function f(t){delete l[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,s=t.args;switch(s.length){case 0:e();break;case 1:e(s[0]);break;case 2:e(s[0],s[1]);break;case 3:e(s[0],s[1],s[2]);break;default:e.apply(i,s)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(17),i(26))},function(t,e,i){(function(t){var s=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(75),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(17))},function(t,e){},function(t,e,i){"use strict";var s=i(24).Buffer,r=i(77);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},t.prototype.concat=function(t){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var e,i,r,n=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,i=n,r=a,e.copy(i,r),a+=o.data.length,o=o.next;return n},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e){e.read=function(t,e,i,s,r){var n,o,a=8*r-s-1,h=(1<<a)-1,l=h>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,n=f&(1<<-u)-1,f>>=-u,u+=a;u>0;n=256*n+t[e+c],c+=d,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=d,u-=8);if(0===n)n=1-l;else{if(n===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,s),n-=l}return(f?-1:1)*o*Math.pow(2,n-s)},e.write=function(t,e,i,s,r,n){var o,a,h,l=8*n-r-1,u=(1<<l)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=s?0:n-1,p=s?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+c>=1?d/h:d*Math.pow(2,1-c))*h>=2&&(o++,h/=2),o+c>=u?(a=0,o=u):o+c>=1?(a=(e*h-1)*Math.pow(2,r),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[i+f]=255&o,f+=p,o/=256,l-=8);t[i+f-p]|=128*g}},function(t,e,i){"use strict";e.byteLength=function(t){return 3*t.length/4-l(t)},e.toByteArray=function(t){var e,i,s,o,a,h=t.length;o=l(t),a=new n(3*h/4-o),i=o>0?h-4:h;var u=0;for(e=0;e<i;e+=4)s=r[t.charCodeAt(e)]<<18|r[t.charCodeAt(e+1)]<<12|r[t.charCodeAt(e+2)]<<6|r[t.charCodeAt(e+3)],a[u++]=s>>16&255,a[u++]=s>>8&255,a[u++]=255&s;2===o?(s=r[t.charCodeAt(e)]<<2|r[t.charCodeAt(e+1)]>>4,a[u++]=255&s):1===o&&(s=r[t.charCodeAt(e)]<<10|r[t.charCodeAt(e+1)]<<4|r[t.charCodeAt(e+2)]>>2,a[u++]=s>>8&255,a[u++]=255&s);return a},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,n="",o=[],a=0,h=i-r;a<h;a+=16383)o.push(u(t,a,a+16383>h?h:a+16383));1===r?(e=t[i-1],n+=s[e>>2],n+=s[e<<4&63],n+="=="):2===r&&(e=(t[i-2]<<8)+t[i-1],n+=s[e>>10],n+=s[e>>4&63],n+=s[e<<2&63],n+="=");return o.push(n),o.join("")};for(var s=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,h=o.length;a<h;++a)s[a]=o[a],r[o.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function u(t,e,i){for(var r,n,o=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(n=r)>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){t.exports=r;var s=i(30).EventEmitter;function r(){s.call(this)}i(18)(r,s),r.Readable=i(29),r.Writable=i(72),r.Duplex=i(71),r.Transform=i(70),r.PassThrough=i(69),r.Stream=r,r.prototype.pipe=function(t,e){var i=this;function r(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function n(){i.readable&&i.resume&&i.resume()}i.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(i.on("end",a),i.on("close",h));var o=!1;function a(){o||(o=!0,t.end())}function h(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(u(),0===s.listenerCount(this,"error"))throw t}function u(){i.removeListener("data",r),t.removeListener("drain",n),i.removeListener("end",a),i.removeListener("close",h),i.removeListener("error",l),t.removeListener("error",l),i.removeListener("end",u),i.removeListener("close",u),t.removeListener("close",u)}return i.on("error",l),t.on("error",l),i.on("end",u),i.on("close",u),t.on("close",u),t.emit("pipe",i),t}},function(t,e,i){"use strict";i.r(e);var s=i(68),r=i(67),n=i(66),o=i(65),a=i(64),h=i(32);Phaser.Loader.FileTypesManager.register("rexWebFont",h.a);var l=h.a,u=i(31);Phaser.Loader.FileTypesManager.register("rexAwait",u.a);var c=u.a,d=i(54),f=i(34),p=i(53),g=i(52),v=i(50),m=i(56),y=i(21),b=i(51),w=i(59),x=i(47),S=i(22),_=i(44),C=i(27),O=i(61),T=i(45),P=i(46),k=i(48),M=i(49),E=i(36),R=i(20),L=i(35),j=i(60),I=i(12),A=i(43),D=i(58),F=i(55),N=i(57);i.d(e,"BBCodeText",function(){return s.default}),i.d(e,"Canvas",function(){return r.default}),i.d(e,"ContainerLite",function(){return n.default}),i.d(e,"GridTable",function(){return o.default}),i.d(e,"TagText",function(){return a.default}),i.d(e,"WebFontLoader",function(){return l}),i.d(e,"Awaitloader",function(){return c}),i.d(e,"XOR",function(){return d.a}),i.d(e,"LZString",function(){return f.a}),i.d(e,"CSVToArray",function(){return p.a}),i.d(e,"Sequence",function(){return g.a}),i.d(e,"TouchState",function(){return v.a}),i.d(e,"Drag",function(){return m.a}),i.d(e,"DragSpeed",function(){return y.a}),i.d(e,"Slider",function(){return b.a}),i.d(e,"Scroller",function(){return w.a}),i.d(e,"Button",function(){return x.a}),i.d(e,"TouchCursor",function(){return S.a}),i.d(e,"VirtualJoyStick",function(){return _.a}),i.d(e,"Fade",function(){return C.a}),i.d(e,"FadeOutDestroy",function(){return O.a}),i.d(e,"PathFollower",function(){return T.a}),i.d(e,"MoveTo",function(){return P.a}),i.d(e,"TextTyping",function(){return k.a}),i.d(e,"TextPage",function(){return M.a}),i.d(e,"SoundFade",function(){return E.a}),i.d(e,"FSM",function(){return R.a}),i.d(e,"TCRP",function(){return L.a}),i.d(e,"CSVScenario",function(){return j.a}),i.d(e,"Clock",function(){return I.a}),i.d(e,"CSVToHashTable",function(){return A.a}),i.d(e,"Gashapon",function(){return D.a}),i.d(e,"SwirlPipeline",function(){return F.a}),i.d(e,"PixelationPipeline",function(){return N.a})}]).default});