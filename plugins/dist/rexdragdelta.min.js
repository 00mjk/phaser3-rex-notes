!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexdragdelta=t():e.rexdragdelta=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=44)}({1:function(e,t,n){"use strict";const r=Phaser.Scene;t.a=function(e){return e instanceof r?e:e.scene&&e.scene instanceof r?e.scene:e.parent&&e.parent.scene&&e.parent.scene instanceof r?e.parent.scene:void 0}},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45);t.default=r.a},45:function(e,t,n){"use strict";var r=n(6),s=n.n(r),o=n(1);const i=Phaser.Utils.Objects.GetAdvancedValue,c=Phaser.Math.Distance.Power;t.a=class extends s.a{constructor(e,t){super(),this.gameobject=e,this.scene=Object(o.a)(e),this.enable=null,this.resetFromJSON(t),this.boot()}resetFromJSON(e){return this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.dx=void 0,this.dy=void 0,this.setEnable(i(e,"enable",!0)),this}boot(){this.gameobject.on&&(this.gameobject.on("pointerdown",this.onDragStart,this),this.gameobject.on("pointermove",this.onDragging,this),this.gameobject.on("pointerup",this.onDragEnd,this),this.gameobject.on("destroy",this.destroy,this))}shutdown(){this.removeAllListeners(),this.gameobject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(e){return null===this.enable&&this.gameobject.setInteractive(),this.enable=!!e,this.enable||this.onDragEnd(),this}onDragStart(e){this.enable&&(this.preX=e.x,this.preY=e.y)}onDragging(e){if(void 0!==this.preX){var t=e.x,n=e.y;this.x=t,this.y=n,this.dx=t-this.preX,this.dy=n-this.preY,this.emit("dragdelta",this),this.preX=t,this.preY=n}}onDragEnd(){this.preX=void 0,this.preY=void 0}get dt(){return this.scene.sys.game.loop.delta}get speed(){return c(this.x,this.preX,this.y,this.preY)/(.001*this.dt)}}},6:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,s="~";function o(){}function i(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,r||e,o),c=s?s+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],i]:e._events[c].push(i):(e._events[c]=i,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(s=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=s?s+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},a.prototype.listenerCount=function(e){var t=s?s+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,o,i){var c=s?s+e:e;if(!this._events[c])return!1;var a,h,u=this._events[c],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,i),!0}for(h=1,a=new Array(f-1);h<f;h++)a[h-1]=arguments[h];u.fn.apply(u.context,a)}else{var p,l=u.length;for(h=0;h<l;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),f){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,n);break;case 4:u[h].fn.call(u[h].context,t,n,r);break;default:if(!a)for(p=1,a=new Array(f-1);p<f;p++)a[p-1]=arguments[p];u[h].fn.apply(u[h].context,a)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||c(this,o);else{for(var a=0,h=[],u=i.length;a<u;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&h.push(i[a]);h.length?this._events[o]=1===h.length?h[0]:h:c(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&c(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,e.exports=a}}).default});