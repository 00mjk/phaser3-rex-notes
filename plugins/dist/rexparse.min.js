!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexparse=t():e.rexparse=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=346)}({0:function(e,t){e.exports=function(e,t,n){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var r=t.split("."),i=e,a=n,o=0;o<r.length;o++){if(!i.hasOwnProperty(r[o])){a=n;break}a=i[r[o]],i=i[r[o]]}return a}return n}return n}},126:function(e,t,n){"use strict";var r=n(37);t.a=function(e){return new Promise(function(t,n){Object(r.a)(e,t)})}},16:function(e,t,n){"use strict";t.a=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},173:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"register",value:function(t,n){e.prototype[t]=n}}],(n=[{key:"initializeApp",value:function(e){return firebase.initializeApp(e),this}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=i},184:function(e,t,n){"use strict";var r=n(0),i=n.n(r);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function e(t,n,r,i){var o=Math.min(n,1e3);return n-=o,t.skip(r).limit(o).find().then(function(s){if(i.push.apply(i,a(s)),0===n||s.length<o)return Promise.resolve(i);var u=r+s.length;return e(t,n,u,i)})},s=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1/0),o(e,n,t,[])};function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.startIndex=0,this.pageIndex=0,this.isLastPage=!1,this.setItemCount(i()(t,"lines",10))}var t,n,r;return t=e,(n=[{key:"setItemCount",value:function(e){return this.itemCount=e,this}},{key:"loadLines",value:function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1/0),this.items.length=0;var r=this;return s(e,t,n).then(function(e){return r.items=e,r.startIndex=t,r.pageIndex=Math.floor(t/r.itemCount),r.isLastPage=n===1/0||n>e.length,Promise.resolve(e)}).catch(function(e){return r.isLastPage=!1,Promise.reject(e)})}},{key:"loadPage",value:function(e,t){var n=t*this.itemCount;return this.loadLines(e,n,this.itemCount)}},{key:"loadCurrentPage",value:function(e){return this.loadLines(e,this.startIndex,this.itemCount)}},{key:"loadNextPage",value:function(e){var t=this.startIndex+this.itemCount;return this.loadLines(e,t,this.itemCount)}},{key:"loadPreviousPage",value:function(e){var t=this.startIndex-this.itemCount;return this.loadLines(e,t,this.itemCount)}},{key:"getItem",value:function(e){return this.items[e-this.startIndex]}},{key:"findFirst",value:function(e,t,n){void 0===n&&(n=0);for(var r,i=this.items.length;r<i;r++)if(this.items[r].get(e)===t)return r+this.startIndex;return-1}}])&&u(t.prototype,n),r&&u(t,r),e}(),l=n(24),f=n(16),h=function(e,t){var n;if(e instanceof t)n=e;else for(var r in n=new t,e)n.set(r,e[r]);return n},d=function(e,t,n){if(!t&&!n)return e;var r=Parse.User.current();if(!r)return e;var i=new Parse.ACL(r);return n||i.setPublicWriteAccess(!0),t||i.setPublicReadAccess(!0),e.setACL(i),e},v=function(e){for(var t,n,r=this.createQuery().select("id"),i=e instanceof this.customClass,a=0,o=this.primaryKeys.length;a<o;a++)t=this.primaryKeys[a],n=i?e.get(t):e[t],r.equalTo(t,n);return r},y=function(e){var t=h(e,this.customClass);return d(t,this.ownerRead,this.ownerWrite),t.save()},p=function(e){if(Object(f.a)(e))return this.saveItems(e);if(this.primaryKeys.length>0){var t=this;return v.call(this,e).first().then(function(n){if(n){var r=n.id;e instanceof t.customClass?e.set("id",r):e.id=r}return y.call(t,e)})}return y.call(this,e)},m=function(e){if(this.primaryKeys.length>0){for(var t=[],n=0,r=e.length;n<r;n++)t.push(this.save(e[n]));return Promise.all(t)}var i,a=[];for(n=0,r=e.length;n<r;n++)i=h(e[n],this.customClass),d(i,this.ownerRead,this.ownerWrite),a.push(i);return Parse.Object.saveAll(a)},g=function(e){return e.select("id"),s(e).then(function(e){return 0===e.length?Promise.resolve():Parse.Object.destroyAll(e)})},b=n(31),P=n.n(b),w=function(e,t){"number"==typeof e&&(t=e,e=void 0),void 0===e&&(e=this.createQuery()),void 0===t&&(t=1),e.select("id");var n=this;return this.loadAll(e).then(function(r){P()(r),t=Math.min(t,r.length);for(var i=[],a=0;a<t;a++)i.push(r[a].id);return e=n.createQuery().containedIn("objectId",i),n.loadAll(e)})},k=function(e){return void 0===e&&(e=this.createQuery()),e.count()};function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setClassName(i()(t,"className","Item")),this.primaryKeys=[];var n=i()(t,"primaryKeys",void 0);n&&this.setPrimaryKey(n),this.setOwnerReadMode(i()(t,"ownerRead",void 0)),this.setOwnerWriteMode(i()(t,"ownerWrite",void 0)),this.pageLoader=new c({lines:i()(t,"lines",10)})}var t,n,r;return t=e,(n=[{key:"setClassName",value:function(e){return this.customClass=Parse.Object.extend(e),this}},{key:"setPrimaryKey",value:function(e){return e?"string"==typeof e?(this.primaryKeys.length=1,this.primaryKeys[0]=e):Object(l.a)(this.primaryKeys,e):this.primaryKeys.length=0,this}},{key:"setOwnerReadMode",value:function(e){return this.ownerRead=e,this}},{key:"setOwnerWriteMode",value:function(e){return this.ownerWrite=e,this}},{key:"createItem",value:function(){return new this.customClass}},{key:"createQuery",value:function(){return new Parse.Query(this.customClass)}},{key:"loadItem",value:function(e){return this.createQuery().get(e)}},{key:"loadPage",value:function(e,t){return this.pageLoader.loadPage(e,t)}},{key:"loadCurrentPage",value:function(e){return this.pageLoader.loadCurrentPage(e)}},{key:"loadNextPage",value:function(e){return this.pageLoader.loadNextPage(e)}},{key:"loadPreviousPage",value:function(e){return this.pageLoader.loadPreviousPage(e)}},{key:"loadLines",value:function(e,t,n){return this.pageLoader.loadLines(e,t,n)}},{key:"loadAll",value:function(e){return void 0===e&&(e=this.createQuery()),this.pageLoader.loadLines(e)}},{key:"removeItem",value:function(e){return this.createItem().set("id",e).destroy()}},{key:"startIndex",get:function(){return this.pageLoader.startIndex}},{key:"pageIndex",get:function(){return this.pageLoader.pageIndex}},{key:"isLastPage",get:function(){return this.pageLoader.isLastPage}}])&&j(t.prototype,n),r&&j(t,r),e}(),O={save:p,saveItems:m,remove:g,loadRandomItems:w,getItemCount:k};Object.assign(x.prototype,O);t.a=x},24:function(e,t,n){"use strict";t.a=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length),e.length=r-n;for(var i=0,a=e.length;i<a;i++)e[i]=t[i+n];return e}},255:function(e,t,n){"use strict";var r=n(126),i="https://cdnjs.cloudflare.com/ajax/libs/parse/".concat("2.9.1","/parse.min.js");t.a=function(e){return void 0===e&&(e=i),Object(r.a)(e)}},257:function(e,t,n){"use strict";var r=function(e,t){var n=new Parse.User;return n.set("username",e).set("password",t),n.signUp().then(function(){return Parse.User.logIn(e,t)})};t.a=function(e,t){return Parse.User.logOut().then(function(){return Parse.User.logIn(e,t)}).catch(function(){return r(e,t)})}},31:function(e,t){e.exports=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}},346:function(e,t,n){"use strict";n.r(t);var r=n(173),i=n(255),a=(n(184),n(257));function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=new r.a}var t,n,a;return t=e,(n=[{key:"preload",value:function(e){return Object(i.a)(e)}}])&&o(t.prototype,n),a&&o(t,a),e}(),u={quickLogin:a.a};Object.assign(s.prototype,u),t.default=s},37:function(e,t,n){"use strict";t.a=function(e,t){for(var n=document.getElementsByTagName("script"),r=0,i=n.length;r<i;r++)if(-1!=n[r].src.indexOf(e))return void(t&&t());var a=document.createElement("script");a.setAttribute("src",e),t&&(a.onload=t),document.head.appendChild(a)}}}).default});