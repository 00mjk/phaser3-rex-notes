!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var s in r)("object"==typeof exports?exports:e)[s]=r[s]}}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=66)}({0:function(e,t,r){"use strict";const s=Phaser.Scene;t.a=function(e){return e instanceof s?e:e.scene&&e.scene instanceof s?e.scene:e.parent&&e.parent.scene&&e.parent.scene instanceof s?e.parent.scene:void 0}},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(67);t.default=s.a},67:function(e,t,r){"use strict";var s=r(0);const a=Phaser.Utils.Objects.GetFastValue,i=Phaser.Utils.Objects.GetValue,o=Phaser.Utils.Objects.GetAdvancedValue,n=Phaser.Math.Clamp;var d=function(e){return Array.isArray(e)?e=e.join("\n"):"number"==typeof e&&(e=e.toString()),e};t.a=class{constructor(e,t){this.gameobject=e,this.scene=Object(s.a)(e),this.wordWrap={},this.resetFromJSON(t),this.boot()}resetFromJSON(e){return this.setWordWrapProperties(a(e,"wordWrap",null)),this.setText(a(e,"text","")),this.setStartIdx(a(e,"start",0)),this.setPageIdx(a(e,"page",-1)),this}toJSON(){return{wordWrap:{width:this.wordWrapWidth,callback:this.wordWrapCallback,callbackScope:this.wordWrapCallbackScope,useAdvancedWrap:this.wordWrapUseAdvanced},text:this.text,start:this.startIdx,page:this.pageIdx,pageLineNum:this.pageLineNum,pageNum:this.pageNum}}boot(){this.gameobject.on&&this.gameobject.on("destroy",this.destroy,this)}shutdown(){this.text="",this.lines.length=0,this.gameobject=void 0,this.scene=void 0}destroy(){this.shutdown()}get isFirstPage(){return this.pageIdx<=0}get isLastPage(){return this.pageIdx>=this.pageNum-1}setText(e,t){return void 0===t&&(t=!0),this.text=d(e),this.lines=this.getWrappedText(this.text),this.pageLineNum=this.getPageLineNum(),this.pageNum=Math.ceil(this.lines.length/this.pageLineNum),t&&this.resetPageIdx(),this}appendText(e){return this.setText(this.text.concat(d(e))),this}getPage(e){return void 0===e&&(e=this.pageIdx),this.setPageIdx(e).getLines()}getNextPage(){return this.getPage(this.pageIdx+1)}getPreviousPage(){return this.getPage(this.pageIdx-1)}showPage(e){return this.gameobject.setText(this.getPage()),this}showNextPage(){return this.gameobject.setText(this.getNextPage()),this}showPreviousPage(){return this.gameobject.setText(this.getPreviousPage()),this}show(){return this.gameobject.setText(this.getLines()),this}showNextLine(){return this.gameobject.setText(this.setStartIdx(this.startIdx+1).getLines()),this}showPreviousLine(){return this.gameobject.setText(this.setStartIdx(this.startIdx-1).getLines()),this}setWordWrapWidth(e){this.wordWrapWidth=e}setWordWrapCallback(e,t){this.wordWrapCallback=e,this.wordWrapCallbackScope=t}setWordWrapUseAdvanced(e){this.wordWrapUseAdvanced=e}getWrappedText(e){this.setTextWrapProperties();var t=this.gameobject.getWrappedText(e);return this.cleanTextWrapProperties(),t}setWordWrapProperties(e){var t=this.wordWrap;if(null==e){var r=this.gameobject.style;t.wordWrapWidth=r.wordWrapWidth,t.wordWrapCallback=r.wordWrapCallback,t.wordWrapCallbackScope=r.wordWrapCallbackScope,t.wordWrapUseAdvanced=r.wordWrapUseAdvanced}else t.wordWrapWidth=o(e,"wordWrap.width",null),t.wordWrapCallback=i(e,"wordWrap.callback",null),t.wordWrapCallbackScope=i(e,"wordWrap.callbackScope",null),t.wordWrapUseAdvanced=o(e,"wordWrap.useAdvancedWrap",!1);this.cleanTextWrapProperties()}setTextWrapProperties(){var e=this.gameobject.style,t=this.wordWrap;e.wordWrapWidth=t.wordWrapWidth,e.wordWrapCallback=t.wordWrapCallback,e.wordWrapCallbackScope=t.wordWrapCallbackScope,e.wordWrapUseAdvanced=t.wordWrapUseAdvanced}cleanTextWrapProperties(){var e=this.gameobject.style;e.wordWrapWidth=null,e.wordWrapCallback=null,e.wordWrapCallbackScope=null,e.wordWrapUseAdvanced=!1}setStartIdx(e){return e=n(e,0,this.lines.length-1),this.startIdx=e,this}resetPageIdx(){this.pageIdx=-1}setPageIdx(e){return e=n(e,0,this.pageNum-1),this.pageIdx=e,this.setStartIdx(this.pageIdx*this.pageLineNum),this}getPageLineNum(){var e=this.gameobject.style.maxLines;return e<=0?this.lines.length:e}getLines(e){return void 0===e&&(e=this.startIdx),this.lines.slice(e,e+this.pageLineNum)}}}})});