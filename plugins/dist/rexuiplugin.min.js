!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexuiplugin=e():t.rexuiplugin=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=218)}({10:function(t,e,i){"use strict";var s=class{constructor(){this.items=[]}pop(){return this.items.length>0?this.items.pop():null}push(t){this.items.push(t)}pushMultiple(t){for(var e=0,i=t.length;e<i;e++)this.items.push(t[e]);t.length=0}};e.a=s},107:function(t,e,i){"use strict";var s=i(53),r={};e.a=function(t,e){r.mode=1,r.end=0,r.duration=e;var i=new s.a(t,r);return i.start(),i}},108:function(t,e){t.exports=function(t,e){var i=e.strokeColor,s=e.strokeAlpha,r=(16711680&i)>>>16,n=(65280&i)>>>8,h=255&i;t.strokeStyle="rgba("+r+","+n+","+h+","+s+")",t.lineWidth=e.lineWidth}},109:function(t,e){t.exports=function(t,e,i){var s=i||e.fillColor,r=e.fillAlpha,n=(16711680&s)>>>16,h=(65280&s)>>>8,a=255&s;t.fillStyle="rgba("+n+","+h+","+a+","+r+")"}},11:function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},110:function(t,e){const i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,s,r,n){var h=t.strokeTint,a=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*s);h.TL=a,h.TR=a,h.BL=a,h.BR=a;var o=e.pathData,l=o.length-1,d=e.lineWidth,u=d/2,c=o[0]-r,p=o[1]-n;e.closePath||(l-=2);for(var g=2;g<l;g+=2){var v=o[g]-r,x=o[g+1]-n;t.setTexture2D(),t.batchLine(c,p,v,x,u,u,d,g-2,!!e.closePath&&g===l-1),c=v,p=x}}},111:function(t,e){const i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,s,r,n,h){for(var a=i.getTintAppendFloatAlphaAndSwap(s.fillColor,s.fillAlpha*r),o=s.pathData,l=s.pathIndexes,d=0;d<l.length;d+=3){var u=2*l[d],c=2*l[d+1],p=2*l[d+2],g=o[u+0]-n,v=o[u+1]-h,x=o[c+0]-n,b=o[c+1]-h,f=o[p+0]-n,m=o[p+1]-h,y=e.getX(g,v),C=e.getY(g,v),w=e.getX(x,b),O=e.getY(x,b),S=e.getX(f,m),P=e.getY(f,m);t.setTexture2D(),t.batchTri(y,C,w,O,S,P,0,0,1,1,a,a,a,t.tintEffect)}}},112:function(t,e,i){"use strict";function s(t,e,i){i=i||2;var s,a,o,l,d,p,v,x=e&&e.length,b=x?e[0]*i:t.length,f=r(t,0,b,i,!0),m=[];if(!f||f.next===f.prev)return m;if(x&&(f=function(t,e,i,s){var h,a,o,l,d,p=[];for(h=0,a=e.length;h<a;h++)o=e[h]*s,l=h<a-1?e[h+1]*s:t.length,(d=r(t,o,l,s,!1))===d.next&&(d.steiner=!0),p.push(g(d));for(p.sort(u),h=0;h<p.length;h++)c(p[h],i),i=n(i,i.next);return i}(t,e,f,i)),t.length>80*i){s=o=t[0],a=l=t[1];for(var y=i;y<b;y+=i)d=t[y],p=t[y+1],d<s&&(s=d),p<a&&(a=p),d>o&&(o=d),p>l&&(l=p);v=0!==(v=Math.max(o-s,l-a))?1/v:0}return h(f,m,i,s,a,v),m}function r(t,e,i,s,r){var n,h;if(r===P(t,e,i,s)>0)for(n=e;n<i;n+=s)h=w(n,t[n],t[n+1],h);else for(n=i-s;n>=e;n-=s)h=w(n,t[n],t[n+1],h);return h&&f(h,h.next)&&(O(h),h=h.next),h}function n(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!f(s,s.next)&&0!==b(s.prev,s,s.next))s=s.next;else{if(O(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function h(t,e,i,s,r,u,c){if(t){!c&&u&&function(t,e,i,s){var r=t;do{null===r.z&&(r.z=p(r.x,r.y,e,i,s)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,s,r,n,h,a,o,l=1;do{for(i=t,t=null,n=null,h=0;i;){for(h++,s=i,a=0,e=0;e<l&&(a++,s=s.nextZ);e++);for(o=l;a>0||o>0&&s;)0!==a&&(0===o||!s||i.z<=s.z)?(r=i,i=i.nextZ,a--):(r=s,s=s.nextZ,o--),n?n.nextZ=r:t=r,r.prevZ=n,n=r;i=s}n.nextZ=null,l*=2}while(h>1)}(r)}(t,s,r,u);for(var g,v,x=t;t.prev!==t.next;)if(g=t.prev,v=t.next,u?o(t,s,r,u):a(t))e.push(g.i/i),e.push(t.i/i),e.push(v.i/i),O(t),t=v.next,x=v.next;else if((t=v)===x){c?1===c?h(t=l(t,e,i),e,i,s,r,u,2):2===c&&d(t,e,i,s,r,u):h(n(t),e,i,s,r,u,1);break}}}function a(t){var e=t.prev,i=t,s=t.next;if(b(e,i,s)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(v(e.x,e.y,i.x,i.y,s.x,s.y,r.x,r.y)&&b(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function o(t,e,i,s){var r=t.prev,n=t,h=t.next;if(b(r,n,h)>=0)return!1;for(var a=r.x<n.x?r.x<h.x?r.x:h.x:n.x<h.x?n.x:h.x,o=r.y<n.y?r.y<h.y?r.y:h.y:n.y<h.y?n.y:h.y,l=r.x>n.x?r.x>h.x?r.x:h.x:n.x>h.x?n.x:h.x,d=r.y>n.y?r.y>h.y?r.y:h.y:n.y>h.y?n.y:h.y,u=p(a,o,e,i,s),c=p(l,d,e,i,s),g=t.prevZ,x=t.nextZ;g&&g.z>=u&&x&&x.z<=c;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,g.x,g.y)&&b(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,x!==t.prev&&x!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,x.x,x.y)&&b(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;g&&g.z>=u;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,g.x,g.y)&&b(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=c;){if(x!==t.prev&&x!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,x.x,x.y)&&b(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function l(t,e,i){var s=t;do{var r=s.prev,n=s.next.next;!f(r,n)&&m(r,s,s.next,n)&&y(r,n)&&y(n,r)&&(e.push(r.i/i),e.push(s.i/i),e.push(n.i/i),O(s),O(s.next),s=t=n),s=s.next}while(s!==t);return s}function d(t,e,i,s,r,a){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&x(o,l)){var d=C(o,l);return o=n(o,o.next),d=n(d,d.next),h(o,e,i,s,r,a),void h(d,e,i,s,r,a)}l=l.next}o=o.next}while(o!==t)}function u(t,e){return t.x-e.x}function c(t,e){if(e=function(t,e){var i,s=e,r=t.x,n=t.y,h=-1/0;do{if(n<=s.y&&n>=s.next.y&&s.next.y!==s.y){var a=s.x+(n-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(a<=r&&a>h){if(h=a,a===r){if(n===s.y)return s;if(n===s.next.y)return s.next}i=s.x<s.next.x?s:s.next}}s=s.next}while(s!==e);if(!i)return null;if(r===h)return i.prev;var o,l=i,d=i.x,u=i.y,c=1/0;s=i.next;for(;s!==l;)r>=s.x&&s.x>=d&&r!==s.x&&v(n<u?r:h,n,d,u,n<u?h:r,n,s.x,s.y)&&((o=Math.abs(n-s.y)/(r-s.x))<c||o===c&&s.x>i.x)&&y(s,t)&&(i=s,c=o),s=s.next;return i}(t,e)){var i=C(e,t);n(i,i.next)}}function p(t,e,i,s,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function v(t,e,i,s,r,n,h,a){return(r-h)*(e-a)-(t-h)*(n-a)>=0&&(t-h)*(s-a)-(i-h)*(e-a)>=0&&(i-h)*(n-a)-(r-h)*(s-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&m(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&y(t,e)&&y(e,t)&&function(t,e){var i=t,s=!1,r=(t.x+e.x)/2,n=(t.y+e.y)/2;do{i.y>n!=i.next.y>n&&i.next.y!==i.y&&r<(i.next.x-i.x)*(n-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)}function b(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function f(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,i,s){return!!(f(t,e)&&f(i,s)||f(t,s)&&f(i,e))||b(t,e,i)>0!=b(t,e,s)>0&&b(i,s,t)>0!=b(i,s,e)>0}function y(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function C(t,e){var i=new S(t.i,t.x,t.y),s=new S(e.i,e.x,e.y),r=t.next,n=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,s.next=i,i.prev=s,n.next=s,s.prev=n,s}function w(t,e,i,s){var r=new S(t,e,i);return s?(r.next=s.next,r.prev=s,s.next.prev=r,s.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,i,s){for(var r=0,n=e,h=i-s;n<i;n+=s)r+=(t[h]-t[n])*(t[n+1]+t[h+1]),h=n;return r}t.exports=s,s.deviation=function(t,e,i,s){var r=e&&e.length,n=r?e[0]*i:t.length,h=Math.abs(P(t,0,n,i));if(r)for(var a=0,o=e.length;a<o;a++){var l=e[a]*i,d=a<o-1?e[a+1]*i:t.length;h-=Math.abs(P(t,l,d,i))}var u=0;for(a=0;a<s.length;a+=3){var c=s[a]*i,p=s[a+1]*i,g=s[a+2]*i;u+=Math.abs((t[c]-t[g])*(t[p+1]-t[c+1])-(t[c]-t[p])*(t[g+1]-t[c+1]))}return 0===h&&0===u?0:Math.abs((u-h)/h)},s.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,r=0;r<t.length;r++){for(var n=0;n<t[r].length;n++)for(var h=0;h<e;h++)i.vertices.push(t[r][n][h]);r>0&&(s+=t[r-1].length,i.holes.push(s))}return i}},116:function(t,e,i){"use strict";const s=Phaser.GameObjects.Text;e.a=function(t){return t instanceof s}},123:function(t,e,i){"use strict";var s=i(3);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetFastValue,h=Phaser.Utils.Objects.GetValue;var a=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t};const o={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};var l=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this.timer=null,this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setTypeMode(h(t,"typeMode",0)),this.setTypeSpeed(h(t,"speed",333)),this.setTextCallback=n(t,"setTextCallback",null),this.setTextCallbackScope=n(t,"setTextCallbackScope",null),this.typingIdx=n(t,"typingIdx",0),this.text=a(n(t,"text","")),this.textLen=n(t,"textLen",0),this.insertIdx=n(t,"insertIdx",null);var e=n(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}toJSON(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}boot(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return super.shutdown(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setTypeMode(t){return"string"==typeof t&&(t=o[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}get isTyping(){return null!==this.getTimer()}get isLastChar(){return this.typingIdx===this.textLen}start(t,e,i,s){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(s),this}appendText(t){var e=this.text.concat(a(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}stop(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=a(t),this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,e,i,s){var r;if(0===s){var n=0,h=e;this.insertIdx=h,r=this.getSubString(t,n,h)}else if(1===s)n=(h=i)-e,this.insertIdx=0,r=this.getSubString(t,n,h);else if(2===s){var a=i/2;h=(n=Math.floor(a-e/2))+e,this.insertIdx=e%2?e:0,r=this.getSubString(t,n,h)}else if(3===s){var o,l=Math.floor(e/2);l>0?(n=(h=i)-l,o=this.getSubString(t,n,h)):o="";var d,u=e-l;u>0?(h=(n=0)+u,this.insertIdx=h,d=this.getSubString(t,n,h)):(d="",this.insertIdx=0),r=d+o}return r}startTimer(t){var e;return this.timer&&this.freeTimer(),void 0===t?e=0:(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}getTextLength(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}getSubString(t,e,i){var s=this.gameObject;return s.getSubString?s.getSubString(t,e,i):t.slice(e,i)}};e.a=l},124:function(t,e,i){"use strict";var s=i(3),r=i(116);const n=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Clamp;var a=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},o=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setText(n(t,"text","")),this.setWrapMode(n(t,"wrap",!0)),this.setStartIdx(n(t,"start",0)),this.setPageIdx(n(t,"page",-1)),this}toJSON(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.text="",0===this.textObjectType?this.lines.length=0:this.lines.destroy(),this.gameObject=void 0,this.scene=void 0,this}destroy(){this.shutdown()}setTextObjectType(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}setText(t,e){return void 0===e&&(e=!0),this.text=a(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLineCount/this.pageLineCount),e&&this.resetPageIdx(),this}setWrapMode(t){return void 0===t&&(t=!0),this.wrapMode=t,this}appendText(t){return this.setText(this.text.concat(a(t))),this}getPage(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}getNextPage(){return this.getPage(this.pageIndex+1)}getPreviousPage(){return this.getPage(this.pageIndex-1)}showPage(t){return this.displayText(this.getPage()),this}showNextPage(){return this.displayText(this.getNextPage()),this}showPreviousPage(){return this.displayText(this.getPreviousPage()),this}show(){return this.displayText(this.getLines()),this}showNextLine(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}showPreviousLine(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}setStartIdx(t){return t=h(t,0,this.totalLineCount-1),this.startLineIdx=t,this}resetPageIdx(){this.pageIndex=-1}setPageIdx(t){return t=h(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLineCount),this}get totalLineCount(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}get pageLineCount(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLineCount}getLines(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLineCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var s=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(s,r,this.wrapMode)}return e}displayText(t){this.gameObject.setText(t)}};e.a=o},125:function(t,e,i){"use strict";var s=i(3),r=i(41);var n=class extends r.a{constructor(t,e){super(e),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t;return this.parent.dragState.isDown&&(t="DRAG"),t}update_IDLE(t,e){this.next()}next_DRAG(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}update_DRAG(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}next_SLIDE(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,e){this.parent.sliding(t,e),this.next()}next_BACK(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,e){this.parent.pullBack(t,e),this.next()}},h=i(79);const a=Phaser.Utils.Objects.GetValue;var o=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(a(t,"value",0)),this.setSpeed(a(t,"speed",0)),this.setAcceleration(a(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};var l=class{constructor(){this.value,this.dir,this.movement=new o}init(t,e,i,s,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-s),this}stop(){this.movement.reset()}update(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};const d=Phaser.Events.EventEmitter,u=Phaser.Utils.Objects.GetValue;const c={horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var p=class extends d{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t);var i=u(e,"enable",!0),r={enable:i};this._state=new n(this,r);var a={inputConfig:u(e,"inputConfig",void 0),enable:i};this.dragState=new h.a(t,a),this._value=void 0,this._slowDown=new l;var o=u(e,"valuechangeCallback",null);if(null!==o){var d=u(e,"valuechangeCallbackScope",void 0);this.on("valuechange",o,d)}null!==(o=u(e,"overmaxCallback",null))&&(d=u(e,"overmaxCallbackScope",void 0),this.on("overmax",o,d)),null!==(o=u(e,"overminCallback",null))&&(d=u(e,"overminCallbackScope",void 0),this.on("overmin",o,d)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setAxisMode(u(t,"axis",2)),this.setSlidingDeceleration(u(t,"slidingDeceleration",5e3)),this.setBackDeceleration(u(t,"backDeceleration",2e3));var e=u(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(u(t,"max",0),u(t,"min",0)),this.setValue(u(t,"value",this.maxValue||0)),this.setEnable(u(t,"enable",!0)),this}boot(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}destroy(){this.shutdown()}setAxisMode(t){return"string"==typeof t&&(t=c[t]),this.axisMode=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setBounds(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}get value(){return this._value}set value(t){var e=this._value,i=this.overMax(t),s=this.overMin(t);i&&this.emit("overmax",t,e),s&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),s&&(t=this.minValue)),t!==this._value&&(this._value=t,this.emit("valuechange",t,e))}setValue(t){this.value=t}setEnable(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return null!=this.maxValue&&t>this.maxValue}overMin(t){return null!=this.minValue&&t<this.minValue}get backEnable(){return"number"==typeof this.backDeceleration}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return"number"==typeof this.slidingDeceleration}get isSliding(){return this._slowDown.isMoving}get dragDelta(){return 2===this.axisMode?this.dragState.dy:1===this.axisMode?this.dragState.dx:0}get dragSpeed(){return 2===this.axisMode?this.dragState.speedY:1===this.axisMode?this.dragState.speedX:0}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}sliding(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}onPullBack(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),s=this.backDeceleration,r=Math.sqrt(2*s*i);this._slowDown.init(t,void 0,r,s,e)}pullBack(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}};e.a=p},126:function(t,e,i){"use strict";var s=i(42),r={};e.a=function(t,e,i,n){switch(r.mode=0,i){case"x":r.start={x:0};break;case"y":r.start={y:0};break;default:r.start=0}r.end=1,r.duration=e,r.ease=void 0===n?"Cubic":n;var h=new s.a(t,r);return h.start(),h}},127:function(t,e,i){"use strict";var s=i(42),r={};e.a=function(t,e,i,n){switch(r.mode=1,i){case"x":r.end={x:0};break;case"y":r.end={y:0};break;default:r.end=0}r.duration=e,r.ease=void 0===n?"Linear":n;var h=new s.a(t,r);return h.start(),h}},13:function(t,e,i){"use strict";var s=i(8),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:s.a,events:{once:s.a}}},0,0,1,1);r.setOrigin(0),e.a=r},131:function(t,e,i){"use strict";var s=i(3);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue;const h={press:0,pointerdown:0,release:1,pointerup:1};e.a=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(n(t,"enable",!0)),this.setMode(n(t,"mode",1)),this.setClickInterval(n(t,"clickInterval",100)),this}boot(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){super.shutdown(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}setMode(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}onPress(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime))}onRelease(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime),this.pointer=void 0)}onPointOut(t){this.pointer===t&&(this.pointer=void 0)}click(t){if(void 0===t)return this.emit("click",this,this.gameObject),this;this.pointer=void 0;var e=this.lastClickTime;return void 0!==e&&t-e<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject),this)}}},132:function(t,e,i){"use strict";var s=function(t,e){if(!e.isDown)return!1;for(var i=t.scene,s=i.input.cameras.getCamerasBelowPointer(e),r=i.input.manager,n=[t],h=0,a=s.length;h<a;h++)if(r.hitTest(e,n,s[h]).length>0)return!0;return!1};e.a=function(t,e,i,r){var n=!1;if(!e){for(var h=t.scene.input.manager,a=h.pointersTotal,o=h.pointers,l=0;l<a&&(e=o[l],(n=s(t,e))&&i&&(n=r?i.call(r,e):i(e)),!n);l++);return!1}return(n=s(t,e))&&i&&(n=r?i.call(r,e):i(e)),n}},178:function(t,e,i){"use strict";const s=Phaser.Geom.Rectangle;var r=function(t,e){void 0===e&&(e=new s);var i=t.canvasBounds,r=t.displayScale,n=t.autoCenter;return e.x=i.x>=0?0:-i.x*r.x,e.y=i.y>=0?0:-i.y*r.y,e.width=i.width*r.x-e.x,e.height=i.height*r.y-e.y,1!==n&&2!==n||(e.width-=e.x),1!==n&&3!==n||(e.height-=e.y),e};const n=Phaser.Utils.Objects.GetValue,h=Phaser.Geom.Rectangle;e.a=class{constructor(t,e){this.gameObject=t,this.viewport=new h,this.resetFromJSON(e),this.boot()}resetFromJSON(t){var e,i;if("string"==typeof t){var s=t.split(",");e=s[0],i=s[1]}else e=n(t,"x","0%+0"),i=n(t,"y","0%+0");e=e.replace("left","0%").replace("right","100%").replace("center","50%").split("%");var r=parseFloat(e[0])/100,h=""===e[1]?0:parseFloat(e[1]);i=i.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%");var a=parseFloat(i[0])/100,o=""===i[1]?0:parseFloat(i[1]);return this.setPercentage(r,a),this.setOffset(h,o),this}boot(){var t=this.gameObject;this.scaleManamger.on("resize",this.onResize,this),t.on("destroy",this.destroy,this),this.onResize()}shutdown(){this.scaleManamger.off("resize",this.onResize,this),this.gameObject=void 0}destroy(){this.shutdown()}setOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.offsetX=t,this.offsetY=e,this}setPercentage(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.percentageX=t,this.percentageY=e,this}onResize(){r(this.scaleManamger,this.viewport),this.updatePosition()}updatePosition(){return this.gameObject.setPosition(this.x,this.y),this}get scaleManamger(){return this.gameObject.scene.scale}get x(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get y(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}},218:function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.scene=t}static register(t,e){s.prototype[t]=e}}var r=s,n=i(57).a,h=i(4);r.register("roundRectangle",function(t,e,i,s,r,h,a){var o=new n(this.scene,t,e,i,s,r,h,a);return this.scene.sys.displayList.add(o),o}),Object(h.a)(window,"RexPlugins.UI.RoundRectangle",n);var a=i(24).a;r.register("container",function(t,e,i,s,r){var n=new a(this.scene,t,e,i,s,r);return this.scene.sys.displayList.add(n),n}),Object(h.a)(window,"RexPlugins.UI.Container",a);var o=i(178),l=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},d=i(71),u=function(t){return void 0===t&&(t=Object(d.a)(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},c=function(t,e){void 0===e&&(e=16777215);for(var i,s=this.getAllChildren([this]),r=0,n=s.length;r<n;r++)(i=s[r]).getBounds&&t.lineStyle(1,e).strokeRectShape(i.getBounds());return this},p=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},g=function(t,e){var i;for(var s in void 0===e&&(e=[]),t)void 0!==(i=t[s]).name?e.push(i):g(i,e);return e};const v=/(\S+)\[(\d+)\]/i;var x=[],b=function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var s=0,r=(n=g(this.childrenMap,x)).length;s<r;s++)if(n[s].name===i){e=n[s];break}x.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var n,h=i.match(v);null!=h&&(n=this.childrenMap[h[1]])&&(e=n[h[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},f=function(){return 0},m=function(){return 0},y=function(t){void 0===t&&(t=[]);for(var e=t.length,i=this.getChildrenSizers(t),s=t.length,r=e;r<s;r++)i[r].getAllChildrenSizers(t);return t},C=function(t){return void 0===t&&(t=[]),t},w=function(t,e,i){},O=function(t){if(!t)for(var e,i=this.getAllChildrenSizers([this]),s=0,r=i.length;s<r;s++)(e=i[s]).rexSizer&&e._layoutInit()},S=function(){},P=i(126);const M=Phaser.Utils.Objects.IsPlainObject,T=Phaser.Utils.Objects.GetValue;var k=i(127);const I=Phaser.Utils.Objects.IsPlainObject,_=Phaser.Utils.Objects.GetValue;var j=i(53),E={},z=function(t,e,i){void 0===i&&(i=t.alpha),E.mode=0,E.start=0,E.end=i,E.duration=e;var s=new j.a(t,E);return s.start(),s};const R=Phaser.Utils.Objects.IsPlainObject,Y=Phaser.Utils.Objects.GetValue;var X=i(107);const L=Phaser.Utils.Objects.IsPlainObject,H=Phaser.Utils.Objects.GetValue;var D=i(132),V=function(t){return this.input||this.setInteractive(),Object(D.a)(this,t)},B=function(t){void 0===t&&(t=this);for(var e=l(t).parent;e;)e=l(t=e).parent;return t};const W=Phaser.Utils.Objects.GetValue;class A extends a{constructor(t,e,i,s,r,n){var h,a;"string"==typeof e&&(h=e,a=i,e=0,i=0),super(t,e,i,2,2),this.isRexSizer=!0,this.setMinWidth(s),this.setMinHeight(r),this.setName(W(n,"name","")),void 0!==h&&(this._anchor=new o.a(this,{x:h,y:a}))}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-this.displayWidth*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.x-this.displayWidth*this.originX+this.displayWidth}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return(this.left+this.right)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-this.displayHeight*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.y-this.displayHeight*this.originY+this.displayHeight}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return(this.top+this.bottom)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}}var F={getSizerConfig:l,pushIntoBounds:u,drawBounds:c,getChildrenWidth:f,getChildrenHeight:m,addChildrenMap:p,getElement:b,getAllChildrenSizers:y,getChildrenSizers:C,layout:w,layoutInit:O,_layoutInit:S,popUp:function(t,e,i){if(M(t)){var s=t;t=T(s,"duration",void 0),e=T(s,"orientation",void 0),i=T(s,"ease",void 0)}return Object(P.a)(this,t,e,i),this},scaleDownDestroy:function(t,e,i){if(I(t)){var s=t;t=_(s,"duration",void 0),e=_(s,"orientation",void 0),i=_(s,"ease",void 0)}return Object(k.a)(this,t,e,i),this},fadeIn:function(t){R(t)&&(t=Y(t,"duration",void 0));return z(this,t),this},fadeOutDestroy:function(t){L(t)&&(t=H(t,"duration",void 0));return Object(X.a)(this,t),this},isInTouching:V,getTopmostSizer:B};Object.assign(A.prototype,F);var G=A;const N=Phaser.Utils.Objects.GetValue;var U=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=N(t,"left",0),e.right=N(t,"right",0),e.top=N(t,"top",0),e.bottom=N(t,"bottom",0)),e},Z=function(t){if(!this.visible)return 0;void 0===t&&(t=!0);var e,i,s,r=0,n=this.sizerChildren;if(0===this.orientation)for(var h=0,a=n.length;h<a;h++)(e=n[h]).visible&&(s=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width:0,r+=s+=(i=e.rexSizer.padding).left+i.right);else for(h=0,a=n.length;h<a;h++)(e=n[h]).hasOwnProperty("rexSizer")&&e.visible&&(s=-1===e.rexSizer.proportion?0:e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,s+=(i=e.rexSizer.padding).left+i.right,r=Math.max(s,r));return r},J=function(t){if(!this.visible)return 0;void 0===t&&(t=!0);var e,i,s,r=0,n=this.sizerChildren;if(0===this.orientation)for(var h=0,a=n.length;h<a;h++)(e=n[h]).visible&&(s=-1===e.rexSizer.proportion?0:e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,s+=(i=e.rexSizer.padding).top+i.bottom,r=Math.max(s,r));else for(h=0,a=n.length;h<a;h++)(e=n[h]).hasOwnProperty("rexSizer")&&e.visible&&(s=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height:0,r+=s+=(i=e.rexSizer.padding).top+i.bottom);return r},K=function(){for(var t,e,i=0,s=this.sizerChildren,r=0,n=s.length;r<n;r++)(t=s[r]).visible&&(e=t.rexSizer.proportion)>0&&(i+=e);return i},Q=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,s=0,r=i.length;s<r;s++)(e=i[s]).isRexSizer&&t.push(e);return t},q=function(t,e){var i,s=e.rexSizer,r=s.padding;return-1===s.proportion?i=t.width-r.left-r.right:0===t.orientation?s.proportion>0&&t.proportionLength>0&&(i=s.proportion*t.proportionLength-r.left-r.right):s.expand&&(i=t.width-r.left-r.right),i},$=function(t,e){var i,s=e.rexSizer,r=s.padding;return-1===s.proportion?i=t.height-r.top-r.bottom:0===t.orientation?s.expand&&(i=t.height-r.top-r.bottom):s.proportion>0&&t.proportionLength>0&&(i=s.proportion*t.proportionLength-r.top-r.bottom),i},tt=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))},et=i(13);const it=Phaser.Display.Align.In.QuickSet;var st=function(t,e,i){if(!this.visible)return this;var s;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),s=(0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight)>0&&this.childrenProportion>0?(0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0,this.proportionLength=s;for(var r,n,h,a,o,l,d,u,c,p=this.sizerChildren,g=this.left,v=this.top,x=g,b=v,f=0,m=p.length;f<m;f++)(r=p[f]).visible&&(h=(n=r.rexSizer).padding,r.isRexSizer?r.layout(this,q(this,r),$(this,r)):(u=void 0,c=void 0,-1===n.proportion?(u=this.width-h.left-h.right,c=this.height-h.top-h.bottom):n.expand&&0===this.orientation?c=this.height-h.top-h.bottom:n.expand&&1===this.orientation&&(u=this.width-h.left-h.right),tt(r,u,c)),-1===n.proportion?(a=g+h.left,o=v+h.top,l=this.width-h.left-h.right,d=this.height-h.top-h.bottom):0===this.orientation?(0===n.proportion||0===s?(a=x+h.left,x+=(l=r.width)+h.left+h.right):(a=x+h.left,x+=(l=n.proportion*s-h.left-h.right)+h.left+h.right),o=b+h.top,d=this.height-h.top-h.bottom):(0===n.proportion||0===s?(o=b+h.top,b+=(d=r.height)+h.top+h.bottom):(o=b+h.top,b+=(d=n.proportion*s-h.top-h.bottom)+h.top+h.bottom),a=x+h.left,l=this.width-h.left-h.right),et.a.setPosition(a,o).setSize(l,d),it(r,et.a,n.align),this.resetChildState(r));return this},rt=function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0},nt={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1};const ht=Phaser.Display.Align;var at={center:ht.CENTER,left:ht.LEFT_CENTER,right:ht.RIGHT_CENTER,top:ht.TOP_CENTER,bottom:ht.BOTTOM_CENTER,"left-top":ht.TOP_LEFT,"left-center":ht.LEFT_CENTER,"left-bottom":ht.LEFT_BOTTOM,"center-top":ht.TOP_CENTER,"center-center":ht.CENTER,"center-bottom":ht.BOTTOM_CENTER,"right-top":ht.TOP_RIGHT,"right-center":ht.RIGHT_CENTER,"right-bottom":ht.RIGHT_BOTTOM};const ot=Phaser.Utils.Objects.IsPlainObject,lt=Phaser.Utils.Objects.GetValue,dt=Phaser.Utils.Array.Remove,ut=Phaser.Display.Align.CENTER;class ct extends G{constructor(t,e,i,s,r,n){var h;ot(e)?(e=lt(h=e,"x",0),i=lt(h,"y",0),s=lt(h,"width",void 0),r=lt(h,"height",void 0)):ot(s)?(s=lt(h=s,"width",void 0),r=lt(h,"height",void 0)):ot(n)&&(h=n),void 0!==h&&(n=lt(h,"orientation",0)),void 0===n&&(n=0),super(t,e,i,s,r,h),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n)}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=nt[t]),this.orientation=t,this}add(t,e,i,s,r){super.add(t);var n=typeof e;if(null===e)return this;if("number"===n);else if("string"===n)e=gt[e];else if(ot(e)){var h;e=lt(h=e,"proportion",0),i=lt(h,"align",ut),s=lt(h,"padding",0),r=lt(h,"expand",!1)}return"string"==typeof i&&(i=at[i]),void 0===e&&(e=0),void 0===i&&(i=ut),void 0===s&&(s=0),void 0===r&&(r=!1),(h=this.getSizerConfig(t)).parent=this,h.proportion=e,h.align=i,h.padding=U(s),h.expand=r,this.sizerChildren.push(t),this}addBackground(t,e){return this.add(t,-1,void 0,e,!0),this}insert(t,e,i,s,r,n){return this.add(e,i,s,r,n),this.moveTo(e,t),this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,dt(this.sizerChildren,t),super.remove(t),this)}get childrenProportion(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}var pt={getChildrenWidth:Z,getChildrenHeight:J,getChildrenProportion:K,getChildrenSizers:Q,layout:st,_layoutInit:rt};Object.assign(ct.prototype,pt);const gt={min:0,full:-1};var vt=ct;r.register("sizer",function(t,e,i,s,r){return new vt(this.scene,t,e,i,s,r)}),Object(h.a)(window,"RexPlugins.UI.Sizer",vt);var xt=function(){if(!this.visible)return 0;for(var t,e,i,s,r,n=0,h=this.gridChildren,a=0;a<this.columnCount;a++){if(t=0,void 0===(r=this.columnProportions[a])||0===r){for(var o=0;o<this.rowCount;o++)(e=h[o*this.columnCount+a])&&e.visible&&(s=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,s+=(i=e.rexSizer.padding).left+i.right,t=Math.max(t,s));n+=t}this.columnWidth[a]=t}return n},bt=function(){if(!this.visible)return 0;for(var t,e,i,s,r,n=0,h=this.gridChildren,a=0;a<this.rowCount;a++){if(t=0,void 0===(r=this.rowProportions[a])||0===r){for(var o=0;o<this.columnCount;o++)(e=h[a*this.columnCount+o])&&e.visible&&(s=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,s+=(i=e.rexSizer.padding).top+i.bottom,t=Math.max(t,s));n+=t}this.rowHeight[a]=t}return n},ft=function(t){void 0===t&&(t=[]);for(var e,i=this.gridChildren,s=0,r=i.length;s<r;s++)(e=i[s])&&e.isRexSizer&&t.push(e);return t},mt=function(t,e){var i;if(e>0){var s=t.rexSizer.padding;i=e-s.left-s.right}return i},yt=function(t,e){var i;if(e>0){var s=t.rexSizer.padding;i=e-s.top-s.bottom}return i};const Ct=Phaser.Display.Align.In.QuickSet;var wt=function(t,e,i){if(!this.visible)return this;this.layoutInit(t);var s,r,n,h,a=this.totalColumnProportions,o=this.totalRowProportions;if(void 0===e)if(t&&a>0){var l=this.rexSizer.padding;e=t.width-l.left-l.right}else e=Math.max(this.childrenWidth,this.minWidth);if(void 0===i)if(t&&o>0){var l=this.rexSizer.padding;i=t.height-l.top-l.bottom}else i=Math.max(this.childrenHeight,this.minHeight);this.resize(e,i),s=a>0?(this.width-this.childrenWidth)/a:0;r=o>0?(this.height-this.childrenWidth)/o:0;for(var d,u,c,p,g,v,x,b,f=this.left,m=this.top,y=f,C=m,w=0;w<this.rowCount;w++){b=this.rowProportions[w]||0,y=f;for(var O=0;O<this.columnCount;O++)if(n=this.gridChildren[w*this.columnCount+O])if(n.visible){switch(l=(h=n.rexSizer).padding,g=void 0,v=void 0,x=this.columnProportions[O]||0,n.isRexSizer&&n.layout(this,mt(n,x*s),yt(n,b*r)),x){case 0:case void 0:d=y+l.left,c=n.width,y+=this.columnWidth[O];break;default:d=y+l.left,g=c=x*s-l.left-l.right,y+=c+l.left+l.right}switch(b){case 0:case void 0:u=C+l.top,p=n.height;break;default:u=C+l.top,v=p=b*r-l.top-l.bottom}n.isRexSizer||tt(n,g,v),et.a.setPosition(d,u).setSize(c,p),Ct(n,et.a,h.align),this.resetChildState(n)}else y+=this.columnWidth[O];else y+=this.columnWidth[O];switch(b){case 0:case void 0:C+=this.rowHeight[w];break;default:C+=b*r}}for(var S=0,P=this.backgroundChildren.length;S<P;S++)(n=this.backgroundChildren[S]).visible&&(d=f+(l=(h=n.rexSizer).padding).left,u=m+l.top,c=this.width-l.left-l.right,p=this.height-l.top-l.bottom,tt(n,c,p),et.a.setPosition(d,u).setSize(c,p),Ct(n,et.a,h.align),this.resetChildState(n));return this},Ot=function(){this._childrenWidth=void 0,this._childrenHeight=void 0};const St=Phaser.Utils.Objects.IsPlainObject,Pt=Phaser.Utils.Objects.GetValue,Mt=Phaser.Utils.Array.Remove,Tt=Phaser.Display.Align.CENTER;class kt extends G{constructor(t,e,i,s,r,n,h,a,o){var l;St(e)?(e=Pt(l=e,"x",0),i=Pt(l,"y",0),s=Pt(l,"width",void 0),r=Pt(l,"height",void 0),n=Pt(l,"column",0),h=Pt(l,"row",0),a=Pt(l,"columnProportions",void 0),o=Pt(l,"rowProportions",void 0)):St(s)?(s=Pt(l=s,"width",void 0),r=Pt(l,"height",void 0),n=Pt(l,"column",0),h=Pt(l,"row",0),a=Pt(l,"columnProportions",void 0),o=Pt(l,"rowProportions",void 0)):St(n)?(n=Pt(l=n,"column",0),h=Pt(l,"row",0),a=Pt(l,"columnProportions",void 0),o=Pt(l,"rowProportions",void 0)):St(a)&&(a=Pt(l=a,"columnProportions",void 0),o=Pt(l,"rowProportions",void 0)),super(t,e,i,s,r,l),this.type="rexGridSizer",this.initialGrid(n,h,a,o)}destroy(t){this.scene&&(this.gridChildren.length=0,this.backgroundChildren.length=0,super.destroy(t))}setColumnProportion(t,e){return t>=this.columnProportions.length?this:(this.columnProportions[t]=e,this)}setRowProportion(t,e){return t>=this.rowProportions.length?this:(this.rowProportions[t]=e,this)}add(t,e,i,s,r,n){var h;(super.add(t),St(e))&&(e=Pt(h=e,"column",0),i=Pt(h,"row",0),s=Pt(h,"align",Tt),r=Pt(h,"padding",0),n=Pt(h,"expand",!1));return"string"==typeof s&&(s=at[s]),void 0===s&&(s=Tt),void 0===r&&(r=0),void 0===n&&(n=!1),(h=this.getSizerConfig(t)).parent=this,h.align=s,h.padding=U(r),h.expand=n,this.gridChildren[i*this.columnCount+e]=t,this}addBackground(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=Tt,i.padding=U(e),i.expand=!0,this.backgroundChildren.push(t),this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,Mt(this.gridChildren,t),Mt(this.backgroundChildren,t),super.remove(t),this)}get totalColumnProportions(){for(var t,e=0,i=0;i<this.columnCount;i++)(t=this.columnProportions[i])>0&&(e+=t);return e}get totalRowProportions(){for(var t,e=0,i=0;i<this.rowCount;i++)(t=this.rowProportions[i])>0&&(e+=t);return e}initialGrid(t,e,i,s){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.backgroundChildren=[],this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,i)for(var r="number"==typeof i,n=0;n<t;n++)if(r)this.setColumnProportion(n,i);else{var h=i[n];h>0&&this.setColumnProportion(n,h)}if(s){var a="number"==typeof s;for(n=0;n<e;n++)if(a)this.setRowProportion(n,s);else{var o=s[n];o>0&&this.setRowProportion(n,o)}}return this}}var It={getChildrenWidth:xt,getChildrenHeight:bt,getChildrenSizers:ft,layout:wt,_layoutInit:Ot};Object.assign(kt.prototype,It);var _t=kt;r.register("gridSizer",function(t,e,i,s,r,n,h,a){return this.scene.sys.displayList.add(new _t(this.scene,t,e,i,s,r,n,h,a))}),Object(h.a)(window,"RexPlugins.UI.GridSizer",_t);var jt=function(){return this.visible?(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth)):0;var t},Et=function(){return this.visible?(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight)):0;var t},zt=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,s=0,r=i.length;s<r;s++)(e=i[s]).isRexSizer&&t.push(e);return t},Rt=function(t){var e=t.rexSizer.padding;return t.width+e.left+e.right},Yt=function(t){var e=t.rexSizer.padding;return t.height+e.top+e.bottom},Xt=function(t,e){return 0===e?Rt(t):Yt(t)},Lt=function(t,e){return 0===e?Yt(t):Rt(t)},Ht=function(t){for(var e,i,s,r={lines:[],width:0,height:0},n=this.sizerChildren,h=0,a=r.lines,o=0,l=n.length;o<l;o++)if((e=n[o]).visible){if(e.isRexSizer&&e.layout(),h<(i=Xt(e,this.orientation))){if(s){var d=t-(h+this.itemSpacing);r.width=Math.max(r.width,d),r.height+=s.height+this.lineSpacing}s={children:[],remainder:0,height:0},a.push(s),h=t}h-=i+this.itemSpacing,s.children.push(e),s.remainder=h,s.height=Math.max(s.height,Lt(e,this.orientation))}return s&&(r.height+=s.height),r};const Dt=Phaser.Display.Align.In.QuickSet;var Vt=function(t,e,i){if(!this.visible)return this;if(this.layoutInit(t),void 0===e){var s=this.padding;e=Math.max(this.maxChildWidth+s.left+s.right,this.minWidth)}void 0===i&&(s=this.padding,i=Math.max(this.maxChildHeight+s.top+s.bottom,this.minHeight));var r;s=this.padding;r=0===this.orientation?e-s.left-s.right:i-s.top-s.bottom;var n,h,a=Ht.call(this,r);0===this.orientation?i=Math.max(i,a.height+s.top+s.bottom):e=Math.max(e,a.height+left+s.right),this.resize(e,i);var o,l,d,u,c,p,g,v,x=this.left,b=this.top,f=a.lines;0===this.orientation?(o=x,l=b+this.padding.top):(o=x+this.padding.left,l=b);for(var m=0,y=f.length;m<y;m++){for(var C=0,w=(v=(g=f[m]).children).length;C<w;C++)s=(h=(n=v[C]).rexSizer).padding,0===this.orientation?(d=o+s.left,d+=0===C?this.padding.left:this.itemSpacing,u=l+s.top,c=n.width,p=n.height,o=d+n.width+s.right):(d=o+s.left,u=l+s.top,u+=0===C?this.padding.top:this.itemSpacing,c=n.width,p=n.height,l=u+n.height+s.bottom),et.a.setPosition(d,u).setSize(c,p),Dt(n,et.a,h.align),this.resetChildState(n);0===this.orientation?(o=x,l+=g.height+this.lineSpacing):(o+=g.height+this.lineSpacing,l=b)}m=0;for(var O=this.backgroundChildren.length;m<O;m++)(n=this.backgroundChildren[m]).visible&&(d=x+(s=(h=n.rexSizer).padding).left,u=b+s.top,c=this.width-s.left-s.right,p=this.height-s.top-s.bottom,tt(n,c,p),et.a.setPosition(d,u).setSize(c,p),Dt(n,et.a,h.align),this.resetChildState(n));return this},Bt=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,s=t.length;i<s;i++)e=Math.max(e,Rt(t[i]));return e},Wt=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,s=t.length;i<s;i++)e=Math.max(e,Yt(t[i]));return e};const At=Phaser.Utils.Objects.IsPlainObject,Ft=Phaser.Utils.Objects.GetValue,Gt=Phaser.Utils.Array.Remove,Nt=Phaser.Display.Align.CENTER;class Ut extends G{constructor(t,e,i,s,r,n,h){var a;At(e)?(e=Ft(a=e,"x",0),i=Ft(a,"y",0),s=Ft(a,"width",void 0),r=Ft(a,"height",void 0)):At(s)?(s=Ft(a=s,"width",void 0),r=Ft(a,"height",void 0)):At(n)?a=n:At(h)&&(a=h),void 0!==a&&(n=Ft(a,"orientation",0),h=Ft(a,"space",a)),void 0===n&&(n=0),void 0===h&&(h=0),super(t,e,i,s,r,a),this.type="rexFixWidthSizer",this.sizerChildren=[],this.backgroundChildren=[],this.setOrientation(n),this.setPadding(h),this.setItemSpacing(Ft(h,"item",0)),this.setLineSpacing(Ft(h,"line",0))}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=nt[t]),this.orientation=t,this}setPadding(t){return this.padding=U(t),this}setItemSpacing(t){return this.itemSpacing=t,this}setLineSpacing(t){return this.lineSpacing=t,this}add(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=Nt,i.padding=U(e),this.sizerChildren.push(t),this}insert(t,e,i,s){return this.add(e,i,s),this.moveTo(e,t),this}addBackground(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=Nt,i.padding=U(e),this.backgroundChildren.push(t),this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,Gt(this.sizerChildren,t),super.remove(t),this)}get maxChildWidth(){return void 0===this._maxChildWidth&&(this._maxChildWidth=Bt.call(this)),this._maxChildWidth}get maxChildHeight(){return void 0===this._maxChildHeight&&(this._maxChildHeight=Wt.call(this)),this._maxChildHeight}}var Zt={getChildrenWidth:jt,getChildrenHeight:Et,getChildrenSizers:zt,layout:Vt};Object.assign(Ut.prototype,Zt);var Jt=Ut;r.register("fixWidthSizer",function(t,e,i,s,r,n){return new Jt(this.scene,t,e,i,s,r,n)}),Object(h.a)(window,"RexPlugins.UI.FixWidthSizer",Jt);var Kt=i(66);const Qt=Phaser.Utils.Objects.GetValue;var qt=class extends vt{constructor(t,e){super(t,e),this.type="rexLabel";var i,s=Qt(e,"background",void 0),r=Qt(e,"icon",void 0),n=Qt(e,"iconMask",void 0),h=Qt(e,"text",void 0),a=Qt(e,"action",void 0),o=Qt(e,"actionMask",void 0),l=Qt(e,"space.left",0),d=Qt(e,"space.right",0),u=Qt(e,"space.top",0),c=Qt(e,"space.bottom",0),p=Qt(e,"space.icon",0),g=Qt(e,"space.text",0);s&&this.addBackground(s),r&&(i=0===this.orientation?{left:l,right:h||a?p:d,top:u,bottom:c}:{left:l,right:d,top:u,bottom:h||a?p:c},this.add(r,0,"center",i),n&&(n=new Kt.a(r,1),r.setMask(n.createGeometryMask()),this.add(n,null))),h&&(i=0===this.orientation?{left:r?0:l,right:a?g:d,top:u,bottom:c}:{left:l,right:d,top:r?0:u,bottom:a?g:c},this.add(h,0,"center",i)),a&&(i=0===this.orientation?{left:r||h?0:l,right:d,top:u,bottom:c}:{left:l,right:d,top:r||h?0:u,bottom:c},this.add(a,0,"center",i),o&&(o=new Kt.a(a,1),r.setMask(o.createGeometryMask()),this.add(o,null))),this.addChildrenMap("background",s),this.addChildrenMap("icon",r),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",h),this.addChildrenMap("action",a),this.addChildrenMap("actionMask",o)}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}appendText(t){this.text+=t}layout(t,e,i){super.layout(t,e,i);var s=this.childrenMap.iconMask;s&&(s.setPosition(),this.resetChildState(s));var r=this.childrenMap.actionMask;return r&&(r.setPosition(),this.resetChildState(r)),this}resize(t,e){super.resize(t,e);var i=this.childrenMap.iconMask;i&&i.resize();var s=this.childrenMap.actionMask;return s&&s.resize(),this}};r.register("label",function(t){return new qt(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Label",qt);var $t=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.add.zone(0,0,e,i)},te=i(131),ee=function(t,e){t._buttonBehavior=new te.a(t,e),t._buttonBehavior.on("click",ie.call(this,"button.click",t)),t.on("pointerover",ie.call(this,"button.over",t)).on("pointerout",ie.call(this,"button.out",t))},ie=function(t,e){var i=this;return function(){se.call(i,t,e)}},se=function(t,e){var i;if("number"==typeof e){if((i=e)>=this.childrenMap.buttons.length)return;e=this.childrenMap.buttons[i]}else if(-1===(i=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,i):this.eventEmitter.emit(t,e,i)};const re=Phaser.Utils.Objects.GetValue;const ne={};var he=class extends vt{constructor(t,e){void 0===e&&(e=ne),super(t,e),this.type="rexButtons",this.eventEmitter=re(e,"eventEmitter",this),this.groupName=re(e,"groupName",void 0);var i=re(e,"background",void 0),s=re(e,"buttons",void 0);s&&0===s.length&&(s=void 0);var r=re(e,"space",0);if(i&&this.addBackground(i),s){var n,h,a=re(e,"align",void 0),o=re(e,"click",void 0);"right"!==a&&"bottom"!==a&&"center"!==a||this.add($t(t),1,"center",0,!1);for(var l=0,d=s.length;l<d;l++)n=s[l],h=0===this.orientation?{left:l>=1?r:0,right:0,top:0,bottom:0}:{left:0,right:0,top:l>=1?r:0,bottom:0},this.add(n,0,"center",h,!0),ee.call(this,n,o);"center"===a&&this.add($t(t),1,"center",0,!1)}this.addChildrenMap("background",i),this.addChildrenMap("buttons",s||[])}emitButtonClick(t){return se.call(this,"button.click",t),this}};r.register("buttons",function(t){return new he(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Buttons",he);const ae=Phaser.Utils.Objects.GetValue;const oe={};var le=class extends vt{constructor(t,e){void 0===e&&(e=oe),e.orientation=1,super(t,e),this.type="rexDialog",this.eventEmitter=ae(e,"eventEmitter",this);var i=ae(e,"background",void 0),s=ae(e,"title",void 0),r=ae(e,"toolbar",void 0);r&&0===r.length&&(r=void 0);var n=ae(e,"content",void 0),h=ae(e,"description",void 0),a=ae(e,"choices",void 0);a&&0===a.length&&(a=void 0);var o=ae(e,"actions",void 0);o&&0===o.length&&(o=void 0);var l,d=ae(e,"click",void 0),u=ae(e,"space.left",0),c=ae(e,"space.right",0),p=ae(e,"space.top",0),g=ae(e,"space.bottom",0);if(i&&this.addBackground(i),s&&!r){var v=ae(e,"align.title","center"),x=ae(e,"space.title",0),b={left:u,right:c,top:p,bottom:n||h||a||o?x:g},f=ae(e,"expand.title",!0);this.add(s,0,v,b,f)}if(r&&(l=new he(t,{groupName:"toolbar",buttons:r,orientation:0,space:ae(e,"space.toolbarItem",0),click:d,eventEmitter:this.eventEmitter})),r&&!s&&(x=ae(e,"space.title",0),b={left:u,right:c,top:p,bottom:n||h||a||o?x:g},f=ae(e,"expand.toolbar",!0),this.add(l,0,"center",b,f)),s&&r){var m=new vt(t,{orientation:0});v=ae(e,"align.title","left"),(f=ae(e,"expand.title",!0))||"right"!==v&&"center"!==v||m.add($t(t),1,"center",0,!1),b={left:ae(e,"space.titleLeft",0),right:ae(e,"space.titleRight",0),top:0,bottom:0},m.add(s,f?1:0,"center",b,f),f||"left"!==v&&"center"!==v||m.add($t(t),1,"center",0,!1),m.add(l,0,"right",0,!1),x=ae(e,"space.title",0),b={left:u,right:c,top:p,bottom:n||h||a||o?x:g},this.add(m,0,"center",b,!0)}if(n){v=ae(e,"align.content","center");var y=ae(e,"space.content",0);b={left:u+ae(e,"space.contentLeft",0),right:c+ae(e,"space.contentRight",0),top:s||r?0:p,bottom:h||a||o?y:g},f=ae(e,"expand.content",!0),this.add(n,0,v,b,f)}if(h){v=ae(e,"align.description","center");var C=ae(e,"space.description",0);b={left:u+ae(e,"space.descriptionLeft",0),right:c+ae(e,"space.descriptionRight",0),top:s||r||n?0:p,bottom:a||o?C:g},f=ae(e,"expand.description",!0),this.add(h,0,v,b,f)}if(a){v=ae(e,"align.choices","center");var w=new he(t,{groupName:"choices",buttons:a,orientation:1,space:ae(e,"space.choice",0),click:d,eventEmitter:this.eventEmitter}),O=ae(e,"space.choices",0);b={left:u+ae(e,"space.choicesLeft",0),right:c+ae(e,"space.choicesRight",0),top:s||r||n||h?0:p,bottom:o?O:g},f=ae(e,"expand.choices",!0),this.add(w,0,v,b,f)}o&&(w=new he(t,{groupName:"actions",buttons:o,orientation:0,space:ae(e,"space.action",0),align:ae(e,"align.actions","center"),click:d,eventEmitter:this.eventEmitter}),b={left:u+ae(e,"space.actionsLeft",0),right:c+ae(e,"space.actionsRight",0),top:s||r||n||h||a?0:p,bottom:g},f=ae(e,"expand.actions",!0),this.add(w,0,"center",b,f)),this.addChildrenMap("background",i),this.addChildrenMap("title",s),this.addChildrenMap("toolbar",r),this.addChildrenMap("content",n),this.addChildrenMap("choices",a),this.addChildrenMap("actions",o)}};r.register("dialog",function(t){return new le(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Dialog",le);const de=Phaser.Utils.Objects.GetValue;const ue={};var ce=class extends _t{constructor(t,e){void 0===e&&(e=ue),e.column=3,e.row=3,super(t,e),this.type="rexTabs",this.eventEmitter=de(e,"eventEmitter",this);var i,s=de(e,"background",void 0),r=de(e,"panel",void 0),n=de(e,"leftButtons",void 0);n&&0===n.length&&(n=void 0);var h,a=de(e,"rightButtons",void 0);a&&0===a.length&&(a=void 0);var o,l=de(e,"topButtons",void 0);l&&0===l.length&&(l=void 0);var d,u=de(e,"bottomButtons",void 0);u&&0===u.length&&(u=void 0);var c=de(e,"click",void 0),p=de(e,"space.left",0),g=de(e,"space.right",0),v=de(e,"space.top",0),x=de(e,"space.bottom",0),b=de(e,"space.leftButtonsOffset",0),f=de(e,"space.rightButtonsOffset",0),m=de(e,"space.topButtonsOffset",0),y=de(e,"space.bottomButtonsOffset",0),C=de(e,"space.leftButton",0),w=de(e,"space.rightButton",0),O=de(e,"space.topButton",0),S=de(e,"space.bottomButton",0);if(s&&this.addBackground(s),r){var P={left:n?0:p,right:a?0:g,top:l?0:v,bottom:u?0:x};this.add(r,1,1,void 0,P,!1)}n&&(i=new he(t,{groupName:"left",buttons:n,orientation:1,space:C,align:de(e,"align.leftButtons",void 0),click:c,eventEmitter:this.eventEmitter}),P={left:p,top:b},this.add(i,0,1,void 0,P,!1)),a&&(h=new he(t,{groupName:"right",buttons:a,orientation:1,space:w,align:de(e,"align.rightButtons",void 0),click:c,eventEmitter:this.eventEmitter}),P={right:g,top:f},this.add(h,2,1,void 0,P,!1)),l&&(o=new he(t,{groupName:"top",buttons:l,orientation:0,space:O,align:de(e,"align.topButtons",void 0),click:c,eventEmitter:this.eventEmitter}),P={top:v,left:m},this.add(o,1,0,void 0,P,!1)),u&&(d=new he(t,{groupName:"bottom",buttons:u,orientation:0,space:S,align:de(e,"align.bottomButtons",void 0),click:c,eventEmitter:this.eventEmitter}),P={bottom:x,left:y},this.add(d,1,2,void 0,P,!1)),this.addChildrenMap("background",s),this.addChildrenMap("panel",r),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",a),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",u),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",h),this.addChildrenMap("topButtonsSizer",o),this.addChildrenMap("bottomButtonsSizer",d)}emitButtonClick(t,e){var i=this.childrenMap[t+"ButtonsSizer"];return i?(i.emitButtonClick(e),this):this}};r.register("tabs",function(t){return new ce(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Tabs",ce);const pe=Phaser.Math.Percent;var ge=function(t,e,i){var s,r,n;return t.y===e.y?(s=Math.min(t.x,e.x),r=Math.max(t.x,e.x),n=pe(i.x,s,r)):t.x===e.x&&(s=Math.min(t.y,e.y),r=Math.max(t.y,e.y),n=pe(i.y,s,r)),n},ve={},xe=function(t,e,i){this.enable&&(ve.x=e,ve.y=i,this.value=ge(this.getStartPoint(),this.getEndPoint(),ve))},be={},fe=function(t,e,i){this.enable&&t.isDown&&(be.x=t.worldX,be.y=t.worldY,this.value=ge(this.getStartPoint(),this.getEndPoint(),be))};const me=Phaser.Display.Align.In.QuickSet;var ye={},Ce=function(t,e){void 0===e&&(e=ye);var i=this.childrenMap.thumb,s=i.x,r=i.y;return me(i,this,t),e.x=i.x,e.y=i.y,i.x=s,i.y=r,e};const we=Phaser.Display.Align.LEFT_CENTER,Oe=Phaser.Display.Align.TOP_CENTER;var Se={},Pe=function(t){if(void 0===t&&(t=Se),this.childrenMap.thumb){var e=0===this.orientation?Oe:we;Ce.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t};const Me=Phaser.Display.Align.RIGHT_CENTER,Te=Phaser.Display.Align.BOTTOM_CENTER;var ke={},Ie=function(t){if(void 0===t&&(t=ke),this.childrenMap.thumb){var e=1===this.orientation?Me:Te;Ce.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t};const _e=Phaser.Math.Linear;var je={},Ee=function(t,e,i,s){return void 0===s&&(s=je),s.x=_e(e.x,i.x,t),s.y=_e(e.y,i.y,t),s},ze=function(t){var e=this.childrenMap.thumb;return void 0===e?this:(void 0===t&&(t=this.value),Ee(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildState(e),this)};const Re=Phaser.Display.Align.In.QuickSet,Ye=Phaser.Display.Align.LEFT_CENTER,Xe=Phaser.Display.Align.TOP_CENTER;var Le=function(t){var e,i,s=this.childrenMap.indicator;if(void 0===s)return this;void 0===t&&(t=this.value);var r=this.childrenMap.thumb;r?0===this.orientation?i=r.y-r.displayHeight*r.originY+r.displayHeight-this.top:e=r.x-r.displayWidth*r.originX+r.displayWidth-this.left:0===this.orientation?i=this.height*t:e=this.width*t;tt(s,e,i);var n=1===this.orientation?Ye:Xe;Re(s,this,n),this.resetChildState(s)};const He=Phaser.Utils.Objects.GetValue,De=Phaser.Math.Clamp,Ve=Phaser.Math.Linear,Be=Phaser.Math.Percent;class We extends vt{constructor(t,e){super(t,e),this.type="rexSlider",this.eventEmitter=He(e,"eventEmitter",this);var i=He(e,"background",void 0),s=He(e,"track",void 0),r=He(e,"indicator",void 0),n=He(e,"thumb",void 0),h=He(e,"space.left",0),a=He(e,"space.right",0),o=He(e,"space.top",0),l=He(e,"space.bottom",0);if(i&&this.addBackground(i),s){var d={left:h,right:a,top:o,bottom:l};this.add(s,0,void 0,d,!0)}r&&this.add(r,null),n&&this.add(n,null);var u=He(e,"input",0);switch("string"==typeof u&&(u=Ae[u]),u){case 0:n&&(n.setInteractive(),this.scene.input.setDraggable(n),n.on("drag",xe,this));break;case 1:this.setInteractive().on("pointerdown",fe,this).on("pointermove",fe,this)}this.addChildrenMap("background",i),this.addChildrenMap("track",s),this.addChildrenMap("indicator",r),this.addChildrenMap("thumb",n);var c=He(e,"valuechangeCallback",null);if(null!==c){var p=He(e,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",c,p)}this.setEnable(He(e,"enable",void 0)),this.setValue(He(e,"value",0))}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}get value(){return this._value}set value(t){var e=this._value;this._value=De(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}setValue(t,e,i){return void 0===t||null===t?this:(void 0!==e&&(t=Be(t,e,i)),this.value=t,this)}addValue(t,e,i){return void 0!==e&&(t=Be(t,e,i)),this.value+=t,this}getValue(t,e){var i=this.value;return void 0!==t&&(i=Ve(t,e,i)),i}layout(t,e,i){return super.layout(t,e,i),this.updateThumb(),this.updateIndicator(),this}}const Ae={drag:0,click:1,none:-1};var Fe={getStartPoint:Pe,getEndPoint:Ie,updateThumb:ze,updateIndicator:Le};Object.assign(We.prototype,Fe);var Ge=We;r.register("slider",function(t){return new Ge(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Slider",Ge);var Ne=i(56);const Ue=Phaser.Utils.Objects.GetValue;var Ze={},Je=function(t,e){void 0===e&&(e=Ze);var i=Ue(e,"width",void 0),s=Ue(e,"height",void 0);return e.clamplTableOXY=!1,new Ne.a(t,0,0,i,s,e)},Ke=i(125),Qe=i(8),qe=function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.table;e.setCellsCount(this.items.length),e.updateTable(!0);var i=this.childrenMap.scroller,s=this.childrenMap.slider;return i?i.setBounds(e.bottomTableOY,e.topTableOY).setValue(e.topTableOY):s?s.setValue(0):e.setTableOY(0),s&&s.setEnable(e.tableHeight>e.instHeight),this},$e=function(){this.clickCellState=!0},ti=function(){this.clickCellState=!1},ei=function(t){if(this.clickCellState){var e=this.childrenMap.table,i=e.pointerToCellIndex(t.worldX,t.worldY);if(null!==i){var s=e.getCellContainer(i);this.eventEmitter.emit("cell.click",s,i)}}},ii=function(t){if(!t.isDown){var e,i=this.childrenMap.table,s=i.pointerToCellIndex(t.worldX,t.worldY);if(s!==this.lastOverCellIndex)void 0!==this.lastOverCellIndex&&null!=(e=i.getCellContainer(this.lastOverCellIndex))&&this.eventEmitter.emit("cell.out",e,this.lastOverCellIndex),null!=(e=i.getCellContainer(s))&&this.eventEmitter.emit("cell.over",e,s),this.lastOverCellIndex=s}},si=function(){var t=this.childrenMap.table.getCellContainer(this.lastOverCellIndex);null!=t&&this.eventEmitter.emit("cell.out",t,this.lastOverCellIndex),this.lastOverCellIndex=void 0},ri=function(t){t.setInteractive().on("pointerdown",$e,this).on("pointermove",ti,this).on("pointerup",ei,this).on("pointermove",ii,this).on("pointerup",si,this).on("pointerover",ii,this).on("pointerout",si,this)};const ni=Phaser.Utils.Objects.GetValue;class hi extends vt{constructor(t,e){void 0===e&&(e=ai),e.orientation=0,super(t,e),this.type="rexGridTable",this.eventEmitter=ni(e,"eventEmitter",this);var i=ni(e,"background",void 0),s=ni(e,"table",void 0),r=ni(e,"slider",void 0),n=ni(e,"scrollerConfig",!0),h=ni(e,"space.left",0),a=ni(e,"space.right",0),o=ni(e,"space.top",0),l=ni(e,"space.bottom",0),d=ni(e,"space.table",0);i&&this.addBackground(i);var u=Je(t,s);u.on("cellvisible",function(t){var e,i=this.createCellContainerCallback,s=this.createCellContainerCallbackScope;t.item=this.items[t.index],(e=s?i.call(s,t):i(t)).isRexSizer&&e.layout(),t.item=void 0,t.setContainer(e)},this);var c,p,g={left:h,right:r?d:a,top:o,bottom:l};if(this.add(u,0,"center",g,!0),r){!0===r&&(r={}),r.orientation=this.orientation,c=new Ge(t,r);g={left:u?0:h,right:a,top:o,bottom:l};this.add(c,0,"center",g,!0)}n&&(!0===n&&(n={}),p=new Ke.a(u,n));var v=!1;c&&c.on("valuechange",function(t){v?v=!1:(u.setTableOYByPercentage(t).updateTable(),p&&(v=!0,p.setValue(u.tableOY)))}),p&&p.on("valuechange",function(t){v?v=!1:(u.setTableOY(t).updateTable(),c&&(v=!0,c.setValue(u.getTableOYPercentage())))}),this.addChildrenMap("background",i),this.addChildrenMap("table",u),this.addChildrenMap("slider",c),this.addChildrenMap("scroller",p),ri.call(this,u);var x=ni(e,"createCellContainerCallback",Qe.a),b=ni(e,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(x,b),this.setItems(ni(e,"items",[]))}setCreateCellContainerCallback(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}}const ai={};var oi={setItems:qe};Object.assign(hi.prototype,oi);var li=hi;r.register("gridTable",function(t){return new li(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.GridTable",li);var di=function(t,e,i,s){var r,n,h=[];if(e&&i)for(var a=0,o=e.length;a<o;a++)(r=e[a]).scene=t,n=s?i.call(s,r,a):i(r,a),r.scene=void 0,h.push(n);return h},ui=function(t){t.on(t.root.expandEventName,function(t,e){if(!this.isPassedEvent){var i=this.items[e].children;i&&this.expandSubMenu(t,i)}},t).on("button.click",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.click",t,e),this.root.isPassedEvent=!1)},t).on("button.over",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.over",t,e),this.root.isPassedEvent=!1)},t).on("button.out",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.out",t,e),this.root.isPassedEvent=!1)},t)},ci=function(t,e){this.collapseSubMenu();var i=new this.constructor(this.scene,{items:e,orientation:this.orientation,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,root:this.root,parent:t});return this.add(i,null),this.childrenMap.subMenu=i,this},pi=function(){return this.root.easeOut?this.scaleDownDestroy(this.root.easeOut):this.destroy(),this},gi=function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapseSubMenu(),t.collapse(),this};const vi=Phaser.Utils.Objects.GetValue;class xi extends he{constructor(t,e){void 0===e&&(e={}),e.hasOwnProperty("orientation")||(e.orientation=1);var i=vi(e,"items",void 0),s=vi(e,"createButtonCallback",void 0),r=vi(e,"createButtonCallbackScope",void 0);if(e.buttons=di(t,i,s,r),super(t,e),this.type="rexMenu",this.items=i,this.root=vi(e,"root",this),this.root===this){if(this.expandEventName=vi(e,"expandEvent","button.click"),this.easeIn=vi(e,"easeIn",void 0),this.easeOut=vi(e,"easeOut",void 0),this.bounds=vi(e,"bounds",void 0),this.expandOrientation=vi(e,"expandOrientation",void 0),void 0===this.expandOrientation){var n=this.bounds;void 0===n&&(n=Object(d.a)(t)),0===this.orientation?this.expandOrientation=this.y<n.centerY?1:3:this.expandOrientation=this.x<n.centerX?0:2}this.createButtonCallback=s,this.createButtonCallbackScope=r,this.isPassedEvent=!1}this.setOrigin(0).layout();var h=vi(e,"parent",void 0);if(h)switch(this.root.expandOrientation){case 0:this.alignTop(h.top).alignLeft(h.right);break;case 1:this.alignLeft(h.left).alignTop(h.bottom);break;case 2:this.alignTop(h.top).alignRight(h.left);break;case 3:this.alignLeft(h.left).alignBottom(h.top)}this.pushIntoBounds(this.root.bounds),ui(this),this.root.easeIn&&this.popUp(this.root.easeIn)}isInTouching(t){return!!super.isInTouching(t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}var bi={expandSubMenu:ci,collapse:pi,collapseSubMenu:gi};Object.assign(xi.prototype,bi);var fi=xi;r.register("menu",function(t){return new fi(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.Menu",fi);var mi=i(124),yi=i(123);const Ci=Phaser.Utils.Objects.GetValue;var wi=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},Oi=class extends qt{constructor(t,e){void 0===e&&(e={text:wi(t)}),super(t,e),this.type="rexTextBox";var i=this.childrenMap.text;this.page=new mi.a(i,Ci(e,"page",void 0)),this.typing=new yi.a(i,Ci(e,"type",void 0)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=i.width,this.textHeight=i.height}start(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}typeNextPage(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(t){return this.typing.stop(t),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend")}};r.register("textBox",function(t){return new Oi(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.TextBox",Oi);const Si=Phaser.Utils.Objects.GetValue,Pi=Phaser.Math.Percent,Mi=Phaser.Math.Linear;var Ti=class extends vt{constructor(t,e){super(t,e),this.type="rexNumberBar";var i,s=Si(e,"background",void 0),r=Si(e,"icon",void 0),n=Si(e,"iconMask",void 0),h=Si(e,"slider",void 0),a=Si(e,"text",void 0),o=Si(e,"space.left",0),l=Si(e,"space.right",0),d=Si(e,"space.top",0),u=Si(e,"space.bottom",0),c=Si(e,"space.icon",0),p=Si(e,"space.slider",0);if(s&&this.addBackground(s),r&&(g=0===this.orientation?{left:o,right:h||a?c:l,top:d,bottom:u}:{left:o,right:l,top:d,bottom:h||a?c:u},this.add(r,0,"center",g),n&&(n=new Kt.a(r,1),r.setMask(n.createGeometryMask()),this.add(n,null))),h){var g;h.orientation=0==this.orientation?1:0,h.eventEmitter=this,h.value=null,h.hasOwnProperty("input")||(h.input=-1),i=new Ge(t,h),g=0===this.orientation?{left:r?0:o,right:a?p:l,top:d,bottom:u}:{left:o,right:l,top:r?0:d,bottom:a?p:u};var v=1;0===this.orientation?h.hasOwnProperty("width")&&(v=0):h.hasOwnProperty("height")&&(v=0),this.add(i,v,"center",g)}a&&(g=0===this.orientation?{left:r||h?0:o,right:l,top:d,bottom:u}:{left:o,right:l,top:r||h?0:d,bottom:u},this.add(a,0,"center",g)),this.addChildrenMap("background",s),this.addChildrenMap("icon",r),this.addChildrenMap("slider",i),this.addChildrenMap("text",a);var x=Si(e,"valuechangeCallback",null);if(null!==x){var b=Si(e,"valuechangeCallbackScope",void 0);this.on("valuechange",x,b)}this.setEnable(Si(e,"enable",void 0)),this.setValue(Si(e,"value",0))}setEnable(t){return this.childrenMap.slider?this:(void 0===t&&(t=!0),this.childrenMap.slider.enable=t,this)}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,e,i){return void 0!==e&&(t=Pi(t,e,i)),this.value=t,this}addValue(t,e,i){return void 0!==e&&(t=Pi(t,e,i)),this.value+=t,this}getValue(t,e){var i=this.value;return void 0!==t&&(i=Mi(t,e,i)),i}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}};r.register("numberBar",function(t){return new Ti(this.scene,t)}),Object(h.a)(window,"RexPlugins.UI.NumberBar",Ti);const ki=Phaser.Utils.Objects.IsPlainObject,Ii=Phaser.Display.Align.TOP_LEFT;var _i=function(t,e,i,s,r){if(ki(e)){var n=e;e=GetValue(n,"key",0),i=GetValue(n,"align",Ii),s=GetValue(n,"padding",0),r=GetValue(n,"expand",!1)}return"string"==typeof i&&(i=at[i]),void 0===i&&(i=ALIGN_CENTER),void 0===s&&(s=0),void 0===r&&(r=!1),(n=this.getSizerConfig(t)).parent=this,n.align=i,n.padding=U(s),n.expand=r,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this},ji=function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},Ei=function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(this.remove(e),0===this.swapMode?(e.setVisible(!1),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var i=this.currentPage;return i&&(i.setVisible(!0),this.emit("pagevisible",i,this._currentKey,this),this.add(i).layout()),this},zi=function(){if(!this.visible)return 0;var t,e,i,s,r=0,n=this.sizerChildren.entries;for(var h in n)s=(t=n[h]).visible,t.visible=!0,i=t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width,i+=(e=t.rexSizer.padding).left+e.right,r=Math.max(i,r),t.visible=s;return r},Ri=function(){if(!this.visible)return 0;var t,e,i,s,r=0,n=this.sizerChildren.entries;for(var h in n)s=(t=n[h]).visible,t.visible=!0,i=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height,i+=(e=t.rexSizer.padding).top+e.bottom,r=Math.max(i,r),t.visible=s;return r},Yi=function(t){void 0===t&&(t=[]);var e,i=this.sizerChildren.entries;for(var s in i)(e=i[s]).isRexSizer&&t.push(e);return t},Xi=function(t,e){var i,s=e.rexSizer,r=s.padding;return s.expand&&(i=t.width-r.left-r.right),i},Li=function(t,e){var i,s=e.rexSizer,r=s.padding;return s.expand&&(i=t.height-r.top-r.bottom),i};const Hi=Phaser.Display.Align.In.QuickSet;var Di=function(t,e,i){if(!this.visible)return this;var s,r,n;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var h,a,o,l,d,u,c=this.left,p=this.top;(s=this.currentPage)&&(n=(r=s.rexSizer).padding,s.isRexSizer?s.layout(this,Xi(this,s),Li(this,s)):(d=void 0,u=void 0,r.expand&&(u=this.height-n.top-n.bottom,d=this.width-n.left-n.right),tt(s,d,u)),h=c+n.left,o=this.width-n.left-n.right,a=p+n.top,l=this.height-n.top-n.bottom,et.a.setPosition(h,a).setSize(o,l),Hi(s,et.a,r.align),this.resetChildState(s));for(var g=0,v=this.backgroundChildren.length;g<v;g++)(s=this.backgroundChildren[g]).visible&&(h=c+(n=(r=s.rexSizer).padding).left,a=p+n.top,o=this.width-n.left-n.right,l=this.height-n.top-n.bottom,tt(s,o,l),et.a.setPosition(h,a).setSize(o,l),Hi(s,et.a,r.align),this.resetChildState(s));return this},Vi=function(){this._childrenWidth=void 0,this._childrenHeight=void 0};const Bi=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,Ai=Phaser.Structs.Map,Fi=Phaser.Display.Align.CENTER;class Gi extends G{constructor(t,e,i,s,r,n){Bi(e)?(e=Wi(n=e,"x",0),i=Wi(n,"y",0),s=Wi(n,"width",void 0),r=Wi(n,"height",void 0)):Bi(s)&&(s=Wi(n=s,"width",void 0),r=Wi(n,"height",void 0)),super(t,e,i,s,r,n),this.type="rexPages",this._previousKey=void 0,this._currentKey=void 0,this.sizerChildren=new Ai,this.backgroundChildren=[],this.setSwapMode(Wi(n,"swapMode",0)),this.addChildrenMap("pages",this.sizerChildren.entries)}destroy(t){this.scene&&(this.sizerChildren.clear(),this.backgroundChildren.length=0,super.destroy(t))}setSwapMode(t){return"string"==typeof t&&(t=Ui[t]),this.swapMode=t,this}addBackground(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=Fi,i.padding=U(e),i.expand=!0,this.backgroundChildren.push(t),this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return this.sizerChildren.keys()}}var Ni={addPage:_i,getPage:ji,swapPage:Ei,getChildrenWidth:zi,getChildrenHeight:Ri,getChildrenSizers:Yi,layout:Di,_layoutInit:Vi};Object.assign(Gi.prototype,Ni);const Ui={invisible:0,destroy:1};var Zi=Gi;r.register("pages",function(t,e,i,s,r){return new Zi(this.scene,t,e,i,s,r)}),Object(h.a)(window,"RexPlugins.UI.Pages",Zi);var Ji=i(116),Ki=function(t,e,i){var s=t.padding;e-=s.left+s.right,i-=s.top+s.bottom;var r=t.style;r.wordWrapWidth=e;var n=r.metrics.fontSize+r.strokeThickness,h=t.lineSpacing,a=Math.floor((i-h)/(n+h));t.setMaxLines(a)},Qi=function(t,e,i){Object(Ji.a)(t)&&Ki(t,e,i)};const qi=Phaser.Display.Align.In.QuickSet;var $i=function(t,e,i){if(!this.visible)return this;var s,r,n;this.layoutInit(t),void 0===e&&(e=this.minWidth),void 0===i&&(i=this.minHeight),this.resize(e,i);var h,a,o,l,d=this.left,u=this.top;(s=this.textChild)&&s.visible&&(h=d+(n=(r=s.rexSizer).padding).left,a=u+n.top,o=this.width-n.left-n.right,l=this.height-n.top-n.bottom,Qi(s,o,l),et.a.setPosition(h,a).setSize(o,l),qi(s,et.a,r.align),this.resetChildState(s));for(var c=0,p=this.backgroundChildren.length;c<p;c++)(s=this.backgroundChildren[c]).visible&&(h=d+(n=(r=s.rexSizer).padding).left,a=u+n.top,o=this.width-n.left-n.right,l=this.height-n.top-n.bottom,tt(s,o,l),et.a.setPosition(h,a).setSize(o,l),qi(s,et.a,r.align),this.resetChildState(s));return this};const ts=Phaser.Utils.Objects.IsPlainObject,es=Phaser.Utils.Objects.GetValue,is=Phaser.Display.Align.CENTER,ss=Phaser.Display.Align.TOP_LEFT;class rs extends G{constructor(t,e,i,s,r,n,h){ts(e)?(e=es(h=e,"x",0),i=es(h,"y",0),s=es(h,"width",void 0),r=es(h,"height",void 0),n=es(h,"text",void 0)):ts(s)&&(s=es(h=s,"width",void 0),r=es(h,"height",void 0),n=es(h,"text",void 0)),super(t,e,i,s,r,h),this.type="rexTextRegion",this.textChild=void 0,this.backgroundChildren=[],n&&this.addText(n,es(h,"padding",void 0))}destroy(t){this.scene&&(this.backgroundChildren.length=0,super.destroy(t))}addText(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=ss,i.padding=U(e),i.expand=!0,this.textChild=t,this}addBackground(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=is,i.padding=U(e),i.expand=!0,this.backgroundChildren.push(t),this}}var ns={layout:$i};Object.assign(rs.prototype,ns);var hs=rs;r.register("textRegion",function(t,e,i,s,r,n){return new hs(this.scene,t,e,i,s,r,n)}),Object(h.a)(window,"RexPlugins.UI.TextRegion",hs);e.default=class extends Phaser.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.add=new r(t)}}},24:function(t,e,i){"use strict";const s=Phaser.GameObjects.Zone,r=Phaser.GameObjects.Components,n=Phaser.Math.RotateAround,h=Phaser.Utils.Array;class a extends s{constructor(t,e,i,s,r,n){Array.isArray(s)&&(n=s,s=void 0),super(t,e,i,s,r),this.children=t.add.group(),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._flipX=!1,this._flipY=!1,this._alpha=1,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,n&&this.add(n)}destroy(t){this.scene&&(this.children.destroy(!0),this.children=void 0,super.destroy(t))}add(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this}addMultiple(t){return t.forEach(this._add,this),this}remove(t){return this.children.remove(t),this}clear(){return this.children.clear(),this}getChildren(){return this.children.getChildren()}getAllChildren(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),s=0,r=i.length;s<r;s++)e=i[s],t.push(e),e.hasOwnProperty("isRexContainerLite")&&t.push(...e.getAllChildren());return t}contains(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),s=0,r=i.length;s<r;s++)if((e=i[s]).isRexContainerLite&&e.contains(t))return!0;return!1}worldToLocal(t){return t.x-=this.x,t.y-=this.y,n(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t}localToWorld(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,n(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this}updateChildVisible(t){return t.visible=this.visible&&this.getLocalState(t).visible,this}updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this}updateChildMask(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)}updateChildScrollFactor(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this}syncPosition(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this}syncVisible(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this}syncAlpha(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this}syncMask(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this}syncScrollFactor(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncMask(),this}getLocalState(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer}resetChildState(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=o(t.scaleX,this.scaleX),e.scaleY=o(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,e.alpha=o(t.alpha,this.alpha),e.visible=t.visible,this}setChildLocalPosition(t,e,i){var s=this.getLocalState(t);return s.x=e,s.y=i,this.updateChildPosition(t),this}_add(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildScrollFactor(t).updateChildMask(t),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}get visible(){return super.visible}set visible(t){this.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return this._alpha}set alpha(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}setMask(t){return this.mask=t,this}clearMask(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children.getChildren()}getByName(t){return h.GetFirst(this.list,"name",t)}getRandom(t,e){return h.GetRandom(this.list,t,e)}getFirst(t,e,i,s){return h.GetFirstElement(this.list,t,e,i,s)}getAll(t,e,i,s){return h.GetAll(this.list,t,e,i,s)}count(t,e,i,s){return h.CountAllMatching(this.list,t,e,i,s)}swap(t,e){return h.Swap(this.list,t,e),this}moveTo(t,e){return h.MoveTo(this.list,t,e),this}setAll(t,e,i,s){return h.SetAll(this.list,t,e,i,s),this}resize(t,e){return this.setSize(t,e),this.updateDisplayOrigin(),this}}Object.assign(a.prototype,r.Alpha,r.Flip);var o=function(t,e){return t===e?1:t/e};e.a=a},3:function(t,e,i){"use strict";const s=Phaser.Scene;var r=function(t){return t instanceof s};e.a=function(t){return r(t)?t:t.scene&&r(t.scene)?t.scene:t.parent&&t.parent.scene&&r(t.parent.scene)?t.parent.scene:void 0}},4:function(t,e,i){"use strict";var s=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"==typeof t)if(s(e)){if(null==i)return;"object"==typeof i&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var r=e.pop();((function(t,e,i){void 0===i&&(i={});var r=t;if(s(e));else{var n;"string"==typeof e&&(e=e.split("."));for(var h=0,a=e.length;h<a;h++){var o;null!=r[n=e[h]]&&"object"==typeof r[n]||(o=h===a-1?i:{},r[n]=o),r=r[n]}}return r})(t,e))[r]=i}}},41:function(t,e,i){"use strict";const s=Phaser.Events.EventEmitter,r=Phaser.Utils.Objects.GetValue;var n=class extends s{constructor(t){super();var e=r(t,"states",void 0);e&&this.addStates(e);var i=r(t,"extend",void 0);if(i)for(var s in i)this.hasOwnProperty(s)&&void 0!==this[s]||(this[s]=i[s]);this._stateLock=!1,this.resetFromJSON(t)}resetFromJSON(t){this.setEnable(r(t,"enable",!0)),this.start(r(t,"start",void 0));var e=r(t,"init",void 0);return e&&e.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}set state(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var s="enter_"+this._state,r=this[s];r&&r.call(this),this.emit(s,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return null!=t&&(this.state=t),this}next(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}addState(t,e){var i=r(e,"next",void 0);i&&(this["next_"+t]=i);var s=r(e,"exit",void 0);s&&(this["exit_"+t]=s);var n=r(e,"enter",void 0);return n&&(this["enter_"+t]=n),this}addStates(t){for(var e in t)this.addState(e,t[e]);return this}update(t,e,i){void 0===i&&(i="update");var s=this[i+"_"+this.state];s&&s.call(this,t,e)}preupdate(t,e){this.update(t,e,"preupdate")}postupdate(t,e){this.update(t,e,"postupdate")}};e.a=n},42:function(t,e,i){"use strict";var s=i(3);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Objects.GetAdvancedValue;const h={stop:0,destroy:1,yoyo:2};var a=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setMode(r(t,"mode",0)),this.setScaleRange(n(t,"start",void 0),n(t,"end",0)),this.setDelay(n(t,"delay",0)),this.setFadeOutTime(n(t,"duration",1e3)),this.setEase(r(t,"ease",void 0)),this}toJSON(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setMode(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}setScaleRange(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=r(t,"x",this.gameObject.scaleX),this.scaleStart.y=r(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=r(e,"x",this.scaleStart.x),this.scaleEnd.y=r(e,"y",this.scaleStart.y)),this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}setEase(t){return void 0===t&&(t="Linear"),this.ease=t,this}start(){return this.tween?this:(this.gameObject.scaleX=this.scaleStart.x,this.gameObject.scaleY=this.scaleStart.y,this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}stop(){return this.tween?(this.tween.stop(),this.tween=void 0,this):this}complete(){1===this.mode&&this.gameObject.destroy()}};e.a=a},5:function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},53:function(t,e,i){"use strict";var s=i(3);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Objects.GetAdvancedValue;const h={stop:0,destroy:1,yoyo:2};var a=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setMode(r(t,"mode",0)),this.setAlphaRange(n(t,"start",this.gameObject.alpha),n(t,"end",0)),this.setDelay(n(t,"delay",0)),this.setFadeOutTime(n(t,"duration",1e3)),this}toJSON(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setMode(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}setAlphaRange(t,e){return this.alphaStart=t,this.alphaEnd=e,this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}start(){return this.tween?this:0===this.duration?(this.gameObject.alpha=this.alphaEnd,this.stop(),this.complete(),this):(this.gameObject.alpha=this.alphaStart,this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}stop(){return this.tween?(this.tween.stop(),this.tween=void 0,this):this}complete(){1===this.mode&&this.gameObject.destroy()}};e.a=a},56:function(t,e,i){"use strict";var s=i(24),r=i(5);var n=class{constructor(t,e){this.container=null,this.data=null,this.setParent(t),this._deltaHeight=0}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(){var t=this.parent;0!==this.deltaHeight&&t.nonZeroDeltaHeightCount--,this.cleanData(),this.destroyContainer(),this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}destroyContainer(){this.container&&(this.container.destroy(),this.container=null)}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}setXY(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}setData(t,e){return this.data||(this.data={}),this.data[t]=e,this}getData(t,e){this.data||(this.data={});var i=this.data;return i.hasOwnProperty(t)?i[t]:e}cleanData(){this.data&&Object(r.a)(this.data)}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}get height(){var t=this.parent;return this.deltaHeight+t.defaultCellHeight}set height(t){var e,i=this.parent;e=void 0===t?0:t-i.defaultCellHeight,this.setDeltaHeight(e)}setHeight(t){return this.height=t,this}get width(){return this.parent.defaultCellWidth}get scene(){return this.parentContainer.scene}},h=i(10);const a=Phaser.Utils.Objects.GetValue,o=Phaser.Utils.Array.SpliceOne;var l=new h.a;var d=class{constructor(t,e){this.parent=t,this.cells=[],this.resetFromJSON(e)}resetFromJSON(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(a(t,"cellHeight",30)),this.setDefaultCellWidth(a(t,"cellWidth",30)),this.initCells(a(t,"cellsCount",0)),this.setColumnCount(a(t,"columns",1)),this}destroy(){for(var t=0,e=this.cells.length;t<e;t++)this.freeCell(this.cells[t]);this.cells=void 0,this.parent=void 0}get nonZeroDeltaHeightCount(){return this._nonZeroDeltaHeightCount}set nonZeroDeltaHeightCount(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}get defaultCellHeightMode(){return 0===this.nonZeroDeltaHeightCount}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}insertNewCell(t,e){var i=this.cells;if(t===i.length){var s=t+e;i.legth=s;for(var r=t;r<s;r++)i[r]=null}else{var n=[];for(n.length=e,r=0;r<e;r++)n[r]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCell(t,e){for(var i=t+e,s=t;s<i;s++)this.freeCell(s);return i===this.cells.length?this.cells.length=t:(1===e?o(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return i=e?Math.ceil(i):Math.floor(i)}var s,r=this.rowCount,n=t;for(i=0;;){if(n-=this.getRowHeight(i),s=i>=0&&i<r,!(n>0&&s)){if(0===n)return i;if(e){var h=i;(s=(i+=1)>=0&&i<r)||(i=h)}return i}i+=1}}widthToColIndex(t,e){var i=t/this.defaultCellWidth;return i=e?Math.ceil(i):Math.floor(i)}colRowToCellIndex(t,e){return t>=this.colCount?null:e*this.colCount+t}rowIndexToHeight(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,s=t;s<=e;s++)i+=this.getRowHeight(s);return i}colIndexToWidth(t,e){return(e-t+1)*this.defaultCellWidth}getRowHeight(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,s=0,r=0;r<e;r++)s<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(s=i);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),s=i?i.deltaHeight:0;e=this.defaultCellHeight+s}return e}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}newCell(t){var e=l.pop();return null===e?e=new n(this):e.setParent(this),e.index=t,e}buildCellIndex(t){void 0===t&&(t=0);for(var e,i=this.cells,s=t,r=i.length;s<r;s++)(e=i[s])&&(e.index=s);return this}getParentContainer(){return this.parent}freeCell(t){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(),l.push(t),this):this}},u=i(66);const c=s.a,p=Phaser.GameObjects.Components,g=Phaser.Structs.Set,v=Phaser.Utils.Objects.GetValue,x=Phaser.Math.Clamp;class b extends c{constructor(t,e,i,s,r,n){super(t,e,i,s,r),this.type="rexGridTable",this.updateFlag=!0,this._tableOX=0,this._tableOY=0,this.visibleCells=new g,this.preVisibleCells=new g,this.visibleStartX=null,this.visibleEndX=null,this.visibleStartY=null,this.visibleEndY=null,this.lastVisibleCellIdx=null,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var h=v(n,"cellVisibleCallback",null);if(null!==h){var a=v(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",h,a)}if(null!==(h=v(n,"cellInvisibleCallback",null))){a=v(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",h,a)}var o=v(n,"mask",!0);!0===o&&(o=this.getDefaultMask()),o&&this.setMask(o),this.setScrollMode(v(n,"scrollMode",0)),this.setClampMode(v(n,"clamplTableOXY",!0)),this.table=new d(this,n),this.updateTable()}destroy(t){this.scene&&(this.setCellsCount(0),this.table.destroy(),this.table=void 0,super.destroy(t))}setScrollMode(t){"string"==typeof t&&(t=f[t.toLowerCase()]),this.scrollMode=t}setClampMode(t){return this.clampTableOXYMode=t,this}setCellsCount(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}setColumnCount(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this.updateFlag=!0,this)}setGridSize(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}insertNewCell(t,e){return"object"==typeof t&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=x(t,0,this.cellsCount),this.table.insertNewCell(t,e),t<=this.lastVisibleCellIdx&&(this.updateFlag=!0),this)}removeCell(t,e){if("object"==typeof t&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,s=this.preVisibleCells,r=this.visibleCells,n=t,h=t+e;n<h;n++)(i=this.getCell(n,!1))&&(r.contains(i)&&(this.hideCell(i),this.updateFlag=!0,r.delete(i)),s.delete(i));return this.table.removeCell(t,e),this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){var e=this.table,i=this.topTableOY,s=this.bottomTableOY,r=this.tableOYExceedTop(t),n=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:n&&(t=s));this._tableOY!==t&&(this.updateFlag=!0,this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,n&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=n}set tableOX(t){var e=this.table,i=this.leftTableOX,s=this.rightTableOX,r=this.tableOXExeceedLeft(t),n=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:n&&(t=s));this._tableOX!==t&&(this.updateFlag=!0,this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,n&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=n}setTableOY(t){return this.tableOY=t,this}setTableOX(t){return this.tableOX=t,this}setTableOXY(t,e){return this.tableOX=t,this.tableOY=e,this}addTableOX(t){return this.tableOX+=t,this}addTableOY(t){return this.tableOY+=t,this}addTableOXY(t,e){return this.tableOX+=t,this.tableOY+=e,this}setTableOYByPercentage(t){return t=x(t,0,1),this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){return this.tableOY/-this.tableVisibleHeight}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}updateTable(t){return t&&(this.updateFlag=!0),this.updateFlag?(this.updateFlag=!1,t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this):this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,e){"number"==typeof t&&(this.table.getCell(t,!0).height=e);return this}pointerToCellIndex(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),s=this.tableOX-(0===this.scrollMode?t:e),r=this.table,n=r.heightToRowIndex(-i),h=r.widthToColIndex(-s),a=r.colRowToCellIndex(h,n);return null===a?null:this.cellIsVisible(a)?a:null}pointerToCellContainer(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}cellIsVisible(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}eachVisibleCell(t,e){return this.visibleCells.each(t,e),this}iterateVisibleCell(t,e){return this.visibleCells.iterate(t,e),this}getDefaultMask(){var t=new u.a(this);return this.add(t),t.createGeometryMask()}resize(t,e){if(super.resize(t,e),this.updateTable(!0),this.mask){var i=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;i.resize?i.resize(t,e):(i.displayWidth=t,i.displayHeight=e)}return this}clearVisibleCellIndexes(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}showCells(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var s=t.colRowToCellIndex(i,e),r=this.bottomBound,n=this.rightBound,h=t.cellsCount-1,a=t.colCount-1,o=this.getTLX(i),l=o,d=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;d<r&&s<=h;){if(this.table.isValidCellIdx(s)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=s),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<s&&(this.lastVisibleCellIdx=s);var u=t.getCell(s,!0);this.visibleCells.set(u),this.preVisibleCells.contains(u)||this.showCell(u),0===this.scrollMode?u.setXY(l,d):u.setXY(d,l)}l<n&&i<a?(l+=t.getColWidth(i),i+=1):(l=o,d+=t.getRowHeight(e),i=this.visibleStartX,e+=1),s=t.colRowToCellIndex(i,e)}}}showCell(t){this.emit("cellvisible",t)}hideCells(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}hideCell(t){this.emit("cellinvisible",t),t.destroyContainer()}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}tableOYExceedTop(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}tableOYExeceedBottom(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}tableOXExeceedLeft(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}tableOXExeceedRight(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}get tableVisibleHeight(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}get tableVisibleWidth(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:t}get bottomLeftY(){return-this.displayHeight*this.originY+this.displayHeight}get topRightX(){return-this.displayWidth*this.originX+this.displayWidth}get topLeftX(){return-this.displayWidth*this.originX}get topLeftY(){return-this.displayHeight*this.originY}get bottomBound(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}get rightBound(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}getTLX(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}getTLY(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}}Object.assign(b.prototype,p.GetBounds);const f={v:0,vertical:0,h:1,horizontal:1};e.a=b},57:function(t,e,i){"use strict";const s=Phaser.Utils.Objects.GetValue;var r=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},n=class{constructor(t,e,i,s,r){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,e,i,s,r)}setTo(t,e,i,s,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,s),this}setPosition(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}setRadius(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=s(t,"x",0),i=s(t,"y",0));var n=this.cornerRadius;return n.tl=r(s(t,"tl",void 0),e,i),n.tr=r(s(t,"tr",void 0),e,i),n.bl=r(s(t,"bl",void 0),e,i),n.br=r(s(t,"br",void 0),e,i),this}setSize(t,e){return this.width=t,this.height=e,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}},h=function(t,e,i){var s=i.length;if(s>=2){var r=i[s-2],n=i[s-1];if(t===r&&e===n)return i}return i.push(t,e),i},a=i(11),o=i.n(a);const l=Phaser.Utils.Objects.GetValue;var d=function(t,e,i,s,r,n,a,d){var u,c,p,g=l(i,"x",i),v=l(i,"y",i);n&&(r+=360),s=o()(s);for(var x=((r=o()(r))-s)/a,b=0;b<=a;b++)p=s+x*b,u=t+g*Math.cos(p),c=e+v*Math.sin(p),h(u,c,d);return d},u=i(112),c=i.n(u),p=i(111),g=i.n(p),v=i(110),x=i.n(v),b=function(t,e,i,s,r){var n=this.pipeline,h=n._tempMatrix1,a=n._tempMatrix2,o=n._tempMatrix3;t.setPipeline(n),a.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(s.matrix),r?(h.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),a.e=e.x,a.f=e.y):(a.e-=s.scrollX*e.scrollFactorX,a.f-=s.scrollY*e.scrollFactorY),h.multiply(a,o);var l=e._displayOriginX,d=e._displayOriginY,u=s.alpha*e.alpha;e.isFilled&&g()(n,o,e,u,l,d),e.isStroked&&x()(n,e,u,l,d)},f=i(109),m=i.n(f),y=i(108),C=i.n(y);const w=Phaser.Renderer.Canvas.SetTransform;var O=function(t,e,i,s,r){var n=t.currentContext;if(w(t,n,e,s,r)){var h=e._displayOriginX,a=e._displayOriginY,o=e.pathData,l=o.length-1,d=o[0]-h,u=o[1]-a;n.beginPath(),n.moveTo(d,u),e.closePath||(l-=2);for(var c=2;c<l;c+=2){var p=o[c]-h,g=o[c+1]-a;n.lineTo(p,g)}n.closePath(),e.isFilled&&(m()(n,e),n.fill()),e.isStroked&&(C()(n,e),n.stroke())}},S=i(8),P=(S.a,S.a,{renderWebGL:b,renderCanvas:O});const M=Phaser.Utils.Objects.GetValue;class T extends Phaser.GameObjects.Shape{constructor(t,e,i,s,r,h,a,o){void 0===e&&(e=0),void 0===i&&(i=0);var l=M(h,"iteration",void 0);h=M(h,"radius",h),super(t,"RoundRectangle",new n(0,0,s,r,h)),this.setIteration(l),this.setPosition(e,i),void 0!==a&&this.setFillStyle(a,o),this.updateDisplayOrigin(),this.updateData()}updateData(){var t=this.geom,e=this.pathData;e.length=0;var i,s=t.cornerRadius,r=this.iteration+1;if(i=s.br,k(i)){var n=t.width-i.x,a=t.height-i.y;d(n,a,i,0,90,!1,r,e)}else h(t.width,t.height,e);if(i=s.bl,k(i)){n=i.x,a=t.height-i.y;d(n,a,i,90,180,!1,r,e)}else h(0,t.height,e);if(i=s.tl,k(i)){n=i.x,a=i.y;d(n,a,i,180,270,!1,r,e)}else h(0,0,e);if(i=s.tr,k(i)){n=t.width-i.x,a=i.y;d(n,a,i,270,360,!1,r,e)}else h(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=c()(e),this}get width(){return this.geom.width}set width(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}get height(){return this.geom.height}set height(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}resize(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e?this:(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}get iteration(){return this._iteration}set iteration(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}setRadius(t){return void 0===t&&(t=0),this.radius=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}}var k=function(t){return 0!==t.x&&0!==t.y};Object.assign(T.prototype,P);e.a=T},66:function(t,e,i){"use strict";const s=Phaser.GameObjects.Graphics;const r={rectangle:0,circle:1};e.a=class extends s{constructor(t,e){void 0===e&&(e=0),"string"==typeof e&&(shaep=r[e]),super(t.scene,{x:t.x,y:t.y}),this.parent=t,this.shape=e,this.resize()}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,e){return void 0===t&&(t=this.parent.x),void 0===e&&(e=this.parent.y),super.setPosition(t,e),this}resize(){var t=this.parent;if(this.widthSave===t.width&&this.heightSave===t.height)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var e=Math.min(t.width/2,t.height/2);this.fillCircle(0,0,e);break;default:this.fillRect(-t.width*t.originX,-t.height*t.originY,t.width,t.height)}return this.widthSave=t.width,this.heightSave=t.height,this}}},71:function(t,e,i){"use strict";var s=new Phaser.Geom.Rectangle;e.a=function(t){var e=t.sys.game.config;return s.setTo(0,0,e.width,e.height),s}},79:function(t,e,i){"use strict";var s=i(3);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Distance.Between;var a=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.setEnable(n(t,"enable",!0)),this.holdThreshold=n(t,"holdThreshold",50),this}boot(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}shutdown(){super.shutdown(),this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return void 0===this.pointer}get justMoved(){return this.pointer&&this.pointer.justMoved}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){return this.scene.sys.game.loop.delta}get speed(){return this.x===this.preX&&this.y===this.preY?0:h(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}get speedX(){return this.dx/(.001*this.dt)}get speedY(){return this.dy/(.001*this.dt)}onPointIn(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}onPointOut(t){this.pointer===t&&(this.pointer=void 0)}onPointerMove(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}preupdate(t,e){var i=this.pointer;i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}};e.a=a},8:function(t,e,i){"use strict";e.a=function(){}}}).default});