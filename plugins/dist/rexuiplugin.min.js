!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexuiplugin=e():t.rexuiplugin=e()}(window,function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=140)}({137:function(t,e){},140:function(t,e,i){"use strict";i.r(e);class r{constructor(t){this.scene=t}static register(t,e){r.prototype[t]=e}}var n=r,s=i(19),h=function(){if(!this.visible)return 0;var t,e,i,r=0,n=this.sizerChildren;if(0===this.orientation)for(var s=0,h=n.length;s<h;s++)(t=n[s]).visible&&(i=t.isRexSizer?0===t.rexSizer.proportion?t.childrenWidth:0:0===t.rexSizer.proportion?t.width:0,r+=i+=(e=t.rexSizer.padding).left+e.right);else for(s=0,h=n.length;s<h;s++)(t=n[s]).hasOwnProperty("rexSizer")&&t.visible&&(i=t.isRexSizer?t.childrenWidth:t.width,i+=(e=t.rexSizer.padding).left+e.right,r=Math.max(i,r));return r=Math.max(r,this.minWidth)},o=function(){if(!this.visible)return 0;var t,e,i,r=0,n=this.sizerChildren;if(0===this.orientation)for(var s=0,h=n.length;s<h;s++)(t=n[s]).visible&&(i=t.isRexSizer?t.childrenHeight:t.height,i+=(e=t.rexSizer.padding).top+e.bottom,r=Math.max(i,r));else for(s=0,h=n.length;s<h;s++)(t=n[s]).hasOwnProperty("rexSizer")&&t.visible&&(i=t.isRexSizer?0===t.rexSizer.proportion?t.childrenHeight:0:0===t.rexSizer.proportion?t.height:0,r+=i+=(e=t.rexSizer.padding).top+e.bottom);return r=Math.max(r,this.minHeight)},a=function(){for(var t,e,i=0,r=this.sizerChildren,n=0,s=r.length;n<s;n++)(t=r[n]).visible&&(e=t.rexSizer.proportion)>0&&(i+=e);return i},l=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,r=0,n=i.length;r<n;r++)(e=i[r]).isRexSizer&&(t.push(e),t.push(...e.getAllChildrenSizer()));return t},d=i(4);const c=Phaser.GameObjects.Zone,u=Phaser.Display.Align.In.QuickSet;var p=new c({sys:{queueDepthSort:d.a,events:{once:d.a}}},0,0,1,1);p.setOrigin(0);var f=function(t){if(!this.visible)return this;if(void 0===t)for(var e=0,i=(m=this.getAllChildrenSizer([this])).length;e<i;e++)(d=m[e])._childrenWidth=void 0,d._childrenHeight=void 0,d._childrenProportion=void 0;var r,n,s,h,o,a=this.childrenProportion;if(t&&(this.rexSizer.expand&&(0===t.orientation?h=!0:s=!0),this.childrenProportion>0&&(0===this.orientation?s=!0:h=!0)),s){var l=this.rexSizer.padding;r=t.width-l.left-l.right}else r=this.childrenWidth;h?(l=this.rexSizer.padding,n=t.height-l.top-l.bottom):n=this.childrenHeight;this.resize(r,n),o=a>0&&void 0!==t?(0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight)/a:0;var d,c,f,x,g,v,y,b,m=this.sizerChildren,C=this.x-this.displayWidth*this.originX,P=this.y-this.displayHeight*this.originY,S=C,w=P;for(e=0,i=m.length;e<i;e++)if((d=m[e]).visible){if(l=(c=d.rexSizer).padding,d.isRexSizer&&d.layout(this),y=void 0,b=void 0,0===this.orientation){switch(c.proportion){case 0:f=S+l.left,S+=(g=d.width)+l.left+l.right;break;case-1:f=C+l.left,y=g=this.width-l.left-l.right;break;default:f=S+l.left,S+=(g=c.proportion*o)+l.left+l.right}x=P+l.top,v=this.height-l.top-l.bottom,c.expand&&(b=v)}else{switch(c.proportion){case 0:x=w+l.top,w+=(v=d.height)+l.top+l.bottom;break;case-1:x=P+l.top,b=v=this.height-l.top-l.bottom;break;default:x=w+l.top,w+=(v=c.proportion*o)+l.top+l.bottom}f=C+l.left,g=this.width-l.left-l.right,c.expand&&(y=g)}void 0===y&&void 0===b||d.isRexSizer||(d.resize?(void 0===y&&(y=d.width),void 0===b&&(b=d.height),d.resize(y,b)):(void 0!==y&&(d.displayWidth=y),void 0!==b&&(d.displayHeight=b))),p.setPosition(f,x).setSize(g,v),u(d,p,c.align),this.resetChildState(d)}return this},x=function(t,e){void 0===e&&(e=16777215);for(var i=this.getAllChildren([this]),r=0,n=i.length;r<n;r++)t.lineStyle(1,e).strokeRectShape(i[r].getBounds());return this},g={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1};const v=s.a,y=Phaser.Utils.Objects.IsPlainObject,b=Phaser.Utils.Objects.GetValue,m=Phaser.Utils.Array.Remove,C=Phaser.Display.Align.CENTER;class P extends v{constructor(t,e,i,r,n,s){var h;y(e)?(e=b(h=e,"x",0),i=b(h,"y",0),r=b(h,"width",void 0),n=b(h,"height",void 0)):y(r)?(r=b(h=r,"width",void 0),n=b(h,"height",void 0)):y(s)&&(h=s),void 0!==h&&(s=b(h,"orientation",0)),super(t,e,i,2,2),this.type="rexSizer",this.isRexSizer=!0,this.sizerChildren=[],this.setOrientation(s),this.setMinWidth(r),this.setMinHeight(n)}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=g[t]),this.orientation=t,this}setExtendFlag(t){return void 0===t&&(t=!0),this.expandFlag=t,this}add(t,e,i,r,n){super.add(t);var s=typeof e;if(null===e)return this;if("number"===s);else if("string"===s)e=_[e];else if(y(e)){e=b(h=e,"proportion",0),i=b(h,"align",C),r=b(h,"padding",0),n=b(h,"expand",!1)}"string"==typeof i&&(i=w[i]),void 0===e&&(e=0),void 0===i&&(i=C),void 0===r&&(r=0),void 0===n&&(n=!1);var h,o={};return"number"==typeof r?(o.left=r,o.right=r,o.top=r,o.bottom=r):(o.left=b(r,"left",0),o.right=b(r,"right",0),o.top=b(r,"top",0),o.bottom=b(r,"bottom",0)),(h=this.getSizerConfig(t)).proportion=e,h.align=i,h.padding=o,h.expand=n,this.sizerChildren.push(t),this}remove(t){return m(this.sizerChildren,t),super.remove(t),this}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}resize(t,e){return this.setSize(t,e),this.updateDisplayOrigin(),this}getSizerConfig(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get childrenProportion(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}var S={getChildrenWidth:h,getChildrenHeight:o,getChildrenProportion:a,getAllChildrenSizer:l,layout:f,drawBounds:x};Object.assign(P.prototype,S);const w={center:Phaser.Display.Align.CENTER,left:Phaser.Display.Align.LEFT_CENTER,right:Phaser.Display.Align.RIGHT_CENTER,top:Phaser.Display.Align.TOP_CENTER,bottom:Phaser.Display.Align.BOTTOM_CENTER},_={min:0,full:-1};var z=P,M=i(8);n.register("sizer",function(t,e,i,r,n){return this.scene.sys.displayList.add(new z(this.scene,t,e,i,r,n))}),Object(M.a)(window,"RexPlugins.UI.Sizer",z);var R=i(137),O=i.n(R),k=function(t,e){var i;for(var r in void 0===e&&(e=[]),t)void 0!==(i=t[r]).name?e.push(i):k(i,e);return e};const X=/(\S+)\[(\d+)\]/i;var Y=[],A=function(t){if("string"==typeof t&&(t=t.split(".")),0!==t.length){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var r=0,n=(s=k(this.childrenMap,Y)).length;r<n;r++)if(s[r].name===i){e=s[r];break}Y.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var s,h=i.match(X);null!=h&&(s=this.childrenMap[h[1]])&&(e=s[h[2]])}return 0===t.length?e:e&&e.childrenMap?e.GetElement(t):null}};const F=Phaser.Utils.Objects.GetValue;class T extends z{constructor(t,e){void 0===e&&(e=E);var i=F(e,"x",0),r=F(e,"y",0),n=F(e,"width",0),s=F(e,"height",0);e.orientation=F(e,"orientation",0),super(t,i,r,n,s,e),t.add.existing(this),this.setName(F(e,"name",""));var h,o=F(e,"background",void 0),a=F(e,"icon",void 0),l=F(e,"text",void 0),d=F(e,"space.left",0),c=F(e,"space.right",0),u=F(e,"space.top",0),p=F(e,"space.bottom",0),f=F(e,"space.icon",0);(o&&this.add(o,-1,void 0,void 0,!0),a)&&(h=0===this.orientation?{left:d,right:l?f:c,top:u,bottom:p}:{left:d,right:c,top:u,bottom:l?f:p},this.add(a,0,"center",h));l&&(h=0===this.orientation?{left:a?0:d,right:c,top:u,bottom:p}:{left:d,right:c,top:a?0:u,bottom:p},this.add(l,0,"center",h));var x=F(e,"click",void 0);x&&this.addClickCallback(x,this),this.childrenMap={},this.childrenMap.background=o,this.childrenMap.icon=a,this.childrenMap.text=l}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}appendText(t){this.text+=t}}var j={addClickCallback:O.a,getElement:A};Object.assign(T.prototype,j);const E={};var D=T;n.register("label",function(t){return new D(this.scene,t)}),Object(M.a)(window,"RexPlugins.UI.Label",D);const W=Phaser.Utils.Objects.GetValue;class Z extends z{constructor(t,e){void 0===e&&(e=G);var i=W(e,"x",0),r=W(e,"y",0),n=W(e,"width",0),s=W(e,"height",0);e.orientation=1,super(t,i,r,n,s,e),t.add.existing(this);var h=W(e,"background",void 0),o=W(e,"title",void 0),a=W(e,"content",void 0),l=W(e,"buttons",void 0);l&&0===l.length&&(l=void 0);var d=W(e,"space.left",0),c=W(e,"space.right",0),u=W(e,"space.top",0),p=W(e,"space.bottom",0),f=W(e,"space.title",0),x=W(e,"space.content",0),v=W(e,"space.button",0);if(h&&this.add(h,-1,void 0,void 0,!0),o){var y={left:d,right:c,top:u,bottom:a||l?f:p};this.add(o,0,"center",y,!0)}if(a){y={left:d,right:c,top:o?0:u,bottom:l?x:p};this.add(a,0,"center",y)}if(l){var b,m,C=W(e,"buttonsOrientation",0);if("string"==typeof C&&(C=g[C]),0===C){b=new z(t,0,0,0,0,{orientation:0});y={left:d,right:c,top:o||a?0:u,bottom:p};this.add(b,0,"center",y,!0)}else b=this;for(var P=0,S=l.length;P<S;P++){if(m=l[P],0===C){y={left:P>=1?v:0,right:0,top:0,bottom:0};b.add(m,1,"center",y,!0)}else{y={left:d,right:c,top:P>=1?v:0,bottom:P===S-1?p:0};b.add(m,0,"center",y,!0)}m.setInteractive().on("pointerdown",L("button.click",m,P),this).on("pointerover",L("button.over",m,P),this).on("pointerout",L("button.out",m,P),this)}}this.childrenMap={},this.childrenMap.background=h,this.childrenMap.title=o,this.childrenMap.content=a,this.childrenMap.buttons=l}}var L=function(t,e,i){return function(){this.emit(t,e,i)}},H={getElement:A};Object.assign(Z.prototype,H);const G={};var U=Z;n.register("dialog",function(t){return new U(this.scene,t)}),Object(M.a)(window,"RexPlugins.UI.Dialog",U);var I=i(41).a;n.register("roundRectangle",function(t,e,i,r,n,s,h){return this.scene.sys.displayList.add(new I(this.scene,t,e,i,r,n,s,h))}),Object(M.a)(window,"RexPlugins.UI.RoundRectangle",I);e.default=class extends Phaser.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.add=new n(t)}}},19:function(t,e,i){"use strict";const r=Phaser.GameObjects.Zone,n=Phaser.GameObjects.Components,s=Phaser.Math.RotateAround,h=Phaser.Utils.Array;class o extends r{constructor(t,e,i,r,n,s){Array.isArray(r)&&(s=r,r=void 0),super(t,e,i,r,n),this.children=t.add.group(),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._flipX=!1,this._flipY=!1,this._alpha=1,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,s&&this.add(s)}destroy(t){this.scene&&(this.children.destroy(!0),this.children=void 0,super.destroy(t))}add(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this}addMultiple(t){return t.forEach(this._add,this),this}remove(t){return this.children.remove(t),this}clear(){return this.children.clear(),this}getChildren(){return this.children.getChildren()}getAllChildren(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),r=0,n=i.length;r<n;r++)e=i[r],t.push(e),e.hasOwnProperty("isRexContainerLite")&&t.push(...e.getAllChildren());return t}contains(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),r=0,n=i.length;r<n;r++)if((e=i[r]).isRexContainerLite&&e.contains(t))return!0;return!1}worldToLocal(t){return t.x-=this.x,t.y-=this.y,s(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t}localToWorld(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,s(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this}updateChildVisible(t){return t.visible=this.visible&&this.getLocalState(t).visible,this}updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this}updateChildMask(t){return this._mask!==t&&(t.mask=this._mask),this}updateChildScrollFactor(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this}syncPosition(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this}syncVisible(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this}syncAlpha(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this}syncMask(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this}syncScrollFactor(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncMask(),this}getLocalState(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer}resetChildState(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=a(t.scaleX,this.scaleX),e.scaleY=a(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,e.alpha=a(t.alpha,this.alpha),e.visible=t.visible,this}setChildLocalPosition(t,e,i){var r=this.getLocalState(t);return r.x=e,r.y=i,this.updateChildPosition(t),this}_add(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildScrollFactor(t).updateChildMask(t),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}get visible(){return super.visible}set visible(t){this.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return this._alpha}set alpha(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}setMask(t){return this.mask=t,this}clearMask(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children.getChildren()}getByName(t){return h.GetFirst(this.list,"name",t)}getRandom(t,e){return h.GetRandom(this.list,t,e)}getFirst(t,e,i,r){return h.GetFirstElement(this.list,t,e,i,r)}getAll(t,e,i,r){return h.GetAll(this.list,t,e,i,r)}count(t,e,i,r){return h.CountAllMatching(this.list,t,e,i,r)}swap(t,e){return h.Swap(this.list,t,e),this}moveTo(t,e){return h.MoveTo(this.list,t,e),this}setAll(t,e,i,r){return h.SetAll(this.list,t,e,i,r),this}}Object.assign(o.prototype,n.Alpha,n.Flip);var a=function(t,e){return t===e?1:t/e};e.a=o},4:function(t,e,i){"use strict";e.a=function(){}},41:function(t,e,i){"use strict";const r=Phaser.Utils.Objects.GetValue;var n=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},s=class{constructor(t,e,i,r,n){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,e,i,r,n)}setTo(t,e,i,r,n){return this.setPosition(t,e),this.setRadius(n),this.setSize(i,r),this}setPosition(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}setRadius(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=r(t,"x",0),i=r(t,"y",0));var s=this.cornerRadius;return s.tl=n(r(t,"tl",void 0),e,i),s.tr=n(r(t,"tr",void 0),e,i),s.bl=n(r(t,"bl",void 0),e,i),s.br=n(r(t,"br",void 0),e,i),this}setSize(t,e){return this.width=t,this.height=e,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}},h=function(t,e,i){var r=i.length;if(r>=2){var n=i[r-2],s=i[r-1];if(t===n&&e===s)return i}return i.push(t,e),i};const o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.DegToRad;var l=function(t,e,i,r,n,s,l,d){var c,u,p,f=o(i,"x",i),x=o(i,"y",i);s&&(n+=360),r=a(r);for(var g=((n=a(n))-r)/l,v=0;v<=l;v++)p=r+g*v,c=t+f*Math.cos(p),u=e+x*Math.sin(p),h(c,u,d);return d},d=i(87),c=i.n(d),u=i(86),p=i.n(u),f=i(85),x=i.n(f),g=function(t,e,i,r,n){var s=this.pipeline,h=s._tempMatrix1,o=s._tempMatrix2,a=s._tempMatrix3;t.setPipeline(s),o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(r.matrix),n?(h.multiplyWithOffset(n,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y):(o.e-=r.scrollX*e.scrollFactorX,o.f-=r.scrollY*e.scrollFactorY),h.multiply(o,a);var l=e._displayOriginX,d=e._displayOriginY,c=r.alpha*e.alpha;e.isFilled&&p()(s,a,e,c,l,d),e.isStroked&&x()(s,e,c,l,d)},v=i(84),y=i.n(v),b=i(83),m=i.n(b);const C=Phaser.Renderer.Canvas.SetTransform;var P=function(t,e,i,r,n){var s=t.currentContext;if(C(t,s,e,r,n)){var h=e._displayOriginX,o=e._displayOriginY,a=e.pathData,l=a.length-1,d=a[0]-h,c=a[1]-o;s.beginPath(),s.moveTo(d,c),e.closePath||(l-=2);for(var u=2;u<l;u+=2){var p=a[u]-h,f=a[u+1]-o;s.lineTo(p,f)}s.closePath(),e.isFilled&&(y()(s,e),s.fill()),e.isStroked&&(m()(s,e),s.stroke())}},S=i(4),w=(S.a,S.a,{renderWebGL:g,renderCanvas:P});const _=Phaser.Utils.Objects.GetValue;class z extends Phaser.GameObjects.Shape{constructor(t,e,i,r,n,h,o,a){void 0===e&&(e=0),void 0===i&&(i=0);var l=_(h,"iteration",void 0);h=_(h,"radius",h),super(t,"RoundRectangle",new s(0,0,r,n,h)),this.setIteration(l),this.setPosition(e,i),void 0!==o&&this.setFillStyle(o,a),this.updateDisplayOrigin(),this.updateData()}updateData(){var t=this.geom,e=this.pathData;e.length=0;var i,r=t.cornerRadius,n=this.iteration+1;if(i=r.br,M(i)){var s=t.width-i.x,o=t.height-i.y;l(s,o,i,0,90,!1,n,e)}else h(t.width,t.height,e);if(i=r.bl,M(i)){s=i.x,o=t.height-i.y;l(s,o,i,90,180,!1,n,e)}else h(0,t.height,e);if(i=r.tl,M(i)){s=i.x,o=i.y;l(s,o,i,180,270,!1,n,e)}else h(0,0,e);if(i=r.tr,M(i)){s=t.width-i.x,o=i.y;l(s,o,i,270,360,!1,n,e)}else h(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=c()(e),this}get width(){return this.geom.width}set width(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}get height(){return this.geom.height}set height(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}resize(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e?this:(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}get iteration(){return this._iteration}set iteration(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}setRadius(t){return void 0===t&&(t=0),this.radius=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}}var M=function(t){return 0!==t.x&&0!==t.y};Object.assign(z.prototype,w);e.a=z},8:function(t,e,i){"use strict";var r=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"==typeof t)if(r(e)){if(null==i)return;"object"==typeof i&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var n=e.pop();((function(t,e,i){void 0===i&&(i={});var n=t;if(r(e));else{var s;"string"==typeof e&&(e=e.split("."));for(var h=0,o=e.length;h<o;h++){var a;null!=n[s=e[h]]&&"object"==typeof n[s]||(a=h===o-1?i:{},n[s]=a),n=n[s]}}return n})(t,e))[n]=i}}},83:function(t,e){t.exports=function(t,e){var i=e.strokeColor,r=e.strokeAlpha,n=(16711680&i)>>>16,s=(65280&i)>>>8,h=255&i;t.strokeStyle="rgba("+n+","+s+","+h+","+r+")",t.lineWidth=e.lineWidth}},84:function(t,e){t.exports=function(t,e,i){var r=i||e.fillColor,n=e.fillAlpha,s=(16711680&r)>>>16,h=(65280&r)>>>8,o=255&r;t.fillStyle="rgba("+s+","+h+","+o+","+n+")"}},85:function(t,e){const i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,r,n,s){var h=t.strokeTint,o=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*r);h.TL=o,h.TR=o,h.BL=o,h.BR=o;var a=e.pathData,l=a.length-1,d=e.lineWidth,c=d/2,u=a[0]-n,p=a[1]-s;e.closePath||(l-=2);for(var f=2;f<l;f+=2){var x=a[f]-n,g=a[f+1]-s;t.setTexture2D(),t.batchLine(u,p,x,g,c,c,d,f-2,!!e.closePath&&f===l-1),u=x,p=g}}},86:function(t,e){const i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,r,n,s,h){for(var o=i.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*n),a=r.pathData,l=r.pathIndexes,d=0;d<l.length;d+=3){var c=2*l[d],u=2*l[d+1],p=2*l[d+2],f=a[c+0]-s,x=a[c+1]-h,g=a[u+0]-s,v=a[u+1]-h,y=a[p+0]-s,b=a[p+1]-h,m=e.getX(f,x),C=e.getY(f,x),P=e.getX(g,v),S=e.getY(g,v),w=e.getX(y,b),_=e.getY(y,b);t.setTexture2D(),t.batchTri(m,C,P,S,w,_,0,0,1,1,o,o,o,t.tintEffect)}}},87:function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,o,a,l,d,p,x,g=e&&e.length,v=g?e[0]*i:t.length,y=n(t,0,v,i,!0),b=[];if(!y)return b;if(g&&(y=function(t,e,i,r){var h,o,a,l,d,p=[];for(h=0,o=e.length;h<o;h++)a=e[h]*r,l=h<o-1?e[h+1]*r:t.length,(d=n(t,a,l,r,!1))===d.next&&(d.steiner=!0),p.push(f(d));for(p.sort(c),h=0;h<p.length;h++)u(p[h],i),i=s(i,i.next);return i}(t,e,y,i)),t.length>80*i){r=a=t[0],o=l=t[1];for(var m=i;m<v;m+=i)d=t[m],p=t[m+1],d<r&&(r=d),p<o&&(o=p),d>a&&(a=d),p>l&&(l=p);x=Math.max(a-r,l-o)}return h(y,b,i,r,o,x),b}function n(t,e,i,r,n){var s,h;if(n===_(t,e,i,r)>0)for(s=e;s<i;s+=r)h=P(s,t[s],t[s+1],h);else for(s=i-r;s>=e;s-=r)h=P(s,t[s],t[s+1],h);return h&&y(h,h.next)&&(S(h),h=h.next),h}function s(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!y(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(S(r),(r=e=r.prev)===r.next)return null;i=!0}}while(i||r!==e);return e}function h(t,e,i,r,n,c,u){if(t){!u&&c&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,h,o,a,l=1;do{for(i=t,t=null,s=null,h=0;i;){for(h++,r=i,o=0,e=0;e<l&&(o++,r=r.nextZ);e++);for(a=l;o>0||a>0&&r;)0!==o&&(0===a||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,a--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,l*=2}while(h>1)}(n)}(t,r,n,c);for(var f,x,g=t;t.prev!==t.next;)if(f=t.prev,x=t.next,c?a(t,r,n,c):o(t))e.push(f.i/i),e.push(t.i/i),e.push(x.i/i),S(t),t=x.next,g=x.next;else if((t=x)===g){u?1===u?h(t=l(t,e,i),e,i,r,n,c,2):2===u&&d(t,e,i,r,n,c):h(s(t),e,i,r,n,c,1);break}}}function o(t){var e=t.prev,i=t,r=t.next;if(v(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(x(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function a(t,e,i,r){var n=t.prev,s=t,h=t.next;if(v(n,s,h)>=0)return!1;for(var o=n.x<s.x?n.x<h.x?n.x:h.x:s.x<h.x?s.x:h.x,a=n.y<s.y?n.y<h.y?n.y:h.y:s.y<h.y?s.y:h.y,l=n.x>s.x?n.x>h.x?n.x:h.x:s.x>h.x?s.x:h.x,d=n.y>s.y?n.y>h.y?n.y:h.y:s.y>h.y?s.y:h.y,c=p(o,a,e,i,r),u=p(l,d,e,i,r),f=t.nextZ;f&&f.z<=u;){if(f!==t.prev&&f!==t.next&&x(n.x,n.y,s.x,s.y,h.x,h.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&x(n.x,n.y,s.x,s.y,h.x,h.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function l(t,e,i){var r=t;do{var n=r.prev,s=r.next.next;!y(n,s)&&b(n,r,r.next,s)&&m(n,s)&&m(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),S(r),S(r.next),r=t=s),r=r.next}while(r!==t);return r}function d(t,e,i,r,n,o){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&g(a,l)){var d=C(a,l);return a=s(a,a.next),d=s(d,d.next),h(a,e,i,r,n,o),void h(d,e,i,r,n,o)}l=l.next}a=a.next}while(a!==t)}function c(t,e){return t.x-e.x}function u(t,e){if(e=function(t,e){var i,r=e,n=t.x,s=t.y,h=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var o=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>h){if(h=o,o===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===h)return i.prev;var a,l=i,d=i.x,c=i.y,u=1/0;r=i.next;for(;r!==l;)n>=r.x&&r.x>=d&&n!==r.x&&x(s<c?n:h,s,d,c,s<c?h:n,s,r.x,r.y)&&((a=Math.abs(s-r.y)/(n-r.x))<u||a===u&&r.x>i.x)&&m(r,t)&&(i=r,u=a),r=r.next;return i}(t,e)){var i=C(e,t);s(i,i.next)}}function p(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function x(t,e,i,r,n,s,h,o){return(n-h)*(e-o)-(t-h)*(s-o)>=0&&(t-h)*(r-o)-(i-h)*(e-o)>=0&&(i-h)*(s-o)-(n-h)*(r-o)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function v(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,r){return!!(y(t,e)&&y(i,r)||y(t,r)&&y(i,e))||v(t,e,i)>0!=v(t,e,r)>0&&v(i,r,t)>0!=v(i,r,e)>0}function m(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function C(t,e){var i=new w(t.i,t.x,t.y),r=new w(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function P(t,e,i,r){var n=new w(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(t,e,i,r){for(var n=0,s=e,h=i-r;s<i;s+=r)n+=(t[h]-t[s])*(t[s+1]+t[h+1]),h=s;return n}t.exports=r,r.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,h=Math.abs(_(t,0,s,i));if(n)for(var o=0,a=e.length;o<a;o++){var l=e[o]*i,d=o<a-1?e[o+1]*i:t.length;h-=Math.abs(_(t,l,d,i))}var c=0;for(o=0;o<r.length;o+=3){var u=r[o]*i,p=r[o+1]*i,f=r[o+2]*i;c+=Math.abs((t[u]-t[f])*(t[p+1]-t[u+1])-(t[u]-t[p])*(t[f+1]-t[u+1]))}return 0===h&&0===c?0:Math.abs((c-h)/h)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var h=0;h<e;h++)i.vertices.push(t[n][s][h]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}}}).default});