!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.rexuiplugin=i():t.rexuiplugin=i()}(window,function(){return function(t){var i={};function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(r,n,function(i){return t[i]}.bind(null,n));return r},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=140)}({137:function(t,i){},140:function(t,i,e){"use strict";e.r(i);class r{constructor(t){this.scene=t}static register(t,i){r.prototype[t]=i}}var n=r,s=e(18);const h=Phaser.Utils.Objects.GetValue;var o=function(t,i){return void 0===i&&(i={}),"number"==typeof t?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=h(t,"left",0),i.right=h(t,"right",0),i.top=h(t,"top",0),i.bottom=h(t,"bottom",0)),i},a=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},l=function(){if(!this.visible)return 0;var t,i,e,r=0,n=this.sizerChildren;if(0===this.orientation)for(var s=0,h=n.length;s<h;s++)(t=n[s]).visible&&(e=0===t.rexSizer.proportion?t.isRexSizer?t.childrenWidth:t.width:0,r+=e+=(i=t.rexSizer.padding).left+i.right);else for(s=0,h=n.length;s<h;s++)(t=n[s]).hasOwnProperty("rexSizer")&&t.visible&&(e=t.isRexSizer?t.childrenWidth:t.width,e+=(i=t.rexSizer.padding).left+i.right,r=Math.max(e,r));return r=Math.max(r,this.minWidth)},d=function(){if(!this.visible)return 0;var t,i,e,r=0,n=this.sizerChildren;if(0===this.orientation)for(var s=0,h=n.length;s<h;s++)(t=n[s]).visible&&(e=t.isRexSizer?t.childrenHeight:t.height,e+=(i=t.rexSizer.padding).top+i.bottom,r=Math.max(e,r));else for(s=0,h=n.length;s<h;s++)(t=n[s]).hasOwnProperty("rexSizer")&&t.visible&&(e=0===t.rexSizer.proportion?t.isRexSizer?t.childrenHeight:t.height:0,r+=e+=(i=t.rexSizer.padding).top+i.bottom);return r=Math.max(r,this.minHeight)},u=function(){for(var t,i,e=0,r=this.sizerChildren,n=0,s=r.length;n<s;n++)(t=r[n]).visible&&(i=t.rexSizer.proportion)>0&&(e+=i);return e},c=function(t){void 0===t&&(t=[]);for(var i,e=this.sizerChildren,r=0,n=e.length;r<n;r++)(i=e[r]).isRexSizer&&(t.push(i),t.push(...i.getAllChildrenSizer()));return t},p=function(t,i){return this.setSize(t,i),this.updateDisplayOrigin(),this},g=e(3),f=function(t,i,e){!t||void 0===i&&void 0===e||(t.resize?(void 0===i&&(i=t.width),void 0===e&&(e=t.height),t.resize(i,e)):(void 0!==i&&(t.displayWidth=i),void 0!==e&&(t.displayHeight=e)))};const v=Phaser.GameObjects.Zone,x=Phaser.Display.Align.In.QuickSet;var y=new v({sys:{queueDepthSort:g.a,events:{once:g.a}}},0,0,1,1);y.setOrigin(0);var b=function(t){if(!this.visible)return this;if(void 0===t)for(var i=0,e=(m=this.getAllChildrenSizer([this])).length;i<e;i++)(l=m[i])._childrenWidth=void 0,l._childrenHeight=void 0,l._childrenProportion=void 0;var r,n,s,h,o;if(t&&(this.rexSizer.expand&&(0===t.orientation?h=!0:s=!0),this.childrenProportion>0&&(0===this.orientation?s=!0:h=!0)),s){var a=this.rexSizer.padding;r=t.width-a.left-a.right}else r=this.childrenWidth;h?(a=this.rexSizer.padding,n=t.height-a.top-a.bottom):n=this.childrenHeight;this.resize(r,n),o=this.childrenProportion>0&&void 0!==t?(0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight)/this.childrenProportion:0;var l,d,u,c,p,g,v,b,m=this.sizerChildren,C=this.x-this.displayWidth*this.originX,w=this.y-this.displayHeight*this.originY,P=C,S=w;for(i=0,e=m.length;i<e;i++)if((l=m[i]).visible){if(l.isRexSizer&&l.layout(this),a=(d=l.rexSizer).padding,v=void 0,b=void 0,0===this.orientation){switch(d.proportion){case 0:u=P+a.left,P+=(p=l.width)+a.left+a.right;break;case-1:u=C+a.left,v=p=this.width-a.left-a.right;break;default:u=P+a.left,P+=(p=d.proportion*o)+a.left+a.right}c=w+a.top,g=this.height-a.top-a.bottom,d.expand&&(b=g)}else{switch(d.proportion){case 0:c=S+a.top,S+=(g=l.height)+a.top+a.bottom;break;case-1:c=w+a.top,b=g=this.height-a.top-a.bottom;break;default:c=S+a.top,S+=(g=d.proportion*o)+a.top+a.bottom}u=C+a.left,p=this.width-a.left-a.right,d.expand&&(v=p)}l.isRexSizer||f(l,v,b),y.setPosition(u,c).setSize(p,g),x(l,y,d.align),this.resetChildState(l)}return this},m=function(t,i){void 0===i&&(i=16777215);for(var e=this.getAllChildren([this]),r=0,n=e.length;r<n;r++)t.lineStyle(1,i).strokeRectShape(e[r].getBounds());return this},C={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},w={center:Phaser.Display.Align.CENTER,left:Phaser.Display.Align.LEFT_CENTER,right:Phaser.Display.Align.RIGHT_CENTER,top:Phaser.Display.Align.TOP_CENTER,bottom:Phaser.Display.Align.BOTTOM_CENTER};const P=s.a,S=Phaser.Utils.Objects.IsPlainObject,_=Phaser.Utils.Objects.GetValue,z=Phaser.Utils.Array.Remove,M=Phaser.Display.Align.CENTER;class R extends P{constructor(t,i,e,r,n,s){var h;S(i)?(i=_(h=i,"x",0),e=_(h,"y",0),r=_(h,"width",void 0),n=_(h,"height",void 0)):S(r)?(r=_(h=r,"width",void 0),n=_(h,"height",void 0)):S(s)&&(h=s),void 0!==h&&(s=_(h,"orientation",0)),super(t,i,e,2,2),this.type="rexSizer",this.isRexSizer=!0,this.sizerChildren=[],this.setOrientation(s),this.setMinWidth(r),this.setMinHeight(n)}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=C[t]),this.orientation=t,this}setExtendFlag(t){return void 0===t&&(t=!0),this.expandFlag=t,this}add(t,i,e,r,n){super.add(t);var s=typeof i;if(null===i)return this;if("number"===s);else if("string"===s)i=O[i];else if(S(i)){var h;i=_(h=i,"proportion",0),e=_(h,"align",M),r=_(h,"padding",0),n=_(h,"expand",!1)}return"string"==typeof e&&(e=w[e]),void 0===i&&(i=0),void 0===e&&(e=M),void 0===r&&(r=0),void 0===n&&(n=!1),(h=this.getSizerConfig(t)).proportion=i,h.align=e,h.padding=o(r),h.expand=n,this.sizerChildren.push(t),this}addBackground(t,i){return this.add(t,-1,void 0,i,!0),this}remove(t){return z(this.sizerChildren,t),super.remove(t),this}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get childrenProportion(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}var k={getSizerConfig:a,getChildrenWidth:l,getChildrenHeight:d,getChildrenProportion:u,getAllChildrenSizer:c,resize:p,layout:b,drawBounds:m};Object.assign(R.prototype,k);const O={min:0,full:-1};var W=R,A=e(8);n.register("sizer",function(t,i,e,r,n){return this.scene.sys.displayList.add(new W(this.scene,t,i,e,r,n))}),Object(A.a)(window,"RexPlugins.UI.Sizer",W);var X=function(){if(!this.visible)return 0;for(var t,i,e,r,n,s=0,h=this.gridChildren,o=0;o<this.columnCount;o++){if(t=0,void 0===(n=this.columnProportions[o])||0===n){for(var a=0;a<this.rowCount;a++)(i=h[a*this.columnCount+o])&&i.visible&&(r=i.isRexSizer?i.childrenWidth:i.width,r+=(e=i.rexSizer.padding).left+e.right,t=Math.max(t,r));s+=t}this.columnWidth[o]=t}return s=Math.max(s,this.minWidth)},Y=function(){if(!this.visible)return 0;for(var t,i,e,r,n,s=0,h=this.gridChildren,o=0;o<this.rowCount;o++){if(t=0,void 0===(n=this.rowProportions[o])||0===n){for(var a=0;a<this.columnCount;a++)(i=h[o*this.columnCount+a])&&i.visible&&(r=i.isRexSizer?i.childrenHeight:i.height,r+=(e=i.rexSizer.padding).top+e.bottom,t=Math.max(t,r));s+=t}this.rowHeight[o]=t}return s=Math.max(s,this.minHeight)},j=function(t){void 0===t&&(t=[]);for(var i,e=this.gridChildren,r=0,n=e.length;r<n;r++)(i=e[r])&&i.isRexSizer&&(t.push(i),t.push(...i.getAllChildrenSizer()));return t};const T=Phaser.GameObjects.Zone,F=Phaser.Display.Align.In.QuickSet;var H=new T({sys:{queueDepthSort:g.a,events:{once:g.a}}},0,0,1,1);H.setOrigin(0);var E=function(t){if(!this.visible)return this;if(void 0===t)for(var i=this.getAllChildrenSizer([this]),e=0,r=i.length;e<r;e++)(d=i[e])._childrenWidth=void 0,d._childrenHeight=void 0,d._childrenProportion=void 0;var n,s,h,o,a,l,d,u,c=this.totalColumnProportions,p=this.totalRowProportions;if(t&&(this.rexSizer.expand&&(0===t.orientation?o=!0:h=!0),c>0&&(h=!0),p>0&&(o=!0)),h){var g=this.rexSizer.padding;n=t.width-g.left-g.right}else n=this.childrenWidth;if(o){var g=this.rexSizer.padding;s=t.height-g.top-g.bottom}else s=this.childrenHeight;this.resize(n,s),a=c>0&&void 0!==t?(this.width-this.childrenWidth)/c:0;l=p>0&&void 0!==t?(this.height-this.childrenWidth)/p:0;var v,x,y,b,m,C,w=this.x-this.displayWidth*this.originX,P=w,S=this.y-this.displayHeight*this.originY;for(e=0,r=this.backgroundChildren.length;e<r;e++)(d=this.backgroundChildren[e]).visible&&(v=P+(g=(u=d.rexSizer).padding).left,x=S+g.top,y=this.width-g.left-g.right,b=this.height-g.top-g.bottom,f(d,y,b),H.setPosition(v,x).setSize(y,b),F(d,H,u.align),this.resetChildState(d));for(var _=0;_<this.rowCount;_++){P=w;for(var z=0;z<this.columnCount;z++)if(d=this.gridChildren[_*this.columnCount+z])if(d.visible){switch(d.isRexSizer&&d.layout(this),g=(u=d.rexSizer).padding,m=this.columnProportions[z],C=this.rowProportions[_],m){case 0:case void 0:v=P+g.left,y=d.width;break;default:v=P+g.left,y=m*a}switch(C){case 0:case void 0:x=S+g.top,b=d.height;break;default:x=S+g.top,b=C*l}H.setPosition(v,x).setSize(y,b),F(d,H,u.align),this.resetChildState(d),P+=this.columnWidth[z]}else P+=this.columnWidth[z];else P+=this.columnWidth[z];S+=this.rowHeight[_]}return this};const D=s.a,B=Phaser.Utils.Objects.IsPlainObject,Z=Phaser.Utils.Objects.GetValue,G=Phaser.Utils.Array.Remove,L=Phaser.Display.Align.CENTER;class U extends D{constructor(t,i,e,r,n,s,h){var o;B(i)?(i=Z(o=i,"x",0),e=Z(o,"y",0),r=Z(o,"width",void 0),n=Z(o,"height",void 0),s=Z(o,"column",0),h=Z(o,"row",0)):B(r)?(r=Z(o=r,"width",void 0),n=Z(o,"height",void 0),s=Z(o,"column",0),h=Z(o,"row",0)):B(s)&&(s=Z(o=s,"column",0),h=Z(o,"row",0)),super(t,i,e,2,2),this.type="rexGridSizer",this.isRexSizer=!0,this.initialGrid(s,h),this.setMinWidth(r),this.setMinHeight(n)}destroy(t){this.scene&&(this.gridChildren.length=0,this.backgroundChildren.length=0,super.destroy(t))}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}add(t,i,e,r,n,s){var h;(super.add(t),B(i))&&(i=Z(h=i,"column",0),e=Z(h,"row",0),r=Z(h,"align",L),n=Z(h,"padding",0),s=Z(h,"expand",!1));return"string"==typeof r&&(r=w[r]),void 0===r&&(r=L),void 0===n&&(n=0),void 0===s&&(s=!1),(h=this.getSizerConfig(t)).align=r,h.padding=o(n),h.expand=s,this.gridChildren[e*this.columnCount+i]=t,this}addBackground(t,i){super.add(t),void 0===i&&(i=0);var e=this.getSizerConfig(t);return e.align=L,e.padding=o(i),e.expand=!0,this.backgroundChildren.push(t),this}remove(t){return G(this.gridChildren,t),G(this.backgroundChildren,t),super.remove(t),this}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get totalColumnProportions(){for(var t,i=0,e=0;e<this.columnCount;e++)(t=this.columnProportions[e])>0&&(i+=t);return i}get totalRowProportions(){for(var t,i=0,e=0;e<this.rowCount;e++)(t=this.rowProportions[e])>0&&(i+=t);return i}initialGrid(t,i){return this.columnCount=t,this.rowCount=i,this.gridChildren=[],this.gridChildren.length=t*i,this.backgroundChildren=[],this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=i,this.rowHeight=[],this.rowHeight.length=i,this}}var I={getSizerConfig:a,getChildrenWidth:X,getChildrenHeight:Y,getAllChildrenSizer:j,resize:p,layout:E,drawBounds:m};Object.assign(U.prototype,I);var V=U;n.register("gridSizer",function(t,i,e,r,n,s){return this.scene.sys.displayList.add(new V(this.scene,t,i,e,r,n,s))}),Object(A.a)(window,"RexPlugins.UI.GridSizer",V);var N=e(137),q=e.n(N),Q=function(t,i){var e;for(var r in void 0===i&&(i=[]),t)void 0!==(e=t[r]).name?i.push(e):Q(e,i);return i};const J=/(\S+)\[(\d+)\]/i;var K=[],$=function(t){if("string"==typeof t&&(t=t.split(".")),0!==t.length){var i,e=t.shift();if("#"===e.charAt(0)){e=e.substring(1);for(var r=0,n=(s=Q(this.childrenMap,K)).length;r<n;r++)if(s[r].name===e){i=s[r];break}K.length=0}else if(-1===e.indexOf("["))i=this.childrenMap[e];else{var s,h=e.match(J);null!=h&&(s=this.childrenMap[h[1]])&&(i=s[h[2]])}return 0===t.length?i:i&&i.childrenMap?i.GetElement(t):null}};const tt=Phaser.Utils.Objects.GetValue;class it extends W{constructor(t,i){void 0===i&&(i=rt);var e=tt(i,"x",0),r=tt(i,"y",0),n=tt(i,"width",0),s=tt(i,"height",0);i.orientation=tt(i,"orientation",0),super(t,e,r,n,s,i),t.add.existing(this),this.setName(tt(i,"name",""));var h,o=tt(i,"background",void 0),a=tt(i,"icon",void 0),l=tt(i,"text",void 0),d=tt(i,"space.left",0),u=tt(i,"space.right",0),c=tt(i,"space.top",0),p=tt(i,"space.bottom",0),g=tt(i,"space.icon",0);(o&&this.addBackground(o),a)&&(h=0===this.orientation?{left:d,right:l?g:u,top:c,bottom:p}:{left:d,right:u,top:c,bottom:l?g:p},this.add(a,0,"center",h));l&&(h=0===this.orientation?{left:a?0:d,right:u,top:c,bottom:p}:{left:d,right:u,top:a?0:c,bottom:p},this.add(l,0,"center",h));var f=tt(i,"click",void 0);f&&this.addClickCallback(f,this),this.childrenMap={},this.childrenMap.background=o,this.childrenMap.icon=a,this.childrenMap.text=l}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var i=this.childrenMap.text;void 0!==i&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}appendText(t){this.text+=t}}var et={addClickCallback:q.a,getElement:$};Object.assign(it.prototype,et);const rt={};var nt=it;n.register("label",function(t){return new nt(this.scene,t)}),Object(A.a)(window,"RexPlugins.UI.Label",nt);const st=Phaser.Utils.Objects.GetValue;class ht extends W{constructor(t,i){void 0===i&&(i=lt);var e=st(i,"x",0),r=st(i,"y",0),n=st(i,"width",0),s=st(i,"height",0);i.orientation=1,super(t,e,r,n,s,i),t.add.existing(this);var h=st(i,"background",void 0),o=st(i,"title",void 0),a=st(i,"content",void 0),l=st(i,"buttons",void 0);l&&0===l.length&&(l=void 0);var d=st(i,"space.left",0),u=st(i,"space.right",0),c=st(i,"space.top",0),p=st(i,"space.bottom",0),g=st(i,"space.title",0),f=st(i,"space.content",0),v=st(i,"space.button",0);if(h&&this.addBackground(h),o){var x={left:d,right:u,top:c,bottom:a||l?g:p};this.add(o,0,"center",x,!0)}if(a){x={left:d,right:u,top:o?0:c,bottom:l?f:p};this.add(a,0,"center",x)}if(l){var y,b,m=st(i,"buttonsOrientation",0);if("string"==typeof m&&(m=C[m]),0===m){y=new W(t,0,0,0,0,{orientation:0});x={left:d,right:u,top:o||a?0:c,bottom:p};this.add(y,0,"center",x,!0)}else y=this;for(var w=0,P=l.length;w<P;w++){if(b=l[w],0===m){x={left:w>=1?v:0,right:0,top:0,bottom:0};y.add(b,1,"center",x,!0)}else{x={left:d,right:u,top:w>=1?v:0,bottom:w===P-1?p:0};y.add(b,0,"center",x,!0)}b.setInteractive().on("pointerdown",ot("button.click",b,w),this).on("pointerover",ot("button.over",b,w),this).on("pointerout",ot("button.out",b,w),this)}}this.childrenMap={},this.childrenMap.background=h,this.childrenMap.title=o,this.childrenMap.content=a,this.childrenMap.buttons=l}}var ot=function(t,i,e){return function(){this.emit(t,i,e)}},at={getElement:$};Object.assign(ht.prototype,at);const lt={};var dt=ht;n.register("dialog",function(t){return new dt(this.scene,t)}),Object(A.a)(window,"RexPlugins.UI.Dialog",dt);const ut=Phaser.Utils.Objects.GetValue;class ct extends V{constructor(t,i){super(t,ut(i,"x",0),ut(i,"y",0),ut(i,"width",0),ut(i,"height",0),3,3),t.add.existing(this);var e=ut(i,"background",void 0),r=ut(i,"panel",void 0),n=ut(i,"leftButtons",void 0);n&&0===n.length&&(n=void 0);var s=ut(i,"rightButtons",void 0);s&&0===s.length&&(s=void 0);var h=ut(i,"topButtons",void 0);h&&0===h.length&&(h=void 0);var o=ut(i,"bottomButtons",void 0);o&&0===o.length&&(o=void 0);var a=ut(i,"space.left",0),l=ut(i,"space.right",0),d=ut(i,"space.top",0),u=ut(i,"space.bottom",0),c=ut(i,"space.leftButtonsOffset",0),p=ut(i,"space.rightButtonsOffset",0),g=ut(i,"space.topButtonsOffset",0),f=ut(i,"space.bottomButtonsOffset",0),v=ut(i,"space.leftButton",0),x=ut(i,"space.rightButton",0),y=ut(i,"space.topButton",0),b=ut(i,"space.bottomButton",0);if(e&&this.addBackground(e),r){var m={left:n?0:a,right:s?0:l,top:h?0:d,bottom:o?0:u};this.add(r,1,1,void 0,m,!1)}if(n){var C=pt(this,n,1,v,"left");m={left:a,top:c};this.add(C,0,1,void 0,m,!1)}if(s){C=pt(this,s,1,x,"right"),m={right:l,top:p};this.add(C,2,1,void 0,m,!1)}if(h){C=pt(this,h,0,y,"top"),m={top:d,left:g};this.add(C,1,0,void 0,m,!1)}if(o){C=pt(this,o,0,b,"bottom"),m={bottom:u,left:f};this.add(C,1,2,void 0,m,!1)}this.childrenMap={},this.childrenMap.background=e,this.childrenMap.panel=r,this.childrenMap.leftButtons=n,this.childrenMap.rightButtons=s,this.childrenMap.topButtons=h,this.childrenMap.bottomButtons=o}emitButtonClick(t,i){var e=this.getElement(t+"Buttons["+i+"]");return e?(this.emit("button.click",e,t,i),this):this}}var pt=function(t,i,e,r,n){for(var s,h=t.scene,o=new W(h,{orientation:e}),a=0,l=0,d=i.length;l<d;l++)s=i[l],l>=1&&(a={left:0===e?r:0,right:0,top:1===e?r:0,bottom:0}),o.add(i[l],0,"center",a,!0),s.setInteractive().on("pointerdown",gt("button.click",s,n,l),t).on("pointerover",gt("button.over",s,n,l),t).on("pointerout",gt("button.out",s,n,l),t);return o},gt=function(t,i,e,r){return function(){this.emit(t,i,e,r)}},ft={getElement:$};Object.assign(ct.prototype,ft);var vt=ct;n.register("tabs",function(t){return new vt(this.scene,t)}),Object(A.a)(window,"RexPlugins.UI.Tabs",vt);var xt=e(41).a;n.register("roundRectangle",function(t,i,e,r,n,s,h){return this.scene.sys.displayList.add(new xt(this.scene,t,i,e,r,n,s,h))}),Object(A.a)(window,"RexPlugins.UI.RoundRectangle",xt);i.default=class extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new n(t)}}},18:function(t,i,e){"use strict";const r=Phaser.GameObjects.Zone,n=Phaser.GameObjects.Components,s=Phaser.Math.RotateAround,h=Phaser.Utils.Array;class o extends r{constructor(t,i,e,r,n,s){Array.isArray(r)&&(s=r,r=void 0),super(t,i,e,r,n),this.children=t.add.group(),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._flipX=!1,this._flipY=!1,this._alpha=1,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,s&&this.add(s)}destroy(t){this.scene&&(this.children.destroy(!0),this.children=void 0,super.destroy(t))}add(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this}addMultiple(t){return t.forEach(this._add,this),this}remove(t){return this.children.remove(t),this}clear(){return this.children.clear(),this}getChildren(){return this.children.getChildren()}getAllChildren(t){void 0===t&&(t=[]);for(var i,e=this.children.getChildren(),r=0,n=e.length;r<n;r++)i=e[r],t.push(i),i.hasOwnProperty("isRexContainerLite")&&t.push(...i.getAllChildren());return t}contains(t){if(this.children.contains(t))return!0;for(var i,e=this.children.getChildren(),r=0,n=e.length;r<n;r++)if((i=e[r]).isRexContainerLite&&i.contains(t))return!0;return!1}worldToLocal(t){return t.x-=this.x,t.y-=this.y,s(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t}localToWorld(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,s(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var i=this.getLocalState(t);return t.x=i.x,t.y=i.y,this.localToWorld(t),t.scaleX=i.scaleX*this.scaleX,t.scaleY=i.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!i.flipX:i.flipX,t.flipY=this.flipY?!i.flipY:i.flipY),t.rotation=i.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this}updateChildVisible(t){return t.visible=this.visible&&this.getLocalState(t).visible,this}updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this}updateChildMask(t){return this._mask!==t&&(t.mask=this._mask),this}updateChildScrollFactor(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this}syncPosition(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this}syncVisible(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this}syncAlpha(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this}syncMask(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this}syncScrollFactor(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncMask(),this}getLocalState(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer}resetChildState(t){var i=this.getLocalState(t);return i.x=t.x,i.y=t.y,this.worldToLocal(i),i.scaleX=a(t.scaleX,this.scaleX),i.scaleY=a(t.scaleY,this.scaleY),void 0!==t.flipX&&(i.flipX=t.flipX,i.flipY=t.flipY),i.rotation=t.rotation-this.rotation,i.alpha=a(t.alpha,this.alpha),i.visible=t.visible,this}setChildLocalPosition(t,i,e){var r=this.getLocalState(t);return r.x=i,r.y=e,this.updateChildPosition(t),this}_add(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildScrollFactor(t).updateChildMask(t),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}get visible(){return super.visible}set visible(t){this.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return this._alpha}set alpha(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}setMask(t){return this.mask=t,this}clearMask(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children.getChildren()}getByName(t){return h.GetFirst(this.list,"name",t)}getRandom(t,i){return h.GetRandom(this.list,t,i)}getFirst(t,i,e,r){return h.GetFirstElement(this.list,t,i,e,r)}getAll(t,i,e,r){return h.GetAll(this.list,t,i,e,r)}count(t,i,e,r){return h.CountAllMatching(this.list,t,i,e,r)}swap(t,i){return h.Swap(this.list,t,i),this}moveTo(t,i){return h.MoveTo(this.list,t,i),this}setAll(t,i,e,r){return h.SetAll(this.list,t,i,e,r),this}}Object.assign(o.prototype,n.Alpha,n.Flip);var a=function(t,i){return t===i?1:t/i};i.a=o},3:function(t,i,e){"use strict";i.a=function(){}},41:function(t,i,e){"use strict";const r=Phaser.Utils.Objects.GetValue;var n=function(t,i,e){return void 0===t?{x:i,y:e}:"number"==typeof t?{x:t,y:t}:t},s=class{constructor(t,i,e,r,n){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,e,r,n)}setTo(t,i,e,r,n){return this.setPosition(t,i),this.setRadius(n),this.setSize(e,r),this}setPosition(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x=t,this.y=i,this}setRadius(t){var i,e;void 0===t&&(t=0),"number"==typeof t?(i=t,e=t):(i=r(t,"x",0),e=r(t,"y",0));var s=this.cornerRadius;return s.tl=n(r(t,"tl",void 0),i,e),s.tr=n(r(t,"tr",void 0),i,e),s.bl=n(r(t,"bl",void 0),i,e),s.br=n(r(t,"br",void 0),i,e),this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}},h=function(t,i,e){var r=e.length;if(r>=2){var n=e[r-2],s=e[r-1];if(t===n&&i===s)return e}return e.push(t,i),e};const o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.DegToRad;var l=function(t,i,e,r,n,s,l,d){var u,c,p,g=o(e,"x",e),f=o(e,"y",e);s&&(n+=360),r=a(r);for(var v=((n=a(n))-r)/l,x=0;x<=l;x++)p=r+v*x,u=t+g*Math.cos(p),c=i+f*Math.sin(p),h(u,c,d);return d},d=e(87),u=e.n(d),c=e(86),p=e.n(c),g=e(85),f=e.n(g),v=function(t,i,e,r,n){var s=this.pipeline,h=s._tempMatrix1,o=s._tempMatrix2,a=s._tempMatrix3;t.setPipeline(s),o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),h.copyFrom(r.matrix),n?(h.multiplyWithOffset(n,-r.scrollX*i.scrollFactorX,-r.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y):(o.e-=r.scrollX*i.scrollFactorX,o.f-=r.scrollY*i.scrollFactorY),h.multiply(o,a);var l=i._displayOriginX,d=i._displayOriginY,u=r.alpha*i.alpha;i.isFilled&&p()(s,a,i,u,l,d),i.isStroked&&f()(s,i,u,l,d)},x=e(84),y=e.n(x),b=e(83),m=e.n(b);const C=Phaser.Renderer.Canvas.SetTransform;var w=function(t,i,e,r,n){var s=t.currentContext;if(C(t,s,i,r,n)){var h=i._displayOriginX,o=i._displayOriginY,a=i.pathData,l=a.length-1,d=a[0]-h,u=a[1]-o;s.beginPath(),s.moveTo(d,u),i.closePath||(l-=2);for(var c=2;c<l;c+=2){var p=a[c]-h,g=a[c+1]-o;s.lineTo(p,g)}s.closePath(),i.isFilled&&(y()(s,i),s.fill()),i.isStroked&&(m()(s,i),s.stroke())}},P=e(3),S=(P.a,P.a,{renderWebGL:v,renderCanvas:w});const _=Phaser.Utils.Objects.GetValue;class z extends Phaser.GameObjects.Shape{constructor(t,i,e,r,n,h,o,a){void 0===i&&(i=0),void 0===e&&(e=0);var l=_(h,"iteration",void 0);h=_(h,"radius",h),super(t,"RoundRectangle",new s(0,0,r,n,h)),this.setIteration(l),this.setPosition(i,e),void 0!==o&&this.setFillStyle(o,a),this.updateDisplayOrigin(),this.updateData()}updateData(){var t=this.geom,i=this.pathData;i.length=0;var e,r=t.cornerRadius,n=this.iteration+1;if(e=r.br,M(e)){var s=t.width-e.x,o=t.height-e.y;l(s,o,e,0,90,!1,n,i)}else h(t.width,t.height,i);if(e=r.bl,M(e)){s=e.x,o=t.height-e.y;l(s,o,e,90,180,!1,n,i)}else h(0,t.height,i);if(e=r.tl,M(e)){s=e.x,o=e.y;l(s,o,e,180,270,!1,n,i)}else h(0,0,i);if(e=r.tr,M(e)){s=t.width-e.x,o=e.y;l(s,o,e,270,360,!1,n,i)}else h(t.width,0,i);return i.push(i[0],i[1]),this.pathIndexes=u()(i),this}get width(){return this.geom.width}set width(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}get height(){return this.geom.height}set height(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}resize(t,i){return void 0===i&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.height=i,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}get iteration(){return this._iteration}set iteration(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}setRadius(t){return void 0===t&&(t=0),this.radius=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}}var M=function(t){return 0!==t.x&&0!==t.y};Object.assign(z.prototype,S);i.a=z},8:function(t,i,e){"use strict";var r=function(t){return null==t||""===t||0===t.length};i.a=function(t,i,e){if("object"==typeof t)if(r(i)){if(null==e)return;"object"==typeof e&&(t=e)}else{"string"==typeof i&&(i=i.split("."));var n=i.pop();((function(t,i,e){void 0===e&&(e={});var n=t;if(r(i));else{var s;"string"==typeof i&&(i=i.split("."));for(var h=0,o=i.length;h<o;h++){var a;null!=n[s=i[h]]&&"object"==typeof n[s]||(a=h===o-1?e:{},n[s]=a),n=n[s]}}return n})(t,i))[n]=e}}},83:function(t,i){t.exports=function(t,i){var e=i.strokeColor,r=i.strokeAlpha,n=(16711680&e)>>>16,s=(65280&e)>>>8,h=255&e;t.strokeStyle="rgba("+n+","+s+","+h+","+r+")",t.lineWidth=i.lineWidth}},84:function(t,i){t.exports=function(t,i,e){var r=e||i.fillColor,n=i.fillAlpha,s=(16711680&r)>>>16,h=(65280&r)>>>8,o=255&r;t.fillStyle="rgba("+s+","+h+","+o+","+n+")"}},85:function(t,i){const e=Phaser.Renderer.WebGL.Utils;t.exports=function(t,i,r,n,s){var h=t.strokeTint,o=e.getTintAppendFloatAlphaAndSwap(i.strokeColor,i.strokeAlpha*r);h.TL=o,h.TR=o,h.BL=o,h.BR=o;var a=i.pathData,l=a.length-1,d=i.lineWidth,u=d/2,c=a[0]-n,p=a[1]-s;i.closePath||(l-=2);for(var g=2;g<l;g+=2){var f=a[g]-n,v=a[g+1]-s;t.setTexture2D(),t.batchLine(c,p,f,v,u,u,d,g-2,!!i.closePath&&g===l-1),c=f,p=v}}},86:function(t,i){const e=Phaser.Renderer.WebGL.Utils;t.exports=function(t,i,r,n,s,h){for(var o=e.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*n),a=r.pathData,l=r.pathIndexes,d=0;d<l.length;d+=3){var u=2*l[d],c=2*l[d+1],p=2*l[d+2],g=a[u+0]-s,f=a[u+1]-h,v=a[c+0]-s,x=a[c+1]-h,y=a[p+0]-s,b=a[p+1]-h,m=i.getX(g,f),C=i.getY(g,f),w=i.getX(v,x),P=i.getY(v,x),S=i.getX(y,b),_=i.getY(y,b);t.setTexture2D(),t.batchTri(m,C,w,P,S,_,0,0,1,1,o,o,o,t.tintEffect)}}},87:function(t,i,e){"use strict";function r(t,i,e){e=e||2;var r,o,a,l,d,p,f,v=i&&i.length,x=v?i[0]*e:t.length,y=n(t,0,x,e,!0),b=[];if(!y)return b;if(v&&(y=function(t,i,e,r){var h,o,a,l,d,p=[];for(h=0,o=i.length;h<o;h++)a=i[h]*r,l=h<o-1?i[h+1]*r:t.length,(d=n(t,a,l,r,!1))===d.next&&(d.steiner=!0),p.push(g(d));for(p.sort(u),h=0;h<p.length;h++)c(p[h],e),e=s(e,e.next);return e}(t,i,y,e)),t.length>80*e){r=a=t[0],o=l=t[1];for(var m=e;m<x;m+=e)d=t[m],p=t[m+1],d<r&&(r=d),p<o&&(o=p),d>a&&(a=d),p>l&&(l=p);f=Math.max(a-r,l-o)}return h(y,b,e,r,o,f),b}function n(t,i,e,r,n){var s,h;if(n===_(t,i,e,r)>0)for(s=i;s<e;s+=r)h=w(s,t[s],t[s+1],h);else for(s=e-r;s>=i;s-=r)h=w(s,t[s],t[s+1],h);return h&&y(h,h.next)&&(P(h),h=h.next),h}function s(t,i){if(!t)return t;i||(i=t);var e,r=t;do{if(e=!1,r.steiner||!y(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(P(r),(r=i=r.prev)===r.next)return null;e=!0}}while(e||r!==i);return i}function h(t,i,e,r,n,u,c){if(t){!c&&u&&function(t,i,e,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,i,e,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var i,e,r,n,s,h,o,a,l=1;do{for(e=t,t=null,s=null,h=0;e;){for(h++,r=e,o=0,i=0;i<l&&(o++,r=r.nextZ);i++);for(a=l;o>0||a>0&&r;)0!==o&&(0===a||!r||e.z<=r.z)?(n=e,e=e.nextZ,o--):(n=r,r=r.nextZ,a--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;e=r}s.nextZ=null,l*=2}while(h>1)}(n)}(t,r,n,u);for(var g,f,v=t;t.prev!==t.next;)if(g=t.prev,f=t.next,u?a(t,r,n,u):o(t))i.push(g.i/e),i.push(t.i/e),i.push(f.i/e),P(t),t=f.next,v=f.next;else if((t=f)===v){c?1===c?h(t=l(t,i,e),i,e,r,n,u,2):2===c&&d(t,i,e,r,n,u):h(s(t),i,e,r,n,u,1);break}}}function o(t){var i=t.prev,e=t,r=t.next;if(x(i,e,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(i.x,i.y,e.x,e.y,r.x,r.y,n.x,n.y)&&x(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function a(t,i,e,r){var n=t.prev,s=t,h=t.next;if(x(n,s,h)>=0)return!1;for(var o=n.x<s.x?n.x<h.x?n.x:h.x:s.x<h.x?s.x:h.x,a=n.y<s.y?n.y<h.y?n.y:h.y:s.y<h.y?s.y:h.y,l=n.x>s.x?n.x>h.x?n.x:h.x:s.x>h.x?s.x:h.x,d=n.y>s.y?n.y>h.y?n.y:h.y:s.y>h.y?s.y:h.y,u=p(o,a,i,e,r),c=p(l,d,i,e,r),g=t.nextZ;g&&g.z<=c;){if(g!==t.prev&&g!==t.next&&f(n.x,n.y,s.x,s.y,h.x,h.y,g.x,g.y)&&x(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(g=t.prevZ;g&&g.z>=u;){if(g!==t.prev&&g!==t.next&&f(n.x,n.y,s.x,s.y,h.x,h.y,g.x,g.y)&&x(g.prev,g,g.next)>=0)return!1;g=g.prevZ}return!0}function l(t,i,e){var r=t;do{var n=r.prev,s=r.next.next;!y(n,s)&&b(n,r,r.next,s)&&m(n,s)&&m(s,n)&&(i.push(n.i/e),i.push(r.i/e),i.push(s.i/e),P(r),P(r.next),r=t=s),r=r.next}while(r!==t);return r}function d(t,i,e,r,n,o){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&v(a,l)){var d=C(a,l);return a=s(a,a.next),d=s(d,d.next),h(a,i,e,r,n,o),void h(d,i,e,r,n,o)}l=l.next}a=a.next}while(a!==t)}function u(t,i){return t.x-i.x}function c(t,i){if(i=function(t,i){var e,r=i,n=t.x,s=t.y,h=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var o=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>h){if(h=o,o===n){if(s===r.y)return r;if(s===r.next.y)return r.next}e=r.x<r.next.x?r:r.next}}r=r.next}while(r!==i);if(!e)return null;if(n===h)return e.prev;var a,l=e,d=e.x,u=e.y,c=1/0;r=e.next;for(;r!==l;)n>=r.x&&r.x>=d&&n!==r.x&&f(s<u?n:h,s,d,u,s<u?h:n,s,r.x,r.y)&&((a=Math.abs(s-r.y)/(n-r.x))<c||a===c&&r.x>e.x)&&m(r,t)&&(e=r,c=a),r=r.next;return e}(t,i)){var e=C(i,t);s(e,e.next)}}function p(t,i,e,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-e)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-r)/n)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function g(t){var i=t,e=t;do{i.x<e.x&&(e=i),i=i.next}while(i!==t);return e}function f(t,i,e,r,n,s,h,o){return(n-h)*(i-o)-(t-h)*(s-o)>=0&&(t-h)*(r-o)-(e-h)*(i-o)>=0&&(e-h)*(s-o)-(n-h)*(r-o)>=0}function v(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==i.i&&e.next.i!==i.i&&b(e,e.next,t,i))return!0;e=e.next}while(e!==t);return!1}(t,i)&&m(t,i)&&m(i,t)&&function(t,i){var e=t,r=!1,n=(t.x+i.x)/2,s=(t.y+i.y)/2;do{e.y>s!=e.next.y>s&&e.next.y!==e.y&&n<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(r=!r),e=e.next}while(e!==t);return r}(t,i)}function x(t,i,e){return(i.y-t.y)*(e.x-i.x)-(i.x-t.x)*(e.y-i.y)}function y(t,i){return t.x===i.x&&t.y===i.y}function b(t,i,e,r){return!!(y(t,i)&&y(e,r)||y(t,r)&&y(e,i))||x(t,i,e)>0!=x(t,i,r)>0&&x(e,r,t)>0!=x(e,r,i)>0}function m(t,i){return x(t.prev,t,t.next)<0?x(t,i,t.next)>=0&&x(t,t.prev,i)>=0:x(t,i,t.prev)<0||x(t,t.next,i)<0}function C(t,i){var e=new S(t.i,t.x,t.y),r=new S(i.i,i.x,i.y),n=t.next,s=i.prev;return t.next=i,i.prev=t,e.next=n,n.prev=e,r.next=e,e.prev=r,s.next=r,r.prev=s,r}function w(t,i,e,r){var n=new S(t,i,e);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,i,e){this.i=t,this.x=i,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(t,i,e,r){for(var n=0,s=i,h=e-r;s<e;s+=r)n+=(t[h]-t[s])*(t[s+1]+t[h+1]),h=s;return n}t.exports=r,r.deviation=function(t,i,e,r){var n=i&&i.length,s=n?i[0]*e:t.length,h=Math.abs(_(t,0,s,e));if(n)for(var o=0,a=i.length;o<a;o++){var l=i[o]*e,d=o<a-1?i[o+1]*e:t.length;h-=Math.abs(_(t,l,d,e))}var u=0;for(o=0;o<r.length;o+=3){var c=r[o]*e,p=r[o+1]*e,g=r[o+2]*e;u+=Math.abs((t[c]-t[g])*(t[p+1]-t[c+1])-(t[c]-t[p])*(t[g+1]-t[c+1]))}return 0===h&&0===u?0:Math.abs((u-h)/h)},r.flatten=function(t){for(var i=t[0][0].length,e={vertices:[],holes:[],dimensions:i},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var h=0;h<i;h++)e.vertices.push(t[n][s][h]);n>0&&(r+=t[n-1].length,e.holes.push(r))}return e}}}).default});